(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function Zo(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Ew(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var a=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var o=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(a,r,o.get?o:{enumerable:!0,get:function(){return i[r]}})}),a}var Nd={exports:{}},di={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function Aw(){if(ty)return di;ty=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:u}}return di.Fragment=n,di.jsx=a,di.jsxs=a,di}var ny;function jw(){return ny||(ny=1,Nd.exports=Aw()),Nd.exports}var p=jw(),Td={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function Cw(){if(ay)return be;ay=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function E(j,B,ee){this.props=j,this.context=B,this.refs=R,this.updater=ee||w}E.prototype.isReactComponent={},E.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},E.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function N(){}N.prototype=E.prototype;function U(j,B,ee){this.props=j,this.context=B,this.refs=R,this.updater=ee||w}var C=U.prototype=new N;C.constructor=U,S(C,E.prototype),C.isPureReactComponent=!0;var D=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function G(j,B,ee,Z,se,Ce){return ee=Ce.ref,{$$typeof:i,type:j,key:B,ref:ee!==void 0?ee:null,props:Ce}}function me(j,B){return G(j.type,B,void 0,void 0,void 0,j.props)}function X(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function te(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ee){return B[ee]})}var Q=/\/+/g;function pe(j,B){return typeof j=="object"&&j!==null&&j.key!=null?te(""+j.key):B.toString(36)}function qe(){}function ft(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(qe,qe):(j.status="pending",j.then(function(B){j.status==="pending"&&(j.status="fulfilled",j.value=B)},function(B){j.status==="pending"&&(j.status="rejected",j.reason=B)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ve(j,B,ee,Z,se){var Ce=typeof j;(Ce==="undefined"||Ce==="boolean")&&(j=null);var ge=!1;if(j===null)ge=!0;else switch(Ce){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(j.$$typeof){case i:case n:ge=!0;break;case y:return ge=j._init,ve(ge(j._payload),B,ee,Z,se)}}if(ge)return se=se(j),ge=Z===""?"."+pe(j,0):Z,D(se)?(ee="",ge!=null&&(ee=ge.replace(Q,"$&/")+"/"),ve(se,B,ee,"",function(Jn){return Jn})):se!=null&&(X(se)&&(se=me(se,ee+(se.key==null||j&&j.key===se.key?"":(""+se.key).replace(Q,"$&/")+"/")+ge)),B.push(se)),1;ge=0;var kt=Z===""?".":Z+":";if(D(j))for(var Be=0;Be<j.length;Be++)Z=j[Be],Ce=kt+pe(Z,Be),ge+=ve(Z,B,ee,Ce,se);else if(Be=x(j),typeof Be=="function")for(j=Be.call(j),Be=0;!(Z=j.next()).done;)Z=Z.value,Ce=kt+pe(Z,Be++),ge+=ve(Z,B,ee,Ce,se);else if(Ce==="object"){if(typeof j.then=="function")return ve(ft(j),B,ee,Z,se);throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ge}function q(j,B,ee){if(j==null)return j;var Z=[],se=0;return ve(j,Z,"","",function(Ce){return B.call(ee,Ce,se++)}),Z}function J(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(ee){(j._status===0||j._status===-1)&&(j._status=1,j._result=ee)},function(ee){(j._status===0||j._status===-1)&&(j._status=2,j._result=ee)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var V=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function oe(){}return be.Children={map:q,forEach:function(j,B,ee){q(j,function(){B.apply(this,arguments)},ee)},count:function(j){var B=0;return q(j,function(){B++}),B},toArray:function(j){return q(j,function(B){return B})||[]},only:function(j){if(!X(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},be.Component=E,be.Fragment=a,be.Profiler=o,be.PureComponent=U,be.StrictMode=r,be.Suspense=m,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,be.__COMPILER_RUNTIME={__proto__:null,c:function(j){return F.H.useMemoCache(j)}},be.cache=function(j){return function(){return j.apply(null,arguments)}},be.cloneElement=function(j,B,ee){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Z=S({},j.props),se=j.key,Ce=void 0;if(B!=null)for(ge in B.ref!==void 0&&(Ce=void 0),B.key!==void 0&&(se=""+B.key),B)!K.call(B,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&B.ref===void 0||(Z[ge]=B[ge]);var ge=arguments.length-2;if(ge===1)Z.children=ee;else if(1<ge){for(var kt=Array(ge),Be=0;Be<ge;Be++)kt[Be]=arguments[Be+2];Z.children=kt}return G(j.type,se,void 0,void 0,Ce,Z)},be.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},be.createElement=function(j,B,ee){var Z,se={},Ce=null;if(B!=null)for(Z in B.key!==void 0&&(Ce=""+B.key),B)K.call(B,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(se[Z]=B[Z]);var ge=arguments.length-2;if(ge===1)se.children=ee;else if(1<ge){for(var kt=Array(ge),Be=0;Be<ge;Be++)kt[Be]=arguments[Be+2];se.children=kt}if(j&&j.defaultProps)for(Z in ge=j.defaultProps,ge)se[Z]===void 0&&(se[Z]=ge[Z]);return G(j,Ce,void 0,void 0,null,se)},be.createRef=function(){return{current:null}},be.forwardRef=function(j){return{$$typeof:h,render:j}},be.isValidElement=X,be.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:J}},be.memo=function(j,B){return{$$typeof:g,type:j,compare:B===void 0?null:B}},be.startTransition=function(j){var B=F.T,ee={};F.T=ee;try{var Z=j(),se=F.S;se!==null&&se(ee,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(oe,V)}catch(Ce){V(Ce)}finally{F.T=B}},be.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},be.use=function(j){return F.H.use(j)},be.useActionState=function(j,B,ee){return F.H.useActionState(j,B,ee)},be.useCallback=function(j,B){return F.H.useCallback(j,B)},be.useContext=function(j){return F.H.useContext(j)},be.useDebugValue=function(){},be.useDeferredValue=function(j,B){return F.H.useDeferredValue(j,B)},be.useEffect=function(j,B,ee){var Z=F.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(j,B)},be.useId=function(){return F.H.useId()},be.useImperativeHandle=function(j,B,ee){return F.H.useImperativeHandle(j,B,ee)},be.useInsertionEffect=function(j,B){return F.H.useInsertionEffect(j,B)},be.useLayoutEffect=function(j,B){return F.H.useLayoutEffect(j,B)},be.useMemo=function(j,B){return F.H.useMemo(j,B)},be.useOptimistic=function(j,B){return F.H.useOptimistic(j,B)},be.useReducer=function(j,B,ee){return F.H.useReducer(j,B,ee)},be.useRef=function(j){return F.H.useRef(j)},be.useState=function(j){return F.H.useState(j)},be.useSyncExternalStore=function(j,B,ee){return F.H.useSyncExternalStore(j,B,ee)},be.useTransition=function(){return F.H.useTransition()},be.version="19.1.0",be}var ry;function Tf(){return ry||(ry=1,Td.exports=Cw()),Td.exports}var O=Tf();const Me=Zo(O);var Od={exports:{}},fi={},Rd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function Nw(){return sy||(sy=1,function(i){function n(q,J){var V=q.length;q.push(J);e:for(;0<V;){var oe=V-1>>>1,j=q[oe];if(0<o(j,J))q[oe]=J,q[V]=j,V=oe;else break e}}function a(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],V=q.pop();if(V!==J){q[0]=V;e:for(var oe=0,j=q.length,B=j>>>1;oe<B;){var ee=2*(oe+1)-1,Z=q[ee],se=ee+1,Ce=q[se];if(0>o(Z,V))se<j&&0>o(Ce,Z)?(q[oe]=Ce,q[se]=V,oe=se):(q[oe]=Z,q[ee]=V,oe=ee);else if(se<j&&0>o(Ce,V))q[oe]=Ce,q[se]=V,oe=se;else break e}}return J}function o(q,J){var V=q.sortIndex-J.sortIndex;return V!==0?V:q.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var m=[],g=[],y=1,v=null,x=3,w=!1,S=!1,R=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(q){for(var J=a(g);J!==null;){if(J.callback===null)r(g);else if(J.startTime<=q)r(g),J.sortIndex=J.expirationTime,n(m,J);else break;J=a(g)}}function F(q){if(R=!1,D(q),!S)if(a(m)!==null)S=!0,K||(K=!0,pe());else{var J=a(g);J!==null&&ve(F,J.startTime-q)}}var K=!1,G=-1,me=5,X=-1;function te(){return E?!0:!(i.unstable_now()-X<me)}function Q(){if(E=!1,K){var q=i.unstable_now();X=q;var J=!0;try{e:{S=!1,R&&(R=!1,U(G),G=-1),w=!0;var V=x;try{t:{for(D(q),v=a(m);v!==null&&!(v.expirationTime>q&&te());){var oe=v.callback;if(typeof oe=="function"){v.callback=null,x=v.priorityLevel;var j=oe(v.expirationTime<=q);if(q=i.unstable_now(),typeof j=="function"){v.callback=j,D(q),J=!0;break t}v===a(m)&&r(m),D(q)}else r(m);v=a(m)}if(v!==null)J=!0;else{var B=a(g);B!==null&&ve(F,B.startTime-q),J=!1}}break e}finally{v=null,x=V,w=!1}J=void 0}}finally{J?pe():K=!1}}}var pe;if(typeof C=="function")pe=function(){C(Q)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,ft=qe.port2;qe.port1.onmessage=Q,pe=function(){ft.postMessage(null)}}else pe=function(){N(Q,0)};function ve(q,J){G=N(function(){q(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(q){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var V=x;x=J;try{return q()}finally{x=V}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var V=x;x=q;try{return J()}finally{x=V}},i.unstable_scheduleCallback=function(q,J,V){var oe=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?oe+V:oe):V=oe,q){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=V+j,q={id:y++,callback:J,priorityLevel:q,startTime:V,expirationTime:j,sortIndex:-1},V>oe?(q.sortIndex=V,n(g,q),a(m)===null&&q===a(g)&&(R?(U(G),G=-1):R=!0,ve(F,V-oe))):(q.sortIndex=j,n(m,q),S||w||(S=!0,K||(K=!0,pe()))),q},i.unstable_shouldYield=te,i.unstable_wrapCallback=function(q){var J=x;return function(){var V=x;x=J;try{return q.apply(this,arguments)}finally{x=V}}}}(kd)),kd}var iy;function Tw(){return iy||(iy=1,Rd.exports=Nw()),Rd.exports}var $d={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function Ow(){if(ly)return _t;ly=1;var i=Tf();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:g,implementation:y}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_t.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(m,g,null,y)},_t.flushSync=function(m){var g=d.T,y=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=g,r.p=y,r.d.f()}},_t.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},_t.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},_t.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):y==="script"&&r.d.X(m,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_t.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},_t.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin);r.d.L(m,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_t.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=h(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},_t.requestFormReset=function(m){r.d.r(m)},_t.unstable_batchedUpdates=function(m,g){return m(g)},_t.useFormState=function(m,g,y){return d.H.useFormState(m,g,y)},_t.useFormStatus=function(){return d.H.useHostTransitionStatus()},_t.version="19.1.0",_t}var oy;function Rw(){if(oy)return $d.exports;oy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),$d.exports=Ow(),$d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function kw(){if(uy)return fi;uy=1;var i=Tw(),n=Tf(),a=Rw();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(r(188))}function m(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(r(188));return t!==e?null:e}for(var s=e,l=t;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return h(c),e;if(f===l)return h(c),t;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var b=!1,_=c.child;_;){if(_===s){b=!0,s=c,l=f;break}if(_===l){b=!0,l=c,s=f;break}_=_.sibling}if(!b){for(_=f.child;_;){if(_===s){b=!0,s=f,l=c;break}if(_===l){b=!0,l=f,s=c;break}_=_.sibling}if(!b)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Symbol.for("react.client.reference");function ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case E:return"Profiler";case R:return"StrictMode";case F:return"Suspense";case K:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case C:return(e.displayName||"Context")+".Provider";case U:return(e._context.displayName||"Context")+".Consumer";case D:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:ft(e.type)||"Memo";case me:t=e._payload,e=e._init;try{return ft(e(t))}catch{}}return null}var ve=Array.isArray,q=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},oe=[],j=-1;function B(e){return{current:e}}function ee(e){0>j||(e.current=oe[j],oe[j]=null,j--)}function Z(e,t){j++,oe[j]=e.current,e.current=t}var se=B(null),Ce=B(null),ge=B(null),kt=B(null);function Be(e,t){switch(Z(ge,t),Z(Ce,e),Z(se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Tg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Tg(t),e=Og(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(se),Z(se,e)}function Jn(){ee(se),ee(Ce),ee(ge)}function hu(e){e.memoizedState!==null&&Z(kt,e);var t=se.current,s=Og(t,e.type);t!==s&&(Z(Ce,e),Z(se,s))}function Qi(e){Ce.current===e&&(ee(se),ee(Ce)),kt.current===e&&(ee(kt),ii._currentValue=V)}var mu=Object.prototype.hasOwnProperty,pu=i.unstable_scheduleCallback,gu=i.unstable_cancelCallback,n_=i.unstable_shouldYield,a_=i.unstable_requestPaint,hn=i.unstable_now,r_=i.unstable_getCurrentPriorityLevel,uh=i.unstable_ImmediatePriority,ch=i.unstable_UserBlockingPriority,Ki=i.unstable_NormalPriority,s_=i.unstable_LowPriority,dh=i.unstable_IdlePriority,i_=i.log,l_=i.unstable_setDisableYieldValue,ms=null,$t=null;function Zn(e){if(typeof i_=="function"&&l_(e),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(ms,e)}catch{}}var Ut=Math.clz32?Math.clz32:c_,o_=Math.log,u_=Math.LN2;function c_(e){return e>>>=0,e===0?32:31-(o_(e)/u_|0)|0}var Ji=256,Zi=4194304;function Na(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wi(e,t,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?c=Na(l):(b&=_,b!==0?c=Na(b):s||(s=_&~e,s!==0&&(c=Na(s))))):(_=l&~f,_!==0?c=Na(_):b!==0?c=Na(b):s||(s=l&~e,s!==0&&(c=Na(s)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,s=t&-t,f>=s||f===32&&(s&4194048)!==0)?t:c}function ps(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function d_(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fh(){var e=Ji;return Ji<<=1,(Ji&4194048)===0&&(Ji=256),e}function hh(){var e=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),e}function yu(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function gs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function f_(e,t,s,l,c,f){var b=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,M=e.hiddenUpdates;for(s=b&~s;0<s;){var H=31-Ut(s),Y=1<<H;_[H]=0,A[H]=-1;var L=M[H];if(L!==null)for(M[H]=null,H=0;H<L.length;H++){var P=L[H];P!==null&&(P.lane&=-536870913)}s&=~Y}l!==0&&mh(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(b&~t))}function mh(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ut(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function ph(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-Ut(s),c=1<<l;c&t|e[l]&t&&(e[l]|=t),s&=~c}}function bu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gh(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Qg(e.type))}function h_(e,t){var s=J.p;try{return J.p=e,t()}finally{J.p=s}}var Wn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Wn,At="__reactProps$"+Wn,ir="__reactContainer$"+Wn,_u="__reactEvents$"+Wn,m_="__reactListeners$"+Wn,p_="__reactHandles$"+Wn,yh="__reactResources$"+Wn,ys="__reactMarker$"+Wn;function xu(e){delete e[bt],delete e[At],delete e[_u],delete e[m_],delete e[p_]}function lr(e){var t=e[bt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ir]||s[bt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Ug(e);e!==null;){if(s=e[bt])return s;e=Ug(e)}return t}e=s,s=e.parentNode}return null}function or(e){if(e=e[bt]||e[ir]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function bs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ur(e){var t=e[yh];return t||(t=e[yh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[ys]=!0}var bh=new Set,vh={};function Ta(e,t){cr(e,t),cr(e+"Capture",t)}function cr(e,t){for(vh[e]=t,e=0;e<t.length;e++)bh.add(t[e])}var g_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_h={},xh={};function y_(e){return mu.call(xh,e)?!0:mu.call(_h,e)?!1:g_.test(e)?xh[e]=!0:(_h[e]=!0,!1)}function el(e,t,s){if(y_(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function tl(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function Cn(e,t,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+l)}}var wu,wh;function dr(e){if(wu===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);wu=t&&t[1]||"",wh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wu+e+wh}var Su=!1;function Eu(e,t){if(!e||Su)return"";Su=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(P){var L=P}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(P){L=P}e.call(Y.prototype)}}else{try{throw Error()}catch(P){L=P}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(P){if(P&&L&&typeof P.stack=="string")return[P.stack,L.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),b=f[0],_=f[1];if(b&&_){var A=b.split(`
`),M=_.split(`
`);for(c=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;if(l===A.length||c===M.length)for(l=A.length-1,c=M.length-1;1<=l&&0<=c&&A[l]!==M[c];)c--;for(;1<=l&&0<=c;l--,c--)if(A[l]!==M[c]){if(l!==1||c!==1)do if(l--,c--,0>c||A[l]!==M[c]){var H=`
`+A[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=c);break}}}finally{Su=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?dr(s):""}function b_(e){switch(e.tag){case 26:case 27:case 5:return dr(e.type);case 16:return dr("Lazy");case 13:return dr("Suspense");case 19:return dr("SuspenseList");case 0:case 15:return Eu(e.type,!1);case 11:return Eu(e.type.render,!1);case 1:return Eu(e.type,!0);case 31:return dr("Activity");default:return""}}function Sh(e){try{var t="";do t+=b_(e),e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function v_(e){var t=Eh(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(b){l=""+b,f.call(this,b)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nl(e){e._valueTracker||(e._valueTracker=v_(e))}function Ah(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=Eh(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var __=/[\n"\\]/g;function Vt(e){return e.replace(__,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Au(e,t,s,l,c,f,b,_){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yt(t)):e.value!==""+Yt(t)&&(e.value=""+Yt(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?ju(e,b,Yt(t)):s!=null?ju(e,b,Yt(s)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Yt(_):e.removeAttribute("name")}function jh(e,t,s,l,c,f,b,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;s=s!=null?""+Yt(s):"",t=t!=null?""+Yt(t):s,_||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function ju(e,t,s){t==="number"&&al(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function fr(e,t,s,l){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Yt(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Ch(e,t,s){if(t!=null&&(t=""+Yt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+Yt(s):""}function Nh(e,t,s,l){if(t==null){if(l!=null){if(s!=null)throw Error(r(92));if(ve(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),t=s}s=Yt(t),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function hr(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var x_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Th(e,t,s){var l=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,s):typeof s!="number"||s===0||x_.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Oh(e,t,s){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&s[c]!==l&&Th(e,c,l)}else for(var f in t)t.hasOwnProperty(f)&&Th(e,f,t[f])}function Cu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(e){return S_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nu=null;function Tu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,pr=null;function Rh(e){var t=or(e);if(t&&(e=t.stateNode)){var s=e[At]||null;e:switch(e=t.stateNode,t.type){case"input":if(Au(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Vt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var c=l[At]||null;if(!c)throw Error(r(90));Au(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<s.length;t++)l=s[t],l.form===e.form&&Ah(l)}break e;case"textarea":Ch(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&fr(e,!!s.multiple,t,!1)}}}var Ou=!1;function kh(e,t,s){if(Ou)return e(t,s);Ou=!0;try{var l=e(t);return l}finally{if(Ou=!1,(mr!==null||pr!==null)&&(Il(),mr&&(t=mr,e=pr,pr=mr=null,Rh(t),e)))for(t=0;t<e.length;t++)Rh(e[t])}}function vs(e,t){var s=e.stateNode;if(s===null)return null;var l=s[At]||null;if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,t,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ru=!1;if(Nn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Ru=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Ru=!1}var ea=null,ku=null,sl=null;function $h(){if(sl)return sl;var e,t=ku,s=t.length,l,c="value"in ea?ea.value:ea.textContent,f=c.length;for(e=0;e<s&&t[e]===c[e];e++);var b=s-e;for(l=1;l<=b&&t[s-l]===c[f-l];l++);return sl=c.slice(e,1<l?1-l:void 0)}function il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function Uh(){return!1}function jt(e){function t(s,l,c,f,b){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ll:Uh,this.isPropagationStopped=Uh,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),t}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=jt(Oa),xs=y({},Oa,{view:0,detail:0}),E_=jt(xs),$u,Uu,ws,ul=y({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ws&&(ws&&e.type==="mousemove"?($u=e.screenX-ws.screenX,Uu=e.screenY-ws.screenY):Uu=$u=0,ws=e),$u)},movementY:function(e){return"movementY"in e?e.movementY:Uu}}),Mh=jt(ul),A_=y({},ul,{dataTransfer:0}),j_=jt(A_),C_=y({},xs,{relatedTarget:0}),Mu=jt(C_),N_=y({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),T_=jt(N_),O_=y({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R_=jt(O_),k_=y({},Oa,{data:0}),Dh=jt(k_),$_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M_[e])?!!t[e]:!1}function Du(){return D_}var L_=y({},xs,{key:function(e){if(e.key){var t=$_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(e){return e.type==="keypress"?il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z_=jt(L_),P_=y({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lh=jt(P_),q_=y({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),B_=jt(q_),H_=y({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),I_=jt(H_),F_=y({},ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G_=jt(F_),Y_=y({},Oa,{newState:0,oldState:0}),V_=jt(Y_),X_=[9,13,27,32],Lu=Nn&&"CompositionEvent"in window,Ss=null;Nn&&"documentMode"in document&&(Ss=document.documentMode);var Q_=Nn&&"TextEvent"in window&&!Ss,zh=Nn&&(!Lu||Ss&&8<Ss&&11>=Ss),Ph=" ",qh=!1;function Bh(e,t){switch(e){case"keyup":return X_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function K_(e,t){switch(e){case"compositionend":return Hh(t);case"keypress":return t.which!==32?null:(qh=!0,Ph);case"textInput":return e=t.data,e===Ph&&qh?null:e;default:return null}}function J_(e,t){if(gr)return e==="compositionend"||!Lu&&Bh(e,t)?(e=$h(),sl=ku=ea=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zh&&t.locale!=="ko"?null:t.data;default:return null}}var Z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z_[e.type]:t==="textarea"}function Fh(e,t,s,l){mr?pr?pr.push(l):pr=[l]:mr=l,t=Ql(t,"onChange"),0<t.length&&(s=new ol("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var Es=null,As=null;function W_(e){Eg(e,0)}function cl(e){var t=bs(e);if(Ah(t))return e}function Gh(e,t){if(e==="change")return t}var Yh=!1;if(Nn){var zu;if(Nn){var Pu="oninput"in document;if(!Pu){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),Pu=typeof Vh.oninput=="function"}zu=Pu}else zu=!1;Yh=zu&&(!document.documentMode||9<document.documentMode)}function Xh(){Es&&(Es.detachEvent("onpropertychange",Qh),As=Es=null)}function Qh(e){if(e.propertyName==="value"&&cl(As)){var t=[];Fh(t,As,e,Tu(e)),kh(W_,t)}}function ex(e,t,s){e==="focusin"?(Xh(),Es=t,As=s,Es.attachEvent("onpropertychange",Qh)):e==="focusout"&&Xh()}function tx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(As)}function nx(e,t){if(e==="click")return cl(t)}function ax(e,t){if(e==="input"||e==="change")return cl(t)}function rx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:rx;function js(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!mu.call(t,c)||!Mt(e[c],t[c]))return!1}return!0}function Kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jh(e,t){var s=Kh(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Kh(s)}}function Zh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=al(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=al(e.document)}return t}function qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var sx=Nn&&"documentMode"in document&&11>=document.documentMode,yr=null,Bu=null,Cs=null,Hu=!1;function em(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Hu||yr==null||yr!==al(l)||(l=yr,"selectionStart"in l&&qu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cs&&js(Cs,l)||(Cs=l,l=Ql(Bu,"onSelect"),0<l.length&&(t=new ol("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=yr)))}function Ra(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var br={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},Iu={},tm={};Nn&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function ka(e){if(Iu[e])return Iu[e];if(!br[e])return e;var t=br[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in tm)return Iu[e]=t[s];return e}var nm=ka("animationend"),am=ka("animationiteration"),rm=ka("animationstart"),ix=ka("transitionrun"),lx=ka("transitionstart"),ox=ka("transitioncancel"),sm=ka("transitionend"),im=new Map,Fu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fu.push("scrollEnd");function nn(e,t){im.set(e,t),Ta(t,[e])}var lm=new WeakMap;function Xt(e,t){if(typeof e=="object"&&e!==null){var s=lm.get(e);return s!==void 0?s:(t={value:e,source:t,stack:Sh(t)},lm.set(e,t),t)}return{value:e,source:t,stack:Sh(t)}}var Qt=[],vr=0,Gu=0;function dl(){for(var e=vr,t=Gu=vr=0;t<e;){var s=Qt[t];Qt[t++]=null;var l=Qt[t];Qt[t++]=null;var c=Qt[t];Qt[t++]=null;var f=Qt[t];if(Qt[t++]=null,l!==null&&c!==null){var b=l.pending;b===null?c.next=c:(c.next=b.next,b.next=c),l.pending=c}f!==0&&om(s,c,f)}}function fl(e,t,s,l){Qt[vr++]=e,Qt[vr++]=t,Qt[vr++]=s,Qt[vr++]=l,Gu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Yu(e,t,s,l){return fl(e,t,s,l),hl(e)}function _r(e,t){return fl(e,null,null,t),hl(e)}function om(e,t,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-Ut(s),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=s|536870912),f):null}function hl(e){if(50<Zs)throw Zs=0,Zc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var xr={};function ux(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,s,l){return new ux(e,t,s,l)}function Vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tn(e,t){var s=e.alternate;return s===null?(s=Dt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function um(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ml(e,t,s,l,c,f){var b=0;if(l=e,typeof e=="function")Vu(e)&&(b=1);else if(typeof e=="string")b=dw(e,s,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case X:return e=Dt(31,s,t,c),e.elementType=X,e.lanes=f,e;case S:return $a(s.children,c,f,t);case R:b=8,c|=24;break;case E:return e=Dt(12,s,t,c|2),e.elementType=E,e.lanes=f,e;case F:return e=Dt(13,s,t,c),e.elementType=F,e.lanes=f,e;case K:return e=Dt(19,s,t,c),e.elementType=K,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N:case C:b=10;break e;case U:b=9;break e;case D:b=11;break e;case G:b=14;break e;case me:b=16,l=null;break e}b=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=Dt(b,s,t,c),t.elementType=e,t.type=l,t.lanes=f,t}function $a(e,t,s,l){return e=Dt(7,e,l,t),e.lanes=s,e}function Xu(e,t,s){return e=Dt(6,e,null,t),e.lanes=s,e}function Qu(e,t,s){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var wr=[],Sr=0,pl=null,gl=0,Kt=[],Jt=0,Ua=null,On=1,Rn="";function Ma(e,t){wr[Sr++]=gl,wr[Sr++]=pl,pl=e,gl=t}function cm(e,t,s){Kt[Jt++]=On,Kt[Jt++]=Rn,Kt[Jt++]=Ua,Ua=e;var l=On;e=Rn;var c=32-Ut(l)-1;l&=~(1<<c),s+=1;var f=32-Ut(t)+c;if(30<f){var b=c-c%5;f=(l&(1<<b)-1).toString(32),l>>=b,c-=b,On=1<<32-Ut(t)+c|s<<c|l,Rn=f+e}else On=1<<f|s<<c|l,Rn=e}function Ku(e){e.return!==null&&(Ma(e,1),cm(e,1,0))}function Ju(e){for(;e===pl;)pl=wr[--Sr],wr[Sr]=null,gl=wr[--Sr],wr[Sr]=null;for(;e===Ua;)Ua=Kt[--Jt],Kt[Jt]=null,Rn=Kt[--Jt],Kt[Jt]=null,On=Kt[--Jt],Kt[Jt]=null}var St=null,Ye=null,Te=!1,Da=null,mn=!1,Zu=Error(r(519));function La(e){var t=Error(r(418,""));throw Os(Xt(t,e)),Zu}function dm(e){var t=e.stateNode,s=e.type,l=e.memoizedProps;switch(t[bt]=e,t[At]=l,s){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(s=0;s<ei.length;s++)Se(ei[s],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),jh(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),nl(t);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Nh(t,l.value,l.defaultValue,l.children),nl(t)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||l.suppressHydrationWarning===!0||Ng(t.textContent,s)?(l.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),l.onScroll!=null&&Se("scroll",t),l.onScrollEnd!=null&&Se("scrollend",t),l.onClick!=null&&(t.onclick=Kl),t=!0):t=!1,t||La(e)}function fm(e){for(St=e.return;St;)switch(St.tag){case 5:case 13:mn=!1;return;case 27:case 3:mn=!0;return;default:St=St.return}}function Ns(e){if(e!==St)return!1;if(!Te)return fm(e),Te=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||md(e.type,e.memoizedProps)),s=!s),s&&Ye&&La(e),fm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(t===0){Ye=rn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++;e=e.nextSibling}Ye=null}}else t===27?(t=Ye,ga(e.type)?(e=bd,bd=null,Ye=e):Ye=t):Ye=St?rn(e.stateNode.nextSibling):null;return!0}function Ts(){Ye=St=null,Te=!1}function hm(){var e=Da;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),Da=null),e}function Os(e){Da===null?Da=[e]:Da.push(e)}var Wu=B(null),za=null,kn=null;function ta(e,t,s){Z(Wu,t._currentValue),t._currentValue=s}function $n(e){e._currentValue=Wu.current,ee(Wu)}function ec(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function tc(e,t,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var b=c.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=c;for(var A=0;A<t.length;A++)if(_.context===t[A]){f.lanes|=s,_=f.alternate,_!==null&&(_.lanes|=s),ec(f.return,s,e),l||(b=null);break e}f=_.next}}else if(c.tag===18){if(b=c.return,b===null)throw Error(r(341));b.lanes|=s,f=b.alternate,f!==null&&(f.lanes|=s),ec(b,s,e),b=null}else b=c.child;if(b!==null)b.return=c;else for(b=c;b!==null;){if(b===e){b=null;break}if(c=b.sibling,c!==null){c.return=b.return,b=c;break}b=b.return}c=b}}function Rs(e,t,s,l){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var b=c.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var _=c.type;Mt(c.pendingProps.value,b.value)||(e!==null?e.push(_):e=[_])}}else if(c===kt.current){if(b=c.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ii):e=[ii])}c=c.return}e!==null&&tc(t,e,s,l),t.flags|=262144}function yl(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){za=e,kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return mm(za,e)}function bl(e,t){return za===null&&Pa(e),mm(e,t)}function mm(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},kn===null){if(e===null)throw Error(r(308));kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kn=kn.next=t;return s}var cx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},dx=i.unstable_scheduleCallback,fx=i.unstable_NormalPriority,tt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nc(){return{controller:new cx,data:new Map,refCount:0}}function ks(e){e.refCount--,e.refCount===0&&dx(fx,function(){e.controller.abort()})}var $s=null,ac=0,Er=0,Ar=null;function hx(e,t){if($s===null){var s=$s=[];ac=0,Er=sd(),Ar={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ac++,t.then(pm,pm),t}function pm(){if(--ac===0&&$s!==null){Ar!==null&&(Ar.status="fulfilled");var e=$s;$s=null,Er=0,Ar=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function mx(e,t){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<s.length;c++)(0,s[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var gm=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&hx(e,t),gm!==null&&gm(e,t)};var qa=B(null);function rc(){var e=qa.current;return e!==null?e:Le.pooledCache}function vl(e,t){t===null?Z(qa,qa.current):Z(qa,t.pool)}function ym(){var e=rc();return e===null?null:{parent:tt._currentValue,pool:e}}var Us=Error(r(460)),bm=Error(r(474)),_l=Error(r(542)),sc={then:function(){}};function vm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xl(){}function _m(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(xl,xl),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wm(e),e;default:if(typeof t.status=="string")t.then(xl,xl);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wm(e),e}throw Ms=t,Us}}var Ms=null;function xm(){if(Ms===null)throw Error(r(459));var e=Ms;return Ms=null,e}function wm(e){if(e===Us||e===_l)throw Error(r(483))}var na=!1;function ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ra(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=hl(e),om(e,null,s),t}return fl(e,l,t,s),hl(e)}function Ds(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,ph(e,s)}}function oc(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=b:f=f.next=b,s=s.next}while(s!==null);f===null?c=f=t:f=f.next=t}else c=f=t;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var uc=!1;function Ls(){if(uc){var e=Ar;if(e!==null)throw e}}function zs(e,t,s,l){uc=!1;var c=e.updateQueue;na=!1;var f=c.firstBaseUpdate,b=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var A=_,M=A.next;A.next=null,b===null?f=M:b.next=M,b=A;var H=e.alternate;H!==null&&(H=H.updateQueue,_=H.lastBaseUpdate,_!==b&&(_===null?H.firstBaseUpdate=M:_.next=M,H.lastBaseUpdate=A))}if(f!==null){var Y=c.baseState;b=0,H=M=A=null,_=f;do{var L=_.lane&-536870913,P=L!==_.lane;if(P?(je&L)===L:(l&L)===L){L!==0&&L===Er&&(uc=!0),H!==null&&(H=H.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ue=e,ie=_;L=t;var Ue=s;switch(ie.tag){case 1:if(ue=ie.payload,typeof ue=="function"){Y=ue.call(Ue,Y,L);break e}Y=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ie.payload,L=typeof ue=="function"?ue.call(Ue,Y,L):ue,L==null)break e;Y=y({},Y,L);break e;case 2:na=!0}}L=_.callback,L!==null&&(e.flags|=64,P&&(e.flags|=8192),P=c.callbacks,P===null?c.callbacks=[L]:P.push(L))}else P={lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},H===null?(M=H=P,A=Y):H=H.next=P,b|=L;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;P=_,_=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);H===null&&(A=Y),c.baseState=A,c.firstBaseUpdate=M,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),fa|=b,e.lanes=b,e.memoizedState=Y}}function Sm(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Em(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Sm(s[e],t)}var jr=B(null),wl=B(0);function Am(e,t){e=qn,Z(wl,e),Z(jr,t),qn=e|t.baseLanes}function cc(){Z(wl,qn),Z(jr,jr.current)}function dc(){qn=wl.current,ee(jr),ee(wl)}var sa=0,_e=null,ke=null,Ke=null,Sl=!1,Cr=!1,Ba=!1,El=0,Ps=0,Nr=null,px=0;function Xe(){throw Error(r(321))}function fc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Mt(e[s],t[s]))return!1;return!0}function hc(e,t,s,l,c,f){return sa=f,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?op:up,Ba=!1,f=s(l,c),Ba=!1,Cr&&(f=Cm(t,s,l,c)),jm(e),f}function jm(e){q.H=Ol;var t=ke!==null&&ke.next!==null;if(sa=0,Ke=ke=_e=null,Sl=!1,Ps=0,Nr=null,t)throw Error(r(300));e===null||it||(e=e.dependencies,e!==null&&yl(e)&&(it=!0))}function Cm(e,t,s,l){_e=e;var c=0;do{if(Cr&&(Nr=null),Ps=0,Cr=!1,25<=c)throw Error(r(301));if(c+=1,Ke=ke=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=wx,f=t(s,l)}while(Cr);return f}function gx(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?qs(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(_e.flags|=1024),t}function mc(){var e=El!==0;return El=0,e}function pc(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function gc(e){if(Sl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Sl=!1}sa=0,Ke=ke=_e=null,Cr=!1,Ps=El=0,Nr=null}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?_e.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Je(){if(ke===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Ke===null?_e.memoizedState:Ke.next;if(t!==null)Ke=t,ke=e;else{if(e===null)throw _e.alternate===null?Error(r(467)):Error(r(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ke===null?_e.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qs(e){var t=Ps;return Ps+=1,Nr===null&&(Nr=[]),e=_m(Nr,e,t),t=_e,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?op:up),e}function Al(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qs(e);if(e.$$typeof===C)return vt(e)}throw Error(r(438,String(e)))}function bc(e){var t=null,s=_e.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var l=_e.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=yc(),_e.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),l=0;l<e;l++)s[l]=te;return t.index++,s}function Un(e,t){return typeof t=="function"?t(e):t}function jl(e){var t=Je();return vc(t,ke,e)}function vc(e,t,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var b=c.next;c.next=f.next,f.next=b}t.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var _=b=null,A=null,M=t,H=!1;do{var Y=M.lane&-536870913;if(Y!==M.lane?(je&Y)===Y:(sa&Y)===Y){var L=M.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),Y===Er&&(H=!0);else if((sa&L)===L){M=M.next,L===Er&&(H=!0);continue}else Y={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},A===null?(_=A=Y,b=f):A=A.next=Y,_e.lanes|=L,fa|=L;Y=M.action,Ba&&s(f,Y),f=M.hasEagerState?M.eagerState:s(f,Y)}else L={lane:Y,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},A===null?(_=A=L,b=f):A=A.next=L,_e.lanes|=Y,fa|=Y;M=M.next}while(M!==null&&M!==t);if(A===null?b=f:A.next=_,!Mt(f,e.memoizedState)&&(it=!0,H&&(s=Ar,s!==null)))throw s;e.memoizedState=f,e.baseState=b,e.baseQueue=A,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function _c(e){var t=Je(),s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,f=t.memoizedState;if(c!==null){s.pending=null;var b=c=c.next;do f=e(f,b.action),b=b.next;while(b!==c);Mt(f,t.memoizedState)||(it=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),s.lastRenderedState=f}return[f,l]}function Nm(e,t,s){var l=_e,c=Je(),f=Te;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=t();var b=!Mt((ke||c).memoizedState,s);b&&(c.memoizedState=s,it=!0),c=c.queue;var _=Rm.bind(null,l,c,e);if(Bs(2048,8,_,[e]),c.getSnapshot!==t||b||Ke!==null&&Ke.memoizedState.tag&1){if(l.flags|=2048,Tr(9,Cl(),Om.bind(null,l,c,s,t),null),Le===null)throw Error(r(349));f||(sa&124)!==0||Tm(l,t,s)}return s}function Tm(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=_e.updateQueue,t===null?(t=yc(),_e.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Om(e,t,s,l){t.value=s,t.getSnapshot=l,km(t)&&$m(e)}function Rm(e,t,s){return s(function(){km(t)&&$m(e)})}function km(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Mt(e,s)}catch{return!0}}function $m(e){var t=_r(e,2);t!==null&&Bt(t,e,2)}function xc(e){var t=Ct();if(typeof e=="function"){var s=e;if(e=s(),Ba){Zn(!0);try{s()}finally{Zn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:e},t}function Um(e,t,s,l){return e.baseState=s,vc(e,ke,typeof l=="function"?l:Un)}function yx(e,t,s,l,c){if(Tl(e))throw Error(r(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};q.T!==null?s(!0):f.isTransition=!1,l(f),s=t.pending,s===null?(f.next=t.pending=f,Mm(t,f)):(f.next=s.next,t.pending=s.next=f)}}function Mm(e,t){var s=t.action,l=t.payload,c=e.state;if(t.isTransition){var f=q.T,b={};q.T=b;try{var _=s(c,l),A=q.S;A!==null&&A(b,_),Dm(e,t,_)}catch(M){wc(e,t,M)}finally{q.T=f}}else try{f=s(c,l),Dm(e,t,f)}catch(M){wc(e,t,M)}}function Dm(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Lm(e,t,l)},function(l){return wc(e,t,l)}):Lm(e,t,s)}function Lm(e,t,s){t.status="fulfilled",t.value=s,zm(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Mm(e,s)))}function wc(e,t,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=s,zm(t),t=t.next;while(t!==l)}e.action=null}function zm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pm(e,t){return t}function qm(e,t){if(Te){var s=Le.formState;if(s!==null){e:{var l=_e;if(Te){if(Ye){t:{for(var c=Ye,f=mn;c.nodeType!==8;){if(!f){c=null;break t}if(c=rn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ye=rn(c.nextSibling),l=c.data==="F!";break e}}La(l)}l=!1}l&&(t=s[0])}}return s=Ct(),s.memoizedState=s.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:t},s.queue=l,s=sp.bind(null,_e,l),l.dispatch=s,l=xc(!1),f=Cc.bind(null,_e,!1,l.queue),l=Ct(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,s=yx.bind(null,_e,c,f,s),c.dispatch=s,l.memoizedState=e,[t,s,!1]}function Bm(e){var t=Je();return Hm(t,ke,e)}function Hm(e,t,s){if(t=vc(e,t,Pm)[0],e=jl(Un)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=qs(t)}catch(b){throw b===Us?_l:b}else l=t;t=Je();var c=t.queue,f=c.dispatch;return s!==t.memoizedState&&(_e.flags|=2048,Tr(9,Cl(),bx.bind(null,c,s),null)),[l,f,e]}function bx(e,t){e.action=t}function Im(e){var t=Je(),s=ke;if(s!==null)return Hm(t,s,e);Je(),t=t.memoizedState,s=Je();var l=s.queue.dispatch;return s.memoizedState=e,[t,l,!1]}function Tr(e,t,s,l){return e={tag:e,create:s,deps:l,inst:t,next:null},t=_e.updateQueue,t===null&&(t=yc(),_e.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e),e}function Cl(){return{destroy:void 0,resource:void 0}}function Fm(){return Je().memoizedState}function Nl(e,t,s,l){var c=Ct();l=l===void 0?null:l,_e.flags|=e,c.memoizedState=Tr(1|t,Cl(),s,l)}function Bs(e,t,s,l){var c=Je();l=l===void 0?null:l;var f=c.memoizedState.inst;ke!==null&&l!==null&&fc(l,ke.memoizedState.deps)?c.memoizedState=Tr(t,f,s,l):(_e.flags|=e,c.memoizedState=Tr(1|t,f,s,l))}function Gm(e,t){Nl(8390656,8,e,t)}function Ym(e,t){Bs(2048,8,e,t)}function Vm(e,t){return Bs(4,2,e,t)}function Xm(e,t){return Bs(4,4,e,t)}function Qm(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Km(e,t,s){s=s!=null?s.concat([e]):null,Bs(4,4,Qm.bind(null,t,e),s)}function Sc(){}function Jm(e,t){var s=Je();t=t===void 0?null:t;var l=s.memoizedState;return t!==null&&fc(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function Zm(e,t){var s=Je();t=t===void 0?null:t;var l=s.memoizedState;if(t!==null&&fc(t,l[1]))return l[0];if(l=e(),Ba){Zn(!0);try{e()}finally{Zn(!1)}}return s.memoizedState=[l,t],l}function Ec(e,t,s){return s===void 0||(sa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=s,e=tg(),_e.lanes|=e,fa|=e,s)}function Wm(e,t,s,l){return Mt(s,t)?s:jr.current!==null?(e=Ec(e,s,l),Mt(e,t)||(it=!0),e):(sa&42)===0?(it=!0,e.memoizedState=s):(e=tg(),_e.lanes|=e,fa|=e,t)}function ep(e,t,s,l,c){var f=J.p;J.p=f!==0&&8>f?f:8;var b=q.T,_={};q.T=_,Cc(e,!1,t,s);try{var A=c(),M=q.S;if(M!==null&&M(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=mx(A,l);Hs(e,t,H,qt(e))}else Hs(e,t,l,qt(e))}catch(Y){Hs(e,t,{then:function(){},status:"rejected",reason:Y},qt())}finally{J.p=f,q.T=b}}function vx(){}function Ac(e,t,s,l){if(e.tag!==5)throw Error(r(476));var c=tp(e).queue;ep(e,c,t,V,s===null?vx:function(){return np(e),s(l)})}function tp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:V},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function np(e){var t=tp(e).next.queue;Hs(e,t,{},qt())}function jc(){return vt(ii)}function ap(){return Je().memoizedState}function rp(){return Je().memoizedState}function _x(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=qt();e=aa(s);var l=ra(t,e,s);l!==null&&(Bt(l,t,s),Ds(l,t,s)),t={cache:nc()},e.payload=t;return}t=t.return}}function xx(e,t,s){var l=qt();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Tl(e)?ip(t,s):(s=Yu(e,t,s,l),s!==null&&(Bt(s,e,l),lp(s,t,l)))}function sp(e,t,s){var l=qt();Hs(e,t,s,l)}function Hs(e,t,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Tl(e))ip(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var b=t.lastRenderedState,_=f(b,s);if(c.hasEagerState=!0,c.eagerState=_,Mt(_,b))return fl(e,t,c,0),Le===null&&dl(),!1}catch{}finally{}if(s=Yu(e,t,c,l),s!==null)return Bt(s,e,l),lp(s,t,l),!0}return!1}function Cc(e,t,s,l){if(l={lane:2,revertLane:sd(),action:l,hasEagerState:!1,eagerState:null,next:null},Tl(e)){if(t)throw Error(r(479))}else t=Yu(e,s,l,2),t!==null&&Bt(t,e,2)}function Tl(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function ip(e,t){Cr=Sl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function lp(e,t,s){if((s&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,ph(e,s)}}var Ol={readContext:vt,use:Al,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe},op={readContext:vt,use:Al,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Gm,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Nl(4194308,4,Qm.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Nl(4194308,4,e,t)},useInsertionEffect:function(e,t){Nl(4,2,e,t)},useMemo:function(e,t){var s=Ct();t=t===void 0?null:t;var l=e();if(Ba){Zn(!0);try{e()}finally{Zn(!1)}}return s.memoizedState=[l,t],l},useReducer:function(e,t,s){var l=Ct();if(s!==void 0){var c=s(t);if(Ba){Zn(!0);try{s(t)}finally{Zn(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=xx.bind(null,_e,e),[l.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:function(e){e=xc(e);var t=e.queue,s=sp.bind(null,_e,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Sc,useDeferredValue:function(e,t){var s=Ct();return Ec(s,e,t)},useTransition:function(){var e=xc(!1);return e=ep.bind(null,_e,e.queue,!0,!1),Ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var l=_e,c=Ct();if(Te){if(s===void 0)throw Error(r(407));s=s()}else{if(s=t(),Le===null)throw Error(r(349));(je&124)!==0||Tm(l,t,s)}c.memoizedState=s;var f={value:s,getSnapshot:t};return c.queue=f,Gm(Rm.bind(null,l,f,e),[e]),l.flags|=2048,Tr(9,Cl(),Om.bind(null,l,f,s,t),null),s},useId:function(){var e=Ct(),t=Le.identifierPrefix;if(Te){var s=Rn,l=On;s=(l&~(1<<32-Ut(l)-1)).toString(32)+s,t="«"+t+"R"+s,s=El++,0<s&&(t+="H"+s.toString(32)),t+="»"}else s=px++,t="«"+t+"r"+s.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:jc,useFormState:qm,useActionState:qm,useOptimistic:function(e){var t=Ct();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Cc.bind(null,_e,!0,s),s.dispatch=t,[e,t]},useMemoCache:bc,useCacheRefresh:function(){return Ct().memoizedState=_x.bind(null,_e)}},up={readContext:vt,use:Al,useCallback:Jm,useContext:vt,useEffect:Ym,useImperativeHandle:Km,useInsertionEffect:Vm,useLayoutEffect:Xm,useMemo:Zm,useReducer:jl,useRef:Fm,useState:function(){return jl(Un)},useDebugValue:Sc,useDeferredValue:function(e,t){var s=Je();return Wm(s,ke.memoizedState,e,t)},useTransition:function(){var e=jl(Un)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:qs(e),t]},useSyncExternalStore:Nm,useId:ap,useHostTransitionStatus:jc,useFormState:Bm,useActionState:Bm,useOptimistic:function(e,t){var s=Je();return Um(s,ke,e,t)},useMemoCache:bc,useCacheRefresh:rp},wx={readContext:vt,use:Al,useCallback:Jm,useContext:vt,useEffect:Ym,useImperativeHandle:Km,useInsertionEffect:Vm,useLayoutEffect:Xm,useMemo:Zm,useReducer:_c,useRef:Fm,useState:function(){return _c(Un)},useDebugValue:Sc,useDeferredValue:function(e,t){var s=Je();return ke===null?Ec(s,e,t):Wm(s,ke.memoizedState,e,t)},useTransition:function(){var e=_c(Un)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:qs(e),t]},useSyncExternalStore:Nm,useId:ap,useHostTransitionStatus:jc,useFormState:Im,useActionState:Im,useOptimistic:function(e,t){var s=Je();return ke!==null?Um(s,ke,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:bc,useCacheRefresh:rp},Or=null,Is=0;function Rl(e){var t=Is;return Is+=1,Or===null&&(Or=[]),_m(Or,e,t)}function Fs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function kl(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function cp(e){var t=e._init;return t(e._payload)}function dp(e){function t(k,T){if(e){var $=k.deletions;$===null?(k.deletions=[T],k.flags|=16):$.push(T)}}function s(k,T){if(!e)return null;for(;T!==null;)t(k,T),T=T.sibling;return null}function l(k){for(var T=new Map;k!==null;)k.key!==null?T.set(k.key,k):T.set(k.index,k),k=k.sibling;return T}function c(k,T){return k=Tn(k,T),k.index=0,k.sibling=null,k}function f(k,T,$){return k.index=$,e?($=k.alternate,$!==null?($=$.index,$<T?(k.flags|=67108866,T):$):(k.flags|=67108866,T)):(k.flags|=1048576,T)}function b(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function _(k,T,$,I){return T===null||T.tag!==6?(T=Xu($,k.mode,I),T.return=k,T):(T=c(T,$),T.return=k,T)}function A(k,T,$,I){var ne=$.type;return ne===S?H(k,T,$.props.children,I,$.key):T!==null&&(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===me&&cp(ne)===T.type)?(T=c(T,$.props),Fs(T,$),T.return=k,T):(T=ml($.type,$.key,$.props,null,k.mode,I),Fs(T,$),T.return=k,T)}function M(k,T,$,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==$.containerInfo||T.stateNode.implementation!==$.implementation?(T=Qu($,k.mode,I),T.return=k,T):(T=c(T,$.children||[]),T.return=k,T)}function H(k,T,$,I,ne){return T===null||T.tag!==7?(T=$a($,k.mode,I,ne),T.return=k,T):(T=c(T,$),T.return=k,T)}function Y(k,T,$){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Xu(""+T,k.mode,$),T.return=k,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case x:return $=ml(T.type,T.key,T.props,null,k.mode,$),Fs($,T),$.return=k,$;case w:return T=Qu(T,k.mode,$),T.return=k,T;case me:var I=T._init;return T=I(T._payload),Y(k,T,$)}if(ve(T)||pe(T))return T=$a(T,k.mode,$,null),T.return=k,T;if(typeof T.then=="function")return Y(k,Rl(T),$);if(T.$$typeof===C)return Y(k,bl(k,T),$);kl(k,T)}return null}function L(k,T,$,I){var ne=T!==null?T.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ne!==null?null:_(k,T,""+$,I);if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return $.key===ne?A(k,T,$,I):null;case w:return $.key===ne?M(k,T,$,I):null;case me:return ne=$._init,$=ne($._payload),L(k,T,$,I)}if(ve($)||pe($))return ne!==null?null:H(k,T,$,I,null);if(typeof $.then=="function")return L(k,T,Rl($),I);if($.$$typeof===C)return L(k,T,bl(k,$),I);kl(k,$)}return null}function P(k,T,$,I,ne){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return k=k.get($)||null,_(T,k,""+I,ne);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return k=k.get(I.key===null?$:I.key)||null,A(T,k,I,ne);case w:return k=k.get(I.key===null?$:I.key)||null,M(T,k,I,ne);case me:var xe=I._init;return I=xe(I._payload),P(k,T,$,I,ne)}if(ve(I)||pe(I))return k=k.get($)||null,H(T,k,I,ne,null);if(typeof I.then=="function")return P(k,T,$,Rl(I),ne);if(I.$$typeof===C)return P(k,T,$,bl(T,I),ne);kl(T,I)}return null}function ue(k,T,$,I){for(var ne=null,xe=null,ae=T,le=T=0,ot=null;ae!==null&&le<$.length;le++){ae.index>le?(ot=ae,ae=null):ot=ae.sibling;var Ne=L(k,ae,$[le],I);if(Ne===null){ae===null&&(ae=ot);break}e&&ae&&Ne.alternate===null&&t(k,ae),T=f(Ne,T,le),xe===null?ne=Ne:xe.sibling=Ne,xe=Ne,ae=ot}if(le===$.length)return s(k,ae),Te&&Ma(k,le),ne;if(ae===null){for(;le<$.length;le++)ae=Y(k,$[le],I),ae!==null&&(T=f(ae,T,le),xe===null?ne=ae:xe.sibling=ae,xe=ae);return Te&&Ma(k,le),ne}for(ae=l(ae);le<$.length;le++)ot=P(ae,k,le,$[le],I),ot!==null&&(e&&ot.alternate!==null&&ae.delete(ot.key===null?le:ot.key),T=f(ot,T,le),xe===null?ne=ot:xe.sibling=ot,xe=ot);return e&&ae.forEach(function(xa){return t(k,xa)}),Te&&Ma(k,le),ne}function ie(k,T,$,I){if($==null)throw Error(r(151));for(var ne=null,xe=null,ae=T,le=T=0,ot=null,Ne=$.next();ae!==null&&!Ne.done;le++,Ne=$.next()){ae.index>le?(ot=ae,ae=null):ot=ae.sibling;var xa=L(k,ae,Ne.value,I);if(xa===null){ae===null&&(ae=ot);break}e&&ae&&xa.alternate===null&&t(k,ae),T=f(xa,T,le),xe===null?ne=xa:xe.sibling=xa,xe=xa,ae=ot}if(Ne.done)return s(k,ae),Te&&Ma(k,le),ne;if(ae===null){for(;!Ne.done;le++,Ne=$.next())Ne=Y(k,Ne.value,I),Ne!==null&&(T=f(Ne,T,le),xe===null?ne=Ne:xe.sibling=Ne,xe=Ne);return Te&&Ma(k,le),ne}for(ae=l(ae);!Ne.done;le++,Ne=$.next())Ne=P(ae,k,le,Ne.value,I),Ne!==null&&(e&&Ne.alternate!==null&&ae.delete(Ne.key===null?le:Ne.key),T=f(Ne,T,le),xe===null?ne=Ne:xe.sibling=Ne,xe=Ne);return e&&ae.forEach(function(Sw){return t(k,Sw)}),Te&&Ma(k,le),ne}function Ue(k,T,$,I){if(typeof $=="object"&&$!==null&&$.type===S&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case x:e:{for(var ne=$.key;T!==null;){if(T.key===ne){if(ne=$.type,ne===S){if(T.tag===7){s(k,T.sibling),I=c(T,$.props.children),I.return=k,k=I;break e}}else if(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===me&&cp(ne)===T.type){s(k,T.sibling),I=c(T,$.props),Fs(I,$),I.return=k,k=I;break e}s(k,T);break}else t(k,T);T=T.sibling}$.type===S?(I=$a($.props.children,k.mode,I,$.key),I.return=k,k=I):(I=ml($.type,$.key,$.props,null,k.mode,I),Fs(I,$),I.return=k,k=I)}return b(k);case w:e:{for(ne=$.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===$.containerInfo&&T.stateNode.implementation===$.implementation){s(k,T.sibling),I=c(T,$.children||[]),I.return=k,k=I;break e}else{s(k,T);break}else t(k,T);T=T.sibling}I=Qu($,k.mode,I),I.return=k,k=I}return b(k);case me:return ne=$._init,$=ne($._payload),Ue(k,T,$,I)}if(ve($))return ue(k,T,$,I);if(pe($)){if(ne=pe($),typeof ne!="function")throw Error(r(150));return $=ne.call($),ie(k,T,$,I)}if(typeof $.then=="function")return Ue(k,T,Rl($),I);if($.$$typeof===C)return Ue(k,T,bl(k,$),I);kl(k,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,T!==null&&T.tag===6?(s(k,T.sibling),I=c(T,$),I.return=k,k=I):(s(k,T),I=Xu($,k.mode,I),I.return=k,k=I),b(k)):s(k,T)}return function(k,T,$,I){try{Is=0;var ne=Ue(k,T,$,I);return Or=null,ne}catch(ae){if(ae===Us||ae===_l)throw ae;var xe=Dt(29,ae,null,k.mode);return xe.lanes=I,xe.return=k,xe}finally{}}}var Rr=dp(!0),fp=dp(!1),Zt=B(null),pn=null;function ia(e){var t=e.alternate;Z(nt,nt.current&1),Z(Zt,e),pn===null&&(t===null||jr.current!==null||t.memoizedState!==null)&&(pn=e)}function hp(e){if(e.tag===22){if(Z(nt,nt.current),Z(Zt,e),pn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(pn=e)}}else la()}function la(){Z(nt,nt.current),Z(Zt,Zt.current)}function Mn(e){ee(Zt),pn===e&&(pn=null),ee(nt)}var nt=B(0);function $l(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||yd(s)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Nc(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:y({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tc={enqueueSetState:function(e,t,s){e=e._reactInternals;var l=qt(),c=aa(l);c.payload=t,s!=null&&(c.callback=s),t=ra(e,c,l),t!==null&&(Bt(t,e,l),Ds(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=qt(),c=aa(l);c.tag=1,c.payload=t,s!=null&&(c.callback=s),t=ra(e,c,l),t!==null&&(Bt(t,e,l),Ds(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=qt(),l=aa(s);l.tag=2,t!=null&&(l.callback=t),t=ra(e,l,s),t!==null&&(Bt(t,e,s),Ds(t,e,s))}};function mp(e,t,s,l,c,f,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,b):t.prototype&&t.prototype.isPureReactComponent?!js(s,l)||!js(c,f):!0}function pp(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&Tc.enqueueReplaceState(t,t.state,null)}function Ha(e,t){var s=t;if("ref"in t){s={};for(var l in t)l!=="ref"&&(s[l]=t[l])}if(e=e.defaultProps){s===t&&(s=y({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}var Ul=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function gp(e){Ul(e)}function yp(e){console.error(e)}function bp(e){Ul(e)}function Ml(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function vp(e,t,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Oc(e,t,s){return s=aa(s),s.tag=3,s.payload={element:null},s.callback=function(){Ml(e,t)},s}function _p(e){return e=aa(e),e.tag=3,e}function xp(e,t,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){vp(t,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){vp(t,s,l),typeof c!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function Sx(e,t,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=s.alternate,t!==null&&Rs(t,s,c,!0),s=Zt.current,s!==null){switch(s.tag){case 13:return pn===null?ed():s.alternate===null&&Ve===0&&(Ve=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===sc?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([l]):t.add(l),nd(e,l,c)),!1;case 22:return s.flags|=65536,l===sc?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([l]):s.add(l)),nd(e,l,c)),!1}throw Error(r(435,s.tag))}return nd(e,l,c),ed(),!1}if(Te)return t=Zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Zu&&(e=Error(r(422),{cause:l}),Os(Xt(e,s)))):(l!==Zu&&(t=Error(r(423),{cause:l}),Os(Xt(t,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Xt(l,s),c=Oc(e.stateNode,l,c),oc(e,c),Ve!==4&&(Ve=2)),!1;var f=Error(r(520),{cause:l});if(f=Xt(f,s),Js===null?Js=[f]:Js.push(f),Ve!==4&&(Ve=2),t===null)return!0;l=Xt(l,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Oc(s.stateNode,l,e),oc(s,e),!1;case 1:if(t=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ha===null||!ha.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=_p(c),xp(c,e,s,l),oc(s,c),!1}s=s.return}while(s!==null);return!1}var wp=Error(r(461)),it=!1;function ht(e,t,s,l){t.child=e===null?fp(t,null,s,l):Rr(t,e.child,s,l)}function Sp(e,t,s,l,c){s=s.render;var f=t.ref;if("ref"in l){var b={};for(var _ in l)_!=="ref"&&(b[_]=l[_])}else b=l;return Pa(t),l=hc(e,t,s,b,f,c),_=mc(),e!==null&&!it?(pc(e,t,c),Dn(e,t,c)):(Te&&_&&Ku(t),t.flags|=1,ht(e,t,l,c),t.child)}function Ep(e,t,s,l,c){if(e===null){var f=s.type;return typeof f=="function"&&!Vu(f)&&f.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=f,Ap(e,t,f,l,c)):(e=ml(s.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!zc(e,c)){var b=f.memoizedProps;if(s=s.compare,s=s!==null?s:js,s(b,l)&&e.ref===t.ref)return Dn(e,t,c)}return t.flags|=1,e=Tn(f,l),e.ref=t.ref,e.return=t,t.child=e}function Ap(e,t,s,l,c){if(e!==null){var f=e.memoizedProps;if(js(f,l)&&e.ref===t.ref)if(it=!1,t.pendingProps=l=f,zc(e,c))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,Dn(e,t,c)}return Rc(e,t,s,l,c)}function jp(e,t,s){var l=t.pendingProps,c=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,e!==null){for(c=t.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;t.childLanes=f&~l}else t.childLanes=0,t.child=null;return Cp(e,t,l,s)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vl(t,f!==null?f.cachePool:null),f!==null?Am(t,f):cc(),hp(t);else return t.lanes=t.childLanes=536870912,Cp(e,t,f!==null?f.baseLanes|s:s,s)}else f!==null?(vl(t,f.cachePool),Am(t,f),la(),t.memoizedState=null):(e!==null&&vl(t,null),cc(),la());return ht(e,t,c,s),t.child}function Cp(e,t,s,l){var c=rc();return c=c===null?null:{parent:tt._currentValue,pool:c},t.memoizedState={baseLanes:s,cachePool:c},e!==null&&vl(t,null),cc(),hp(t),e!==null&&Rs(e,t,l,!0),null}function Dl(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Rc(e,t,s,l,c){return Pa(t),s=hc(e,t,s,l,void 0,c),l=mc(),e!==null&&!it?(pc(e,t,c),Dn(e,t,c)):(Te&&l&&Ku(t),t.flags|=1,ht(e,t,s,c),t.child)}function Np(e,t,s,l,c,f){return Pa(t),t.updateQueue=null,s=Cm(t,l,s,c),jm(e),l=mc(),e!==null&&!it?(pc(e,t,f),Dn(e,t,f)):(Te&&l&&Ku(t),t.flags|=1,ht(e,t,s,f),t.child)}function Tp(e,t,s,l,c){if(Pa(t),t.stateNode===null){var f=xr,b=s.contextType;typeof b=="object"&&b!==null&&(f=vt(b)),f=new s(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},ic(t),b=s.contextType,f.context=typeof b=="object"&&b!==null?vt(b):xr,f.state=t.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Nc(t,s,b,l),f.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&Tc.enqueueReplaceState(f,f.state,null),zs(t,l,f,c),Ls(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var _=t.memoizedProps,A=Ha(s,_);f.props=A;var M=f.context,H=s.contextType;b=xr,typeof H=="object"&&H!==null&&(b=vt(H));var Y=s.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||M!==b)&&pp(t,f,l,b),na=!1;var L=t.memoizedState;f.state=L,zs(t,l,f,c),Ls(),M=t.memoizedState,_||L!==M||na?(typeof Y=="function"&&(Nc(t,s,Y,l),M=t.memoizedState),(A=na||mp(t,s,A,l,L,M,b))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=M),f.props=l,f.state=M,f.context=b,l=A):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,lc(e,t),b=t.memoizedProps,H=Ha(s,b),f.props=H,Y=t.pendingProps,L=f.context,M=s.contextType,A=xr,typeof M=="object"&&M!==null&&(A=vt(M)),_=s.getDerivedStateFromProps,(M=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==Y||L!==A)&&pp(t,f,l,A),na=!1,L=t.memoizedState,f.state=L,zs(t,l,f,c),Ls();var P=t.memoizedState;b!==Y||L!==P||na||e!==null&&e.dependencies!==null&&yl(e.dependencies)?(typeof _=="function"&&(Nc(t,s,_,l),P=t.memoizedState),(H=na||mp(t,s,H,l,L,P,A)||e!==null&&e.dependencies!==null&&yl(e.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,P,A),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,P,A)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=P),f.props=l,f.state=P,f.context=A,l=H):(typeof f.componentDidUpdate!="function"||b===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,Dl(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=Rr(t,e.child,null,c),t.child=Rr(t,null,s,c)):ht(e,t,s,c),t.memoizedState=f.state,e=t.child):e=Dn(e,t,c),e}function Op(e,t,s,l){return Ts(),t.flags|=256,ht(e,t,s,l),t.child}var kc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $c(e){return{baseLanes:e,cachePool:ym()}}function Uc(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Wt),e}function Rp(e,t,s){var l=t.pendingProps,c=!1,f=(t.flags&128)!==0,b;if((b=f)||(b=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),b&&(c=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(Te){if(c?ia(t):la(),Te){var _=Ye,A;if(A=_){e:{for(A=_,_=mn;A.nodeType!==8;){if(!_){_=null;break e}if(A=rn(A.nextSibling),A===null){_=null;break e}}_=A}_!==null?(t.memoizedState={dehydrated:_,treeContext:Ua!==null?{id:On,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},A=Dt(18,null,null,0),A.stateNode=_,A.return=t,t.child=A,St=t,Ye=null,A=!0):A=!1}A||La(t)}if(_=t.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return yd(_)?t.lanes=32:t.lanes=536870912,null;Mn(t)}return _=l.children,l=l.fallback,c?(la(),c=t.mode,_=Ll({mode:"hidden",children:_},c),l=$a(l,c,s,null),_.return=t,l.return=t,_.sibling=l,t.child=_,c=t.child,c.memoizedState=$c(s),c.childLanes=Uc(e,b,s),t.memoizedState=kc,l):(ia(t),Mc(t,_))}if(A=e.memoizedState,A!==null&&(_=A.dehydrated,_!==null)){if(f)t.flags&256?(ia(t),t.flags&=-257,t=Dc(e,t,s)):t.memoizedState!==null?(la(),t.child=e.child,t.flags|=128,t=null):(la(),c=l.fallback,_=t.mode,l=Ll({mode:"visible",children:l.children},_),c=$a(c,_,s,null),c.flags|=2,l.return=t,c.return=t,l.sibling=c,t.child=l,Rr(t,e.child,null,s),l=t.child,l.memoizedState=$c(s),l.childLanes=Uc(e,b,s),t.memoizedState=kc,t=c);else if(ia(t),yd(_)){if(b=_.nextSibling&&_.nextSibling.dataset,b)var M=b.dgst;b=M,l=Error(r(419)),l.stack="",l.digest=b,Os({value:l,source:null,stack:null}),t=Dc(e,t,s)}else if(it||Rs(e,t,s,!1),b=(s&e.childLanes)!==0,it||b){if(b=Le,b!==null&&(l=s&-s,l=(l&42)!==0?1:bu(l),l=(l&(b.suspendedLanes|s))!==0?0:l,l!==0&&l!==A.retryLane))throw A.retryLane=l,_r(e,l),Bt(b,e,l),wp;_.data==="$?"||ed(),t=Dc(e,t,s)}else _.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,Ye=rn(_.nextSibling),St=t,Te=!0,Da=null,mn=!1,e!==null&&(Kt[Jt++]=On,Kt[Jt++]=Rn,Kt[Jt++]=Ua,On=e.id,Rn=e.overflow,Ua=t),t=Mc(t,l.children),t.flags|=4096);return t}return c?(la(),c=l.fallback,_=t.mode,A=e.child,M=A.sibling,l=Tn(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,M!==null?c=Tn(M,c):(c=$a(c,_,s,null),c.flags|=2),c.return=t,l.return=t,l.sibling=c,t.child=l,l=c,c=t.child,_=e.child.memoizedState,_===null?_=$c(s):(A=_.cachePool,A!==null?(M=tt._currentValue,A=A.parent!==M?{parent:M,pool:M}:A):A=ym(),_={baseLanes:_.baseLanes|s,cachePool:A}),c.memoizedState=_,c.childLanes=Uc(e,b,s),t.memoizedState=kc,l):(ia(t),s=e.child,e=s.sibling,s=Tn(s,{mode:"visible",children:l.children}),s.return=t,s.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=s,t.memoizedState=null,s)}function Mc(e,t){return t=Ll({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ll(e,t){return e=Dt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Dc(e,t,s){return Rr(t,e.child,null,s),e=Mc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kp(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),ec(e.return,t,s)}function Lc(e,t,s,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function $p(e,t,s){var l=t.pendingProps,c=l.revealOrder,f=l.tail;if(ht(e,t,l.children,s),l=nt.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,s,t);else if(e.tag===19)kp(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Z(nt,l),c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&$l(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),Lc(t,!1,c,s,f);break;case"backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&$l(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Lc(t,!0,s,null,f);break;case"together":Lc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),fa|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(Rs(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,s=Tn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Tn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function zc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&yl(e)))}function Ex(e,t,s){switch(t.tag){case 3:Be(t,t.stateNode.containerInfo),ta(t,tt,e.memoizedState.cache),Ts();break;case 27:case 5:hu(t);break;case 4:Be(t,t.stateNode.containerInfo);break;case 10:ta(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ia(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Rp(e,t,s):(ia(t),e=Dn(e,t,s),e!==null?e.sibling:null);ia(t);break;case 19:var c=(e.flags&128)!==0;if(l=(s&t.childLanes)!==0,l||(Rs(e,t,s,!1),l=(s&t.childLanes)!==0),c){if(l)return $p(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Z(nt,nt.current),l)break;return null;case 22:case 23:return t.lanes=0,jp(e,t,s);case 24:ta(t,tt,e.memoizedState.cache)}return Dn(e,t,s)}function Up(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!zc(e,s)&&(t.flags&128)===0)return it=!1,Ex(e,t,s);it=(e.flags&131072)!==0}else it=!1,Te&&(t.flags&1048576)!==0&&cm(t,gl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,c=l._init;if(l=c(l._payload),t.type=l,typeof l=="function")Vu(l)?(e=Ha(l,e),t.tag=1,t=Tp(null,t,l,e,s)):(t.tag=0,t=Rc(null,t,l,e,s));else{if(l!=null){if(c=l.$$typeof,c===D){t.tag=11,t=Sp(null,t,l,e,s);break e}else if(c===G){t.tag=14,t=Ep(null,t,l,e,s);break e}}throw t=ft(l)||l,Error(r(306,t,""))}}return t;case 0:return Rc(e,t,t.type,t.pendingProps,s);case 1:return l=t.type,c=Ha(l,t.pendingProps),Tp(e,t,l,c,s);case 3:e:{if(Be(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var f=t.memoizedState;c=f.element,lc(e,t),zs(t,l,null,s);var b=t.memoizedState;if(l=b.cache,ta(t,tt,l),l!==f.cache&&tc(t,[tt],s,!0),Ls(),l=b.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Op(e,t,l,s);break e}else if(l!==c){c=Xt(Error(r(424)),t),Os(c),t=Op(e,t,l,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=rn(e.firstChild),St=t,Te=!0,Da=null,mn=!0,s=fp(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ts(),l===c){t=Dn(e,t,s);break e}ht(e,t,l,s)}t=t.child}return t;case 26:return Dl(e,t),e===null?(s=zg(t.type,null,t.pendingProps,null))?t.memoizedState=s:Te||(s=t.type,e=t.pendingProps,l=Jl(ge.current).createElement(s),l[bt]=t,l[At]=e,pt(l,s,e),st(l),t.stateNode=l):t.memoizedState=zg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return hu(t),e===null&&Te&&(l=t.stateNode=Mg(t.type,t.pendingProps,ge.current),St=t,mn=!0,c=Ye,ga(t.type)?(bd=c,Ye=rn(l.firstChild)):Ye=c),ht(e,t,t.pendingProps.children,s),Dl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Te&&((c=l=Ye)&&(l=Zx(l,t.type,t.pendingProps,mn),l!==null?(t.stateNode=l,St=t,Ye=rn(l.firstChild),mn=!1,c=!0):c=!1),c||La(t)),hu(t),c=t.type,f=t.pendingProps,b=e!==null?e.memoizedProps:null,l=f.children,md(c,f)?l=null:b!==null&&md(c,b)&&(t.flags|=32),t.memoizedState!==null&&(c=hc(e,t,gx,null,null,s),ii._currentValue=c),Dl(e,t),ht(e,t,l,s),t.child;case 6:return e===null&&Te&&((e=s=Ye)&&(s=Wx(s,t.pendingProps,mn),s!==null?(t.stateNode=s,St=t,Ye=null,e=!0):e=!1),e||La(t)),null;case 13:return Rp(e,t,s);case 4:return Be(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Rr(t,null,l,s):ht(e,t,l,s),t.child;case 11:return Sp(e,t,t.type,t.pendingProps,s);case 7:return ht(e,t,t.pendingProps,s),t.child;case 8:return ht(e,t,t.pendingProps.children,s),t.child;case 12:return ht(e,t,t.pendingProps.children,s),t.child;case 10:return l=t.pendingProps,ta(t,t.type,l.value),ht(e,t,l.children,s),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Pa(t),c=vt(c),l=l(c),t.flags|=1,ht(e,t,l,s),t.child;case 14:return Ep(e,t,t.type,t.pendingProps,s);case 15:return Ap(e,t,t.type,t.pendingProps,s);case 19:return $p(e,t,s);case 31:return l=t.pendingProps,s=t.mode,l={mode:l.mode,children:l.children},e===null?(s=Ll(l,s),s.ref=t.ref,t.child=s,s.return=t,t=s):(s=Tn(e.child,l),s.ref=t.ref,t.child=s,s.return=t,t=s),t;case 22:return jp(e,t,s);case 24:return Pa(t),l=vt(tt),e===null?(c=rc(),c===null&&(c=Le,f=nc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),t.memoizedState={parent:l,cache:c},ic(t),ta(t,tt,c)):((e.lanes&s)!==0&&(lc(e,t),zs(t,null,null,s),Ls()),c=e.memoizedState,f=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ta(t,tt,l)):(l=f.cache,ta(t,tt,l),l!==c.cache&&tc(t,[tt],s,!0))),ht(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Ln(e){e.flags|=4}function Mp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ig(t)){if(t=Zt.current,t!==null&&((je&4194048)===je?pn!==null:(je&62914560)!==je&&(je&536870912)===0||t!==pn))throw Ms=sc,bm;e.flags|=8192}}function zl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hh():536870912,e.lanes|=t,Mr|=t)}function Gs(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function Ax(e,t,s){var l=t.pendingProps;switch(Ju(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return s=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),$n(tt),Jn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ns(t)?Ln(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,hm())),Ie(t),null;case 26:return s=t.memoizedState,e===null?(Ln(t),s!==null?(Ie(t),Mp(t,s)):(Ie(t),t.flags&=-16777217)):s?s!==e.memoizedState?(Ln(t),Ie(t),Mp(t,s)):(Ie(t),t.flags&=-16777217):(e.memoizedProps!==l&&Ln(t),Ie(t),t.flags&=-16777217),null;case 27:Qi(t),s=ge.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ln(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ie(t),null}e=se.current,Ns(t)?dm(t):(e=Mg(c,l,s),t.stateNode=e,Ln(t))}return Ie(t),null;case 5:if(Qi(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ln(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ie(t),null}if(e=se.current,Ns(t))dm(t);else{switch(c=Jl(ge.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}e[bt]=t,e[At]=l;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(pt(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ln(t)}}return Ie(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ln(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ge.current,Ns(t)){if(e=t.stateNode,s=t.memoizedProps,l=null,c=St,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[bt]=t,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Ng(e.nodeValue,s)),e||La(t)}else e=Jl(e).createTextNode(l),e[bt]=t,t.stateNode=e}return Ie(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ns(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[bt]=t}else Ts(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),c=!1}else c=hm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Mn(t),t):(Mn(t),null)}if(Mn(t),(t.flags&128)!==0)return t.lanes=s,t;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==e&&s&&(t.child.flags|=8192),zl(t,t.updateQueue),Ie(t),null;case 4:return Jn(),e===null&&ud(t.stateNode.containerInfo),Ie(t),null;case 10:return $n(t.type),Ie(t),null;case 19:if(ee(nt),c=t.memoizedState,c===null)return Ie(t),null;if(l=(t.flags&128)!==0,f=c.rendering,f===null)if(l)Gs(c,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=$l(e),f!==null){for(t.flags|=128,Gs(c,!1),e=f.updateQueue,t.updateQueue=e,zl(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)um(s,e),s=s.sibling;return Z(nt,nt.current&1|2),t.child}e=e.sibling}c.tail!==null&&hn()>Bl&&(t.flags|=128,l=!0,Gs(c,!1),t.lanes=4194304)}else{if(!l)if(e=$l(f),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,zl(t,e),Gs(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Te)return Ie(t),null}else 2*hn()-c.renderingStartTime>Bl&&s!==536870912&&(t.flags|=128,l=!0,Gs(c,!1),t.lanes=4194304);c.isBackwards?(f.sibling=t.child,t.child=f):(e=c.last,e!==null?e.sibling=f:t.child=f,c.last=f)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=hn(),t.sibling=null,e=nt.current,Z(nt,l?e&1|2:e&1),t):(Ie(t),null);case 22:case 23:return Mn(t),dc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(s&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),s=t.updateQueue,s!==null&&zl(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==s&&(t.flags|=2048),e!==null&&ee(qa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),$n(tt),Ie(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function jx(e,t){switch(Ju(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $n(tt),Jn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Qi(t),null;case 13:if(Mn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(nt),null;case 4:return Jn(),null;case 10:return $n(t.type),null;case 22:case 23:return Mn(t),dc(),e!==null&&ee(qa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return $n(tt),null;case 25:return null;default:return null}}function Dp(e,t){switch(Ju(t),t.tag){case 3:$n(tt),Jn();break;case 26:case 27:case 5:Qi(t);break;case 4:Jn();break;case 13:Mn(t);break;case 19:ee(nt);break;case 10:$n(t.type);break;case 22:case 23:Mn(t),dc(),e!==null&&ee(qa);break;case 24:$n(tt)}}function Ys(e,t){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var f=s.create,b=s.inst;l=f(),b.destroy=l}s=s.next}while(s!==c)}}catch(_){De(t,t.return,_)}}function oa(e,t,s){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var b=l.inst,_=b.destroy;if(_!==void 0){b.destroy=void 0,c=t;var A=s,M=_;try{M()}catch(H){De(c,A,H)}}}l=l.next}while(l!==f)}}catch(H){De(t,t.return,H)}}function Lp(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Em(t,s)}catch(l){De(e,e.return,l)}}}function zp(e,t,s){s.props=Ha(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){De(e,t,l)}}function Vs(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){De(e,t,c)}}function gn(e,t){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){De(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){De(e,t,c)}else s.current=null}function Pp(e){var t=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){De(e,e.return,c)}}function Pc(e,t,s){try{var l=e.stateNode;Vx(l,e.type,s,t),l[At]=t}catch(c){De(e,e.return,c)}}function qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ga(e.type)||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bc(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Kl));else if(l!==4&&(l===27&&ga(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Bc(e,t,s),e=e.sibling;e!==null;)Bc(e,t,s),e=e.sibling}function Pl(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(l===27&&ga(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Pl(e,t,s),e=e.sibling;e!==null;)Pl(e,t,s),e=e.sibling}function Bp(e){var t=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);pt(t,l,s),t[bt]=e,t[At]=s}catch(f){De(e,e.return,f)}}var zn=!1,Qe=!1,Hc=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Cx(e,t){if(e=e.containerInfo,fd=ao,e=Wh(e),qu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var b=0,_=-1,A=-1,M=0,H=0,Y=e,L=null;t:for(;;){for(var P;Y!==s||c!==0&&Y.nodeType!==3||(_=b+c),Y!==f||l!==0&&Y.nodeType!==3||(A=b+l),Y.nodeType===3&&(b+=Y.nodeValue.length),(P=Y.firstChild)!==null;)L=Y,Y=P;for(;;){if(Y===e)break t;if(L===s&&++M===c&&(_=b),L===f&&++H===l&&(A=b),(P=Y.nextSibling)!==null)break;Y=L,L=Y.parentNode}Y=P}s=_===-1||A===-1?null:{start:_,end:A}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},ao=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){switch(t=lt,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=t,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ue=Ha(s.type,c,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(ue,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ie){De(s,s.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}}function Ip(e,t,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ua(e,s),l&4&&Ys(5,s);break;case 1:if(ua(e,s),l&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(b){De(s,s.return,b)}else{var c=Ha(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){De(s,s.return,b)}}l&64&&Lp(s),l&512&&Vs(s,s.return);break;case 3:if(ua(e,s),l&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Em(e,t)}catch(b){De(s,s.return,b)}}break;case 27:t===null&&l&4&&Bp(s);case 26:case 5:ua(e,s),t===null&&l&4&&Pp(s),l&512&&Vs(s,s.return);break;case 12:ua(e,s);break;case 13:ua(e,s),l&4&&Yp(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Dx.bind(null,s),ew(e,s))));break;case 22:if(l=s.memoizedState!==null||zn,!l){t=t!==null&&t.memoizedState!==null||Qe,c=zn;var f=Qe;zn=l,(Qe=t)&&!f?ca(e,s,(s.subtreeFlags&8772)!==0):ua(e,s),zn=c,Qe=f}break;case 30:break;default:ua(e,s)}}function Fp(e){var t=e.alternate;t!==null&&(e.alternate=null,Fp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Nt=!1;function Pn(e,t,s){for(s=s.child;s!==null;)Gp(e,t,s),s=s.sibling}function Gp(e,t,s){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(ms,s)}catch{}switch(s.tag){case 26:Qe||gn(s,t),Pn(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Qe||gn(s,t);var l=He,c=Nt;ga(s.type)&&(He=s.stateNode,Nt=!1),Pn(e,t,s),ni(s.stateNode),He=l,Nt=c;break;case 5:Qe||gn(s,t);case 6:if(l=He,c=Nt,He=null,Pn(e,t,s),He=l,Nt=c,He!==null)if(Nt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(s.stateNode)}catch(f){De(s,t,f)}else try{He.removeChild(s.stateNode)}catch(f){De(s,t,f)}break;case 18:He!==null&&(Nt?(e=He,$g(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ci(e)):$g(He,s.stateNode));break;case 4:l=He,c=Nt,He=s.stateNode.containerInfo,Nt=!0,Pn(e,t,s),He=l,Nt=c;break;case 0:case 11:case 14:case 15:Qe||oa(2,s,t),Qe||oa(4,s,t),Pn(e,t,s);break;case 1:Qe||(gn(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"&&zp(s,t,l)),Pn(e,t,s);break;case 21:Pn(e,t,s);break;case 22:Qe=(l=Qe)||s.memoizedState!==null,Pn(e,t,s),Qe=l;break;default:Pn(e,t,s)}}function Yp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ci(e)}catch(s){De(t,t.return,s)}}function Nx(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hp),t;default:throw Error(r(435,e.tag))}}function Ic(e,t){var s=Nx(e);t.forEach(function(l){var c=Lx.bind(null,e,l);s.has(l)||(s.add(l),l.then(c,c))})}function Lt(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=e,b=t,_=b;e:for(;_!==null;){switch(_.tag){case 27:if(ga(_.type)){He=_.stateNode,Nt=!1;break e}break;case 5:He=_.stateNode,Nt=!1;break e;case 3:case 4:He=_.stateNode.containerInfo,Nt=!0;break e}_=_.return}if(He===null)throw Error(r(160));Gp(f,b,c),He=null,Nt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Vp(t,e),t=t.sibling}var an=null;function Vp(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),zt(e),l&4&&(oa(3,e,e.return),Ys(3,e),oa(5,e,e.return));break;case 1:Lt(t,e),zt(e),l&512&&(Qe||s===null||gn(s,s.return)),l&64&&zn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=an;if(Lt(t,e),zt(e),l&512&&(Qe||s===null||gn(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ys]||f[bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),pt(f,l,s),f[bt]=e,st(f),l=f;break e;case"link":var b=Bg("link","href",c).get(l+(s.href||""));if(b){for(var _=0;_<b.length;_++)if(f=b[_],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(_,1);break t}}f=c.createElement(l),pt(f,l,s),c.head.appendChild(f);break;case"meta":if(b=Bg("meta","content",c).get(l+(s.content||""))){for(_=0;_<b.length;_++)if(f=b[_],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(_,1);break t}}f=c.createElement(l),pt(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[bt]=e,st(f),l=f}e.stateNode=l}else Hg(c,e.type,e.stateNode);else e.stateNode=qg(c,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Hg(c,e.type,e.stateNode):qg(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Pc(e,e.memoizedProps,s.memoizedProps)}break;case 27:Lt(t,e),zt(e),l&512&&(Qe||s===null||gn(s,s.return)),s!==null&&l&4&&Pc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Lt(t,e),zt(e),l&512&&(Qe||s===null||gn(s,s.return)),e.flags&32){c=e.stateNode;try{hr(c,"")}catch(P){De(e,e.return,P)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Pc(e,c,s!==null?s.memoizedProps:c)),l&1024&&(Hc=!0);break;case 6:if(Lt(t,e),zt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(P){De(e,e.return,P)}}break;case 3:if(eo=null,c=an,an=Zl(t.containerInfo),Lt(t,e),an=c,zt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ci(t.containerInfo)}catch(P){De(e,e.return,P)}Hc&&(Hc=!1,Xp(e));break;case 4:l=an,an=Zl(e.stateNode.containerInfo),Lt(t,e),zt(e),an=l;break;case 12:Lt(t,e),zt(e);break;case 13:Lt(t,e),zt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Qc=hn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 22:c=e.memoizedState!==null;var A=s!==null&&s.memoizedState!==null,M=zn,H=Qe;if(zn=M||c,Qe=H||A,Lt(t,e),Qe=H,zn=M,zt(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(s===null||A||zn||Qe||Ia(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){A=s=t;try{if(f=A.stateNode,c)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{_=A.stateNode;var Y=A.memoizedProps.style,L=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;_.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(P){De(A,A.return,P)}}}else if(t.tag===6){if(s===null){A=t;try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(P){De(A,A.return,P)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ic(e,s))));break;case 19:Lt(t,e),zt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 30:break;case 21:break;default:Lt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{for(var s,l=e.return;l!==null;){if(qp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=qc(e);Pl(e,f,c);break;case 5:var b=s.stateNode;s.flags&32&&(hr(b,""),s.flags&=-33);var _=qc(e);Pl(e,_,b);break;case 3:case 4:var A=s.stateNode.containerInfo,M=qc(e);Bc(e,M,A);break;default:throw Error(r(161))}}catch(H){De(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ua(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ip(e,t.alternate,t),t=t.sibling}function Ia(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oa(4,t,t.return),Ia(t);break;case 1:gn(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&zp(t,t.return,s),Ia(t);break;case 27:ni(t.stateNode);case 26:case 5:gn(t,t.return),Ia(t);break;case 22:t.memoizedState===null&&Ia(t);break;case 30:Ia(t);break;default:Ia(t)}e=e.sibling}}function ca(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,f=t,b=f.flags;switch(f.tag){case 0:case 11:case 15:ca(c,f,s),Ys(4,f);break;case 1:if(ca(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(M){De(l,l.return,M)}if(l=f,c=l.updateQueue,c!==null){var _=l.stateNode;try{var A=c.shared.hiddenCallbacks;if(A!==null)for(c.shared.hiddenCallbacks=null,c=0;c<A.length;c++)Sm(A[c],_)}catch(M){De(l,l.return,M)}}s&&b&64&&Lp(f),Vs(f,f.return);break;case 27:Bp(f);case 26:case 5:ca(c,f,s),s&&l===null&&b&4&&Pp(f),Vs(f,f.return);break;case 12:ca(c,f,s);break;case 13:ca(c,f,s),s&&b&4&&Yp(c,f);break;case 22:f.memoizedState===null&&ca(c,f,s),Vs(f,f.return);break;case 30:break;default:ca(c,f,s)}t=t.sibling}}function Fc(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ks(s))}function Gc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ks(e))}function yn(e,t,s,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qp(e,t,s,l),t=t.sibling}function Qp(e,t,s,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:yn(e,t,s,l),c&2048&&Ys(9,t);break;case 1:yn(e,t,s,l);break;case 3:yn(e,t,s,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ks(e)));break;case 12:if(c&2048){yn(e,t,s,l),e=t.stateNode;try{var f=t.memoizedProps,b=f.id,_=f.onPostCommit;typeof _=="function"&&_(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){De(t,t.return,A)}}else yn(e,t,s,l);break;case 13:yn(e,t,s,l);break;case 23:break;case 22:f=t.stateNode,b=t.alternate,t.memoizedState!==null?f._visibility&2?yn(e,t,s,l):Xs(e,t):f._visibility&2?yn(e,t,s,l):(f._visibility|=2,kr(e,t,s,l,(t.subtreeFlags&10256)!==0)),c&2048&&Fc(b,t);break;case 24:yn(e,t,s,l),c&2048&&Gc(t.alternate,t);break;default:yn(e,t,s,l)}}function kr(e,t,s,l,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,b=t,_=s,A=l,M=b.flags;switch(b.tag){case 0:case 11:case 15:kr(f,b,_,A,c),Ys(8,b);break;case 23:break;case 22:var H=b.stateNode;b.memoizedState!==null?H._visibility&2?kr(f,b,_,A,c):Xs(f,b):(H._visibility|=2,kr(f,b,_,A,c)),c&&M&2048&&Fc(b.alternate,b);break;case 24:kr(f,b,_,A,c),c&&M&2048&&Gc(b.alternate,b);break;default:kr(f,b,_,A,c)}t=t.sibling}}function Xs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,l=t,c=l.flags;switch(l.tag){case 22:Xs(s,l),c&2048&&Fc(l.alternate,l);break;case 24:Xs(s,l),c&2048&&Gc(l.alternate,l);break;default:Xs(s,l)}t=t.sibling}}var Qs=8192;function $r(e){if(e.subtreeFlags&Qs)for(e=e.child;e!==null;)Kp(e),e=e.sibling}function Kp(e){switch(e.tag){case 26:$r(e),e.flags&Qs&&e.memoizedState!==null&&hw(an,e.memoizedState,e.memoizedProps);break;case 5:$r(e);break;case 3:case 4:var t=an;an=Zl(e.stateNode.containerInfo),$r(e),an=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Qs,Qs=16777216,$r(e),Qs=t):$r(e));break;default:$r(e)}}function Jp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ks(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];lt=l,Wp(l,e)}Jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zp(e),e=e.sibling}function Zp(e){switch(e.tag){case 0:case 11:case 15:Ks(e),e.flags&2048&&oa(9,e,e.return);break;case 3:Ks(e);break;case 12:Ks(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ql(e)):Ks(e);break;default:Ks(e)}}function ql(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];lt=l,Wp(l,e)}Jp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:oa(8,t,t.return),ql(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,ql(t));break;default:ql(t)}e=e.sibling}}function Wp(e,t){for(;lt!==null;){var s=lt;switch(s.tag){case 0:case 11:case 15:oa(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ks(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,lt=l;else e:for(s=e;lt!==null;){l=lt;var c=l.sibling,f=l.return;if(Fp(l),l===s){lt=null;break e}if(c!==null){c.return=f,lt=c;break e}lt=f}}}var Tx={getCacheForType:function(e){var t=vt(tt),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s}},Ox=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Le=null,we=null,je=0,Re=0,Pt=null,da=!1,Ur=!1,Yc=!1,qn=0,Ve=0,fa=0,Fa=0,Vc=0,Wt=0,Mr=0,Js=null,Tt=null,Xc=!1,Qc=0,Bl=1/0,Hl=null,ha=null,mt=0,ma=null,Dr=null,Lr=0,Kc=0,Jc=null,eg=null,Zs=0,Zc=null;function qt(){if((Oe&2)!==0&&je!==0)return je&-je;if(q.T!==null){var e=Er;return e!==0?e:sd()}return gh()}function tg(){Wt===0&&(Wt=(je&536870912)===0||Te?fh():536870912);var e=Zt.current;return e!==null&&(e.flags|=32),Wt}function Bt(e,t,s){(e===Le&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(zr(e,0),pa(e,je,Wt,!1)),gs(e,s),((Oe&2)===0||e!==Le)&&(e===Le&&((Oe&2)===0&&(Fa|=s),Ve===4&&pa(e,je,Wt,!1)),bn(e))}function ng(e,t,s){if((Oe&6)!==0)throw Error(r(327));var l=!s&&(t&124)===0&&(t&e.expiredLanes)===0||ps(e,t),c=l?$x(e,t):td(e,t,!0),f=l;do{if(c===0){Ur&&!l&&pa(e,t,0,!1);break}else{if(s=e.current.alternate,f&&!Rx(s)){c=td(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var _=e;c=Js;var A=_.current.memoizedState.isDehydrated;if(A&&(zr(_,b).flags|=256),b=td(_,b,!1),b!==2){if(Yc&&!A){_.errorRecoveryDisabledLanes|=f,Fa|=f,c=4;break e}f=Tt,Tt=c,f!==null&&(Tt===null?Tt=f:Tt.push.apply(Tt,f))}c=b}if(f=!1,c!==2)continue}}if(c===1){zr(e,0),pa(e,t,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:pa(l,t,Wt,!da);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(c=Qc+300-hn(),10<c)){if(pa(l,t,Wt,!da),Wi(l,0,!0)!==0)break e;l.timeoutHandle=Rg(ag.bind(null,l,s,Tt,Hl,Xc,t,Wt,Fa,Mr,da,f,2,-0,0),c);break e}ag(l,s,Tt,Hl,Xc,t,Wt,Fa,Mr,da,f,0,-0,0)}}break}while(!0);bn(e)}function ag(e,t,s,l,c,f,b,_,A,M,H,Y,L,P){if(e.timeoutHandle=-1,Y=t.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(si={stylesheets:null,count:0,unsuspend:fw},Kp(t),Y=mw(),Y!==null)){e.cancelPendingCommit=Y(cg.bind(null,e,t,f,s,l,c,b,_,A,H,1,L,P)),pa(e,f,b,!M);return}cg(e,t,f,s,l,c,b,_,A)}function Rx(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!Mt(f(),c))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pa(e,t,s,l){t&=~Vc,t&=~Fa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var f=31-Ut(c),b=1<<f;l[f]=-1,c&=~b}s!==0&&mh(e,s,t)}function Il(){return(Oe&6)===0?(Ws(0),!1):!0}function Wc(){if(we!==null){if(Re===0)var e=we.return;else e=we,kn=za=null,gc(e),Or=null,Is=0,e=we;for(;e!==null;)Dp(e.alternate,e),e=e.return;we=null}}function zr(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Qx(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Wc(),Le=e,we=s=Tn(e.current,null),je=t,Re=0,Pt=null,da=!1,Ur=ps(e,t),Yc=!1,Mr=Wt=Vc=Fa=fa=Ve=0,Tt=Js=null,Xc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Ut(l),f=1<<c;t|=e[c],l&=~f}return qn=t,dl(),s}function rg(e,t){_e=null,q.H=Ol,t===Us||t===_l?(t=xm(),Re=3):t===bm?(t=xm(),Re=4):Re=t===wp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pt=t,we===null&&(Ve=1,Ml(e,Xt(t,e.current)))}function sg(){var e=q.H;return q.H=Ol,e===null?Ol:e}function ig(){var e=q.A;return q.A=Tx,e}function ed(){Ve=4,da||(je&4194048)!==je&&Zt.current!==null||(Ur=!0),(fa&134217727)===0&&(Fa&134217727)===0||Le===null||pa(Le,je,Wt,!1)}function td(e,t,s){var l=Oe;Oe|=2;var c=sg(),f=ig();(Le!==e||je!==t)&&(Hl=null,zr(e,t)),t=!1;var b=Ve;e:do try{if(Re!==0&&we!==null){var _=we,A=Pt;switch(Re){case 8:Wc(),b=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(t=!0);var M=Re;if(Re=0,Pt=null,Pr(e,_,A,M),s&&Ur){b=0;break e}break;default:M=Re,Re=0,Pt=null,Pr(e,_,A,M)}}kx(),b=Ve;break}catch(H){rg(e,H)}while(!0);return t&&e.shellSuspendCounter++,kn=za=null,Oe=l,q.H=c,q.A=f,we===null&&(Le=null,je=0,dl()),b}function kx(){for(;we!==null;)lg(we)}function $x(e,t){var s=Oe;Oe|=2;var l=sg(),c=ig();Le!==e||je!==t?(Hl=null,Bl=hn()+500,zr(e,t)):Ur=ps(e,t);e:do try{if(Re!==0&&we!==null){t=we;var f=Pt;t:switch(Re){case 1:Re=0,Pt=null,Pr(e,t,f,1);break;case 2:case 9:if(vm(f)){Re=0,Pt=null,og(t);break}t=function(){Re!==2&&Re!==9||Le!==e||(Re=7),bn(e)},f.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:vm(f)?(Re=0,Pt=null,og(t)):(Re=0,Pt=null,Pr(e,t,f,7));break;case 5:var b=null;switch(we.tag){case 26:b=we.memoizedState;case 5:case 27:var _=we;if(!b||Ig(b)){Re=0,Pt=null;var A=_.sibling;if(A!==null)we=A;else{var M=_.return;M!==null?(we=M,Fl(M)):we=null}break t}}Re=0,Pt=null,Pr(e,t,f,5);break;case 6:Re=0,Pt=null,Pr(e,t,f,6);break;case 8:Wc(),Ve=6;break e;default:throw Error(r(462))}}Ux();break}catch(H){rg(e,H)}while(!0);return kn=za=null,q.H=l,q.A=c,Oe=s,we!==null?0:(Le=null,je=0,dl(),Ve)}function Ux(){for(;we!==null&&!n_();)lg(we)}function lg(e){var t=Up(e.alternate,e,qn);e.memoizedProps=e.pendingProps,t===null?Fl(e):we=t}function og(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Np(s,t,t.pendingProps,t.type,void 0,je);break;case 11:t=Np(s,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:gc(t);default:Dp(s,t),t=we=um(t,qn),t=Up(s,t,qn)}e.memoizedProps=e.pendingProps,t===null?Fl(e):we=t}function Pr(e,t,s,l){kn=za=null,gc(t),Or=null,Is=0;var c=t.return;try{if(Sx(e,c,t,s,je)){Ve=1,Ml(e,Xt(s,e.current)),we=null;return}}catch(f){if(c!==null)throw we=c,f;Ve=1,Ml(e,Xt(s,e.current)),we=null;return}t.flags&32768?(Te||l===1?e=!0:Ur||(je&536870912)!==0?e=!1:(da=e=!0,(l===2||l===9||l===3||l===6)&&(l=Zt.current,l!==null&&l.tag===13&&(l.flags|=16384))),ug(t,e)):Fl(t)}function Fl(e){var t=e;do{if((t.flags&32768)!==0){ug(t,da);return}e=t.return;var s=Ax(t.alternate,t,qn);if(s!==null){we=s;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ve===0&&(Ve=5)}function ug(e,t){do{var s=jx(e.alternate,e);if(s!==null){s.flags&=32767,we=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=s}while(e!==null);Ve=6,we=null}function cg(e,t,s,l,c,f,b,_,A){e.cancelPendingCommit=null;do Gl();while(mt!==0);if((Oe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(f=t.lanes|t.childLanes,f|=Gu,f_(e,s,f,b,_,A),e===Le&&(we=Le=null,je=0),Dr=t,ma=e,Lr=s,Kc=f,Jc=c,eg=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zx(Ki,function(){return pg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=J.p,J.p=2,b=Oe,Oe|=4;try{Cx(e,t,s)}finally{Oe=b,J.p=c,q.T=l}}mt=1,dg(),fg(),hg()}}function dg(){if(mt===1){mt=0;var e=ma,t=Dr,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var l=J.p;J.p=2;var c=Oe;Oe|=4;try{Vp(t,e);var f=hd,b=Wh(e.containerInfo),_=f.focusedElem,A=f.selectionRange;if(b!==_&&_&&_.ownerDocument&&Zh(_.ownerDocument.documentElement,_)){if(A!==null&&qu(_)){var M=A.start,H=A.end;if(H===void 0&&(H=M),"selectionStart"in _)_.selectionStart=M,_.selectionEnd=Math.min(H,_.value.length);else{var Y=_.ownerDocument||document,L=Y&&Y.defaultView||window;if(L.getSelection){var P=L.getSelection(),ue=_.textContent.length,ie=Math.min(A.start,ue),Ue=A.end===void 0?ie:Math.min(A.end,ue);!P.extend&&ie>Ue&&(b=Ue,Ue=ie,ie=b);var k=Jh(_,ie),T=Jh(_,Ue);if(k&&T&&(P.rangeCount!==1||P.anchorNode!==k.node||P.anchorOffset!==k.offset||P.focusNode!==T.node||P.focusOffset!==T.offset)){var $=Y.createRange();$.setStart(k.node,k.offset),P.removeAllRanges(),ie>Ue?(P.addRange($),P.extend(T.node,T.offset)):($.setEnd(T.node,T.offset),P.addRange($))}}}}for(Y=[],P=_;P=P.parentNode;)P.nodeType===1&&Y.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Y.length;_++){var I=Y[_];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}ao=!!fd,hd=fd=null}finally{Oe=c,J.p=l,q.T=s}}e.current=t,mt=2}}function fg(){if(mt===2){mt=0;var e=ma,t=Dr,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var l=J.p;J.p=2;var c=Oe;Oe|=4;try{Ip(e,t.alternate,t)}finally{Oe=c,J.p=l,q.T=s}}mt=3}}function hg(){if(mt===4||mt===3){mt=0,a_();var e=ma,t=Dr,s=Lr,l=eg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mt=5:(mt=0,Dr=ma=null,mg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ha=null),vu(s),t=t.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(ms,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=q.T,c=J.p,J.p=2,q.T=null;try{for(var f=e.onRecoverableError,b=0;b<l.length;b++){var _=l[b];f(_.value,{componentStack:_.stack})}}finally{q.T=t,J.p=c}}(Lr&3)!==0&&Gl(),bn(e),c=e.pendingLanes,(s&4194090)!==0&&(c&42)!==0?e===Zc?Zs++:(Zs=0,Zc=e):Zs=0,Ws(0)}}function mg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ks(t)))}function Gl(e){return dg(),fg(),hg(),pg()}function pg(){if(mt!==5)return!1;var e=ma,t=Kc;Kc=0;var s=vu(Lr),l=q.T,c=J.p;try{J.p=32>s?32:s,q.T=null,s=Jc,Jc=null;var f=ma,b=Lr;if(mt=0,Dr=ma=null,Lr=0,(Oe&6)!==0)throw Error(r(331));var _=Oe;if(Oe|=4,Zp(f.current),Qp(f,f.current,b,s),Oe=_,Ws(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(ms,f)}catch{}return!0}finally{J.p=c,q.T=l,mg(e,t)}}function gg(e,t,s){t=Xt(s,t),t=Oc(e.stateNode,t,2),e=ra(e,t,2),e!==null&&(gs(e,2),bn(e))}function De(e,t,s){if(e.tag===3)gg(e,e,s);else for(;t!==null;){if(t.tag===3){gg(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ha===null||!ha.has(l))){e=Xt(s,e),s=_p(2),l=ra(t,s,2),l!==null&&(xp(s,l,t,e),gs(l,2),bn(l));break}}t=t.return}}function nd(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Ox;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(s)||(Yc=!0,c.add(s),e=Mx.bind(null,e,t,s),t.then(e,e))}function Mx(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Le===e&&(je&s)===s&&(Ve===4||Ve===3&&(je&62914560)===je&&300>hn()-Qc?(Oe&2)===0&&zr(e,0):Vc|=s,Mr===je&&(Mr=0)),bn(e)}function yg(e,t){t===0&&(t=hh()),e=_r(e,t),e!==null&&(gs(e,t),bn(e))}function Dx(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),yg(e,s)}function Lx(e,t){var s=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),yg(e,s)}function zx(e,t){return pu(e,t)}var Yl=null,qr=null,ad=!1,Vl=!1,rd=!1,Ga=0;function bn(e){e!==qr&&e.next===null&&(qr===null?Yl=qr=e:qr=qr.next=e),Vl=!0,ad||(ad=!0,qx())}function Ws(e,t){if(!rd&&Vl){rd=!0;do for(var s=!1,l=Yl;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var b=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-Ut(42|e)+1)-1,f&=c&~(b&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,xg(l,f))}else f=je,f=Wi(l,l===Le?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ps(l,f)||(s=!0,xg(l,f));l=l.next}while(s);rd=!1}}function Px(){bg()}function bg(){Vl=ad=!1;var e=0;Ga!==0&&(Xx()&&(e=Ga),Ga=0);for(var t=hn(),s=null,l=Yl;l!==null;){var c=l.next,f=vg(l,t);f===0?(l.next=null,s===null?Yl=c:s.next=c,c===null&&(qr=s)):(s=l,(e!==0||(f&3)!==0)&&(Vl=!0)),l=c}Ws(e)}function vg(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var b=31-Ut(f),_=1<<b,A=c[b];A===-1?((_&s)===0||(_&l)!==0)&&(c[b]=d_(_,t)):A<=t&&(e.expiredLanes|=_),f&=~_}if(t=Le,s=je,s=Wi(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&gu(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ps(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(l!==null&&gu(l),vu(s)){case 2:case 8:s=ch;break;case 32:s=Ki;break;case 268435456:s=dh;break;default:s=Ki}return l=_g.bind(null,e),s=pu(s,l),e.callbackPriority=t,e.callbackNode=s,t}return l!==null&&l!==null&&gu(l),e.callbackPriority=2,e.callbackNode=null,2}function _g(e,t){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Gl()&&e.callbackNode!==s)return null;var l=je;return l=Wi(e,e===Le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ng(e,l,t),vg(e,hn()),e.callbackNode!=null&&e.callbackNode===s?_g.bind(null,e):null)}function xg(e,t){if(Gl())return null;ng(e,t,!0)}function qx(){Kx(function(){(Oe&6)!==0?pu(uh,Px):bg()})}function sd(){return Ga===0&&(Ga=fh()),Ga}function wg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rl(""+e)}function Sg(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function Bx(e,t,s,l,c){if(t==="submit"&&s&&s.stateNode===c){var f=wg((c[At]||null).action),b=l.submitter;b&&(t=(t=b[At]||null)?wg(t.formAction):b.getAttribute("formAction"),t!==null&&(f=t,b=null));var _=new ol("action","action",null,l,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ga!==0){var A=b?Sg(c,b):new FormData(c);Ac(s,{pending:!0,data:A,method:c.method,action:f},null,A)}}else typeof f=="function"&&(_.preventDefault(),A=b?Sg(c,b):new FormData(c),Ac(s,{pending:!0,data:A,method:c.method,action:f},f,A))},currentTarget:c}]})}}for(var id=0;id<Fu.length;id++){var ld=Fu[id],Hx=ld.toLowerCase(),Ix=ld[0].toUpperCase()+ld.slice(1);nn(Hx,"on"+Ix)}nn(nm,"onAnimationEnd"),nn(am,"onAnimationIteration"),nn(rm,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(ix,"onTransitionRun"),nn(lx,"onTransitionStart"),nn(ox,"onTransitionCancel"),nn(sm,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ei));function Eg(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var b=l.length-1;0<=b;b--){var _=l[b],A=_.instance,M=_.currentTarget;if(_=_.listener,A!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=M;try{f(c)}catch(H){Ul(H)}c.currentTarget=null,f=A}else for(b=0;b<l.length;b++){if(_=l[b],A=_.instance,M=_.currentTarget,_=_.listener,A!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=M;try{f(c)}catch(H){Ul(H)}c.currentTarget=null,f=A}}}}function Se(e,t){var s=t[_u];s===void 0&&(s=t[_u]=new Set);var l=e+"__bubble";s.has(l)||(Ag(t,e,2,!1),s.add(l))}function od(e,t,s){var l=0;t&&(l|=4),Ag(s,e,l,t)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[Xl]){e[Xl]=!0,bh.forEach(function(s){s!=="selectionchange"&&(Fx.has(s)||od(s,!1,e),od(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xl]||(t[Xl]=!0,od("selectionchange",!1,t))}}function Ag(e,t,s,l){switch(Qg(t)){case 2:var c=yw;break;case 8:c=bw;break;default:c=Sd}s=c.bind(null,t,s,e),c=void 0,!Ru||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function cd(e,t,s,l,c){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var _=l.stateNode.containerInfo;if(_===c)break;if(b===4)for(b=l.return;b!==null;){var A=b.tag;if((A===3||A===4)&&b.stateNode.containerInfo===c)return;b=b.return}for(;_!==null;){if(b=lr(_),b===null)return;if(A=b.tag,A===5||A===6||A===26||A===27){l=f=b;continue e}_=_.parentNode}}l=l.return}kh(function(){var M=f,H=Tu(s),Y=[];e:{var L=im.get(e);if(L!==void 0){var P=ol,ue=e;switch(e){case"keypress":if(il(s)===0)break e;case"keydown":case"keyup":P=z_;break;case"focusin":ue="focus",P=Mu;break;case"focusout":ue="blur",P=Mu;break;case"beforeblur":case"afterblur":P=Mu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=j_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=B_;break;case nm:case am:case rm:P=T_;break;case sm:P=I_;break;case"scroll":case"scrollend":P=E_;break;case"wheel":P=G_;break;case"copy":case"cut":case"paste":P=R_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Lh;break;case"toggle":case"beforetoggle":P=V_}var ie=(t&4)!==0,Ue=!ie&&(e==="scroll"||e==="scrollend"),k=ie?L!==null?L+"Capture":null:L;ie=[];for(var T=M,$;T!==null;){var I=T;if($=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||$===null||k===null||(I=vs(T,k),I!=null&&ie.push(ti(T,I,$))),Ue)break;T=T.return}0<ie.length&&(L=new P(L,ue,null,s,H),Y.push({event:L,listeners:ie}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",L&&s!==Nu&&(ue=s.relatedTarget||s.fromElement)&&(lr(ue)||ue[ir]))break e;if((P||L)&&(L=H.window===H?H:(L=H.ownerDocument)?L.defaultView||L.parentWindow:window,P?(ue=s.relatedTarget||s.toElement,P=M,ue=ue?lr(ue):null,ue!==null&&(Ue=u(ue),ie=ue.tag,ue!==Ue||ie!==5&&ie!==27&&ie!==6)&&(ue=null)):(P=null,ue=M),P!==ue)){if(ie=Mh,I="onMouseLeave",k="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Lh,I="onPointerLeave",k="onPointerEnter",T="pointer"),Ue=P==null?L:bs(P),$=ue==null?L:bs(ue),L=new ie(I,T+"leave",P,s,H),L.target=Ue,L.relatedTarget=$,I=null,lr(H)===M&&(ie=new ie(k,T+"enter",ue,s,H),ie.target=$,ie.relatedTarget=Ue,I=ie),Ue=I,P&&ue)t:{for(ie=P,k=ue,T=0,$=ie;$;$=Br($))T++;for($=0,I=k;I;I=Br(I))$++;for(;0<T-$;)ie=Br(ie),T--;for(;0<$-T;)k=Br(k),$--;for(;T--;){if(ie===k||k!==null&&ie===k.alternate)break t;ie=Br(ie),k=Br(k)}ie=null}else ie=null;P!==null&&jg(Y,L,P,ie,!1),ue!==null&&Ue!==null&&jg(Y,Ue,ue,ie,!0)}}e:{if(L=M?bs(M):window,P=L.nodeName&&L.nodeName.toLowerCase(),P==="select"||P==="input"&&L.type==="file")var ne=Gh;else if(Ih(L))if(Yh)ne=ax;else{ne=tx;var xe=ex}else P=L.nodeName,!P||P.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?M&&Cu(M.elementType)&&(ne=Gh):ne=nx;if(ne&&(ne=ne(e,M))){Fh(Y,ne,s,H);break e}xe&&xe(e,L,M),e==="focusout"&&M&&L.type==="number"&&M.memoizedProps.value!=null&&ju(L,"number",L.value)}switch(xe=M?bs(M):window,e){case"focusin":(Ih(xe)||xe.contentEditable==="true")&&(yr=xe,Bu=M,Cs=null);break;case"focusout":Cs=Bu=yr=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,em(Y,s,H);break;case"selectionchange":if(sx)break;case"keydown":case"keyup":em(Y,s,H)}var ae;if(Lu)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else gr?Bh(e,s)&&(le="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(le="onCompositionStart");le&&(zh&&s.locale!=="ko"&&(gr||le!=="onCompositionStart"?le==="onCompositionEnd"&&gr&&(ae=$h()):(ea=H,ku="value"in ea?ea.value:ea.textContent,gr=!0)),xe=Ql(M,le),0<xe.length&&(le=new Dh(le,e,null,s,H),Y.push({event:le,listeners:xe}),ae?le.data=ae:(ae=Hh(s),ae!==null&&(le.data=ae)))),(ae=Q_?K_(e,s):J_(e,s))&&(le=Ql(M,"onBeforeInput"),0<le.length&&(xe=new Dh("onBeforeInput","beforeinput",null,s,H),Y.push({event:xe,listeners:le}),xe.data=ae)),Bx(Y,e,M,s,H)}Eg(Y,t)})}function ti(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ql(e,t){for(var s=t+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=vs(e,s),c!=null&&l.unshift(ti(e,c,f)),c=vs(e,t),c!=null&&l.push(ti(e,c,f))),e.tag===3)return l;e=e.return}return[]}function Br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jg(e,t,s,l,c){for(var f=t._reactName,b=[];s!==null&&s!==l;){var _=s,A=_.alternate,M=_.stateNode;if(_=_.tag,A!==null&&A===l)break;_!==5&&_!==26&&_!==27||M===null||(A=M,c?(M=vs(s,f),M!=null&&b.unshift(ti(s,M,A))):c||(M=vs(s,f),M!=null&&b.push(ti(s,M,A)))),s=s.return}b.length!==0&&e.push({event:t,listeners:b})}var Gx=/\r\n?/g,Yx=/\u0000|\uFFFD/g;function Cg(e){return(typeof e=="string"?e:""+e).replace(Gx,`
`).replace(Yx,"")}function Ng(e,t){return t=Cg(t),Cg(e)===t}function Kl(){}function $e(e,t,s,l,c,f){switch(s){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||hr(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&hr(e,""+l);break;case"className":tl(e,"class",l);break;case"tabIndex":tl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":tl(e,s,l);break;case"style":Oh(e,l,f);break;case"data":if(t!=="object"){tl(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=rl(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(t!=="input"&&$e(e,t,"name",c.name,c,null),$e(e,t,"formEncType",c.formEncType,c,null),$e(e,t,"formMethod",c.formMethod,c,null),$e(e,t,"formTarget",c.formTarget,c,null)):($e(e,t,"encType",c.encType,c,null),$e(e,t,"method",c.method,c,null),$e(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=rl(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Kl);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=rl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Se("beforetoggle",e),Se("toggle",e),el(e,"popover",l);break;case"xlinkActuate":Cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":el(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=w_.get(s)||s,el(e,s,l))}}function dd(e,t,s,l,c,f){switch(s){case"style":Oh(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?hr(e,l):(typeof l=="number"||typeof l=="bigint")&&hr(e,""+l);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Kl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),t=s.slice(2,c?s.length-7:void 0),f=e[At]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,l,c);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):el(e,s,l)}}}function pt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var b=s[f];if(b!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:$e(e,t,f,b,s,null)}}c&&$e(e,t,"srcSet",s.srcSet,s,null),l&&$e(e,t,"src",s.src,s,null);return;case"input":Se("invalid",e);var _=f=b=c=null,A=null,M=null;for(l in s)if(s.hasOwnProperty(l)){var H=s[l];if(H!=null)switch(l){case"name":c=H;break;case"type":b=H;break;case"checked":A=H;break;case"defaultChecked":M=H;break;case"value":f=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,t));break;default:$e(e,t,l,H,s,null)}}jh(e,f,_,A,M,b,c,!1),nl(e);return;case"select":Se("invalid",e),l=b=f=null;for(c in s)if(s.hasOwnProperty(c)&&(_=s[c],_!=null))switch(c){case"value":f=_;break;case"defaultValue":b=_;break;case"multiple":l=_;default:$e(e,t,c,_,s,null)}t=f,s=b,e.multiple=!!l,t!=null?fr(e,!!l,t,!1):s!=null&&fr(e,!!l,s,!0);return;case"textarea":Se("invalid",e),f=c=l=null;for(b in s)if(s.hasOwnProperty(b)&&(_=s[b],_!=null))switch(b){case"value":l=_;break;case"defaultValue":c=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:$e(e,t,b,_,s,null)}Nh(e,l,c,f),nl(e);return;case"option":for(A in s)if(s.hasOwnProperty(A)&&(l=s[A],l!=null))switch(A){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(e,t,A,l,s,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(l=0;l<ei.length;l++)Se(ei[l],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in s)if(s.hasOwnProperty(M)&&(l=s[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:$e(e,t,M,l,s,null)}return;default:if(Cu(t)){for(H in s)s.hasOwnProperty(H)&&(l=s[H],l!==void 0&&dd(e,t,H,l,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(l=s[_],l!=null&&$e(e,t,_,l,s,null))}function Vx(e,t,s,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,b=null,_=null,A=null,M=null,H=null;for(P in s){var Y=s[P];if(s.hasOwnProperty(P)&&Y!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":A=Y;default:l.hasOwnProperty(P)||$e(e,t,P,null,l,Y)}}for(var L in l){var P=l[L];if(Y=s[L],l.hasOwnProperty(L)&&(P!=null||Y!=null))switch(L){case"type":f=P;break;case"name":c=P;break;case"checked":M=P;break;case"defaultChecked":H=P;break;case"value":b=P;break;case"defaultValue":_=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,t));break;default:P!==Y&&$e(e,t,L,P,l,Y)}}Au(e,b,_,A,M,H,f,c);return;case"select":P=b=_=L=null;for(f in s)if(A=s[f],s.hasOwnProperty(f)&&A!=null)switch(f){case"value":break;case"multiple":P=A;default:l.hasOwnProperty(f)||$e(e,t,f,null,l,A)}for(c in l)if(f=l[c],A=s[c],l.hasOwnProperty(c)&&(f!=null||A!=null))switch(c){case"value":L=f;break;case"defaultValue":_=f;break;case"multiple":b=f;default:f!==A&&$e(e,t,c,f,l,A)}t=_,s=b,l=P,L!=null?fr(e,!!s,L,!1):!!l!=!!s&&(t!=null?fr(e,!!s,t,!0):fr(e,!!s,s?[]:"",!1));return;case"textarea":P=L=null;for(_ in s)if(c=s[_],s.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:$e(e,t,_,null,l,c)}for(b in l)if(c=l[b],f=s[b],l.hasOwnProperty(b)&&(c!=null||f!=null))switch(b){case"value":L=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&$e(e,t,b,c,l,f)}Ch(e,L,P);return;case"option":for(var ue in s)if(L=s[ue],s.hasOwnProperty(ue)&&L!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":e.selected=!1;break;default:$e(e,t,ue,null,l,L)}for(A in l)if(L=l[A],P=s[A],l.hasOwnProperty(A)&&L!==P&&(L!=null||P!=null))switch(A){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:$e(e,t,A,L,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in s)L=s[ie],s.hasOwnProperty(ie)&&L!=null&&!l.hasOwnProperty(ie)&&$e(e,t,ie,null,l,L);for(M in l)if(L=l[M],P=s[M],l.hasOwnProperty(M)&&L!==P&&(L!=null||P!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:$e(e,t,M,L,l,P)}return;default:if(Cu(t)){for(var Ue in s)L=s[Ue],s.hasOwnProperty(Ue)&&L!==void 0&&!l.hasOwnProperty(Ue)&&dd(e,t,Ue,void 0,l,L);for(H in l)L=l[H],P=s[H],!l.hasOwnProperty(H)||L===P||L===void 0&&P===void 0||dd(e,t,H,L,l,P);return}}for(var k in s)L=s[k],s.hasOwnProperty(k)&&L!=null&&!l.hasOwnProperty(k)&&$e(e,t,k,null,l,L);for(Y in l)L=l[Y],P=s[Y],!l.hasOwnProperty(Y)||L===P||L==null&&P==null||$e(e,t,Y,L,l,P)}var fd=null,hd=null;function Jl(e){return e.nodeType===9?e:e.ownerDocument}function Tg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Og(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function md(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pd=null;function Xx(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var Rg=typeof setTimeout=="function"?setTimeout:void 0,Qx=typeof clearTimeout=="function"?clearTimeout:void 0,kg=typeof Promise=="function"?Promise:void 0,Kx=typeof queueMicrotask=="function"?queueMicrotask:typeof kg<"u"?function(e){return kg.resolve(null).then(e).catch(Jx)}:Rg;function Jx(e){setTimeout(function(){throw e})}function ga(e){return e==="head"}function $g(e,t){var s=t,l=0,c=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var b=e.ownerDocument;if(s&1&&ni(b.documentElement),s&2&&ni(b.body),s&4)for(s=b.head,ni(s),b=s.firstChild;b;){var _=b.nextSibling,A=b.nodeName;b[ys]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&b.rel.toLowerCase()==="stylesheet"||s.removeChild(b),b=_}}if(c===0){e.removeChild(f),ci(t);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);ci(t)}function gd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),xu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Zx(e,t,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ys])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=rn(e.nextSibling),e===null)break}return null}function Wx(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=rn(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function ew(e,t){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")t();else{var l=function(){t(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var bd=null;function Ug(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}function Mg(e,t,s){switch(t=Jl(s),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ni(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xu(e)}var en=new Map,Dg=new Set;function Zl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bn=J.d;J.d={f:tw,r:nw,D:aw,C:rw,L:sw,m:iw,X:ow,S:lw,M:uw};function tw(){var e=Bn.f(),t=Il();return e||t}function nw(e){var t=or(e);t!==null&&t.tag===5&&t.type==="form"?np(t):Bn.r(e)}var Hr=typeof document>"u"?null:document;function Lg(e,t,s){var l=Hr;if(l&&typeof t=="string"&&t){var c=Vt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Dg.has(c)||(Dg.add(c),e={rel:e,crossOrigin:s,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),pt(t,"link",e),st(t),l.head.appendChild(t)))}}function aw(e){Bn.D(e),Lg("dns-prefetch",e,null)}function rw(e,t){Bn.C(e,t),Lg("preconnect",e,t)}function sw(e,t,s){Bn.L(e,t,s);var l=Hr;if(l&&e&&t){var c='link[rel="preload"][as="'+Vt(t)+'"]';t==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Vt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Vt(s.imageSizes)+'"]')):c+='[href="'+Vt(e)+'"]';var f=c;switch(t){case"style":f=Ir(e);break;case"script":f=Fr(e)}en.has(f)||(e=y({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),en.set(f,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(ai(f))||t==="script"&&l.querySelector(ri(f))||(t=l.createElement("link"),pt(t,"link",e),st(t),l.head.appendChild(t)))}}function iw(e,t){Bn.m(e,t);var s=Hr;if(s&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Vt(l)+'"][href="'+Vt(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fr(e)}if(!en.has(f)&&(e=y({rel:"modulepreload",href:e},t),en.set(f,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ri(f)))return}l=s.createElement("link"),pt(l,"link",e),st(l),s.head.appendChild(l)}}}function lw(e,t,s){Bn.S(e,t,s);var l=Hr;if(l&&e){var c=ur(l).hoistableStyles,f=Ir(e);t=t||"default";var b=c.get(f);if(!b){var _={loading:0,preload:null};if(b=l.querySelector(ai(f)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},s),(s=en.get(f))&&vd(e,s);var A=b=l.createElement("link");st(A),pt(A,"link",e),A._p=new Promise(function(M,H){A.onload=M,A.onerror=H}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Wl(b,t,l)}b={type:"stylesheet",instance:b,count:1,state:_},c.set(f,b)}}}function ow(e,t){Bn.X(e,t);var s=Hr;if(s&&e){var l=ur(s).hoistableScripts,c=Fr(e),f=l.get(c);f||(f=s.querySelector(ri(c)),f||(e=y({src:e,async:!0},t),(t=en.get(c))&&_d(e,t),f=s.createElement("script"),st(f),pt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function uw(e,t){Bn.M(e,t);var s=Hr;if(s&&e){var l=ur(s).hoistableScripts,c=Fr(e),f=l.get(c);f||(f=s.querySelector(ri(c)),f||(e=y({src:e,async:!0,type:"module"},t),(t=en.get(c))&&_d(e,t),f=s.createElement("script"),st(f),pt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function zg(e,t,s,l){var c=(c=ge.current)?Zl(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Ir(s.href),s=ur(c).hoistableStyles,l=s.get(t),l||(l={type:"style",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ir(s.href);var f=ur(c).hoistableStyles,b=f.get(e);if(b||(c=c.ownerDocument||c,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,b),(f=c.querySelector(ai(e)))&&!f._p&&(b.instance=f,b.state.loading=5),en.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},en.set(e,s),f||cw(c,e,s,b.state))),t&&l===null)throw Error(r(528,""));return b}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Fr(s),s=ur(c).hoistableScripts,l=s.get(t),l||(l={type:"script",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ir(e){return'href="'+Vt(e)+'"'}function ai(e){return'link[rel="stylesheet"]['+e+"]"}function Pg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function cw(e,t,s,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),pt(t,"link",s),st(t),e.head.appendChild(t))}function Fr(e){return'[src="'+Vt(e)+'"]'}function ri(e){return"script[async]"+e}function qg(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Vt(s.href)+'"]');if(l)return t.instance=l,st(l),l;var c=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),st(l),pt(l,"style",c),Wl(l,s.precedence,e),t.instance=l;case"stylesheet":c=Ir(s.href);var f=e.querySelector(ai(c));if(f)return t.state.loading|=4,t.instance=f,st(f),f;l=Pg(s),(c=en.get(c))&&vd(l,c),f=(e.ownerDocument||e).createElement("link"),st(f);var b=f;return b._p=new Promise(function(_,A){b.onload=_,b.onerror=A}),pt(f,"link",l),t.state.loading|=4,Wl(f,s.precedence,e),t.instance=f;case"script":return f=Fr(s.src),(c=e.querySelector(ri(f)))?(t.instance=c,st(c),c):(l=s,(c=en.get(f))&&(l=y({},s),_d(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),st(c),pt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Wl(l,s.precedence,e));return t.instance}function Wl(e,t,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,b=0;b<l.length;b++){var _=l[b];if(_.dataset.precedence===t)f=_;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function vd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _d(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var eo=null;function Bg(e,t,s){if(eo===null){var l=new Map,c=eo=new Map;c.set(s,l)}else c=eo,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[ys]||f[bt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(t)||"";b=e+b;var _=l.get(b);_?_.push(f):l.set(b,[f])}}return l}function Hg(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function dw(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ig(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var si=null;function fw(){}function hw(e,t,s){if(si===null)throw Error(r(475));var l=si;if(t.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=Ir(s.href),f=e.querySelector(ai(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=to.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=f,st(f);return}f=e.ownerDocument||e,s=Pg(s),(c=en.get(c))&&vd(s,c),f=f.createElement("link"),st(f);var b=f;b._p=new Promise(function(_,A){b.onload=_,b.onerror=A}),pt(f,"link",s),t.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=to.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function mw(){if(si===null)throw Error(r(475));var e=si;return e.stylesheets&&e.count===0&&xd(e,e.stylesheets),0<e.count?function(t){var s=setTimeout(function(){if(e.stylesheets&&xd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(s)}}:null}function to(){if(this.count--,this.count===0){if(this.stylesheets)xd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var no=null;function xd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,no=new Map,t.forEach(pw,e),no=null,to.call(e))}function pw(e,t){if(!(t.state.loading&4)){var s=no.get(e);if(s)var l=s.get(null);else{s=new Map,no.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var b=c[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}c=t.instance,b=c.getAttribute("data-precedence"),f=s.get(b)||l,f===l&&s.set(null,c),s.set(b,c),this.count++,l=to.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ii={$$typeof:C,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function gw(e,t,s,l,c,f,b,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.hiddenUpdates=yu(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Fg(e,t,s,l,c,f,b,_,A,M,H,Y){return e=new gw(e,t,s,b,_,A,M,Y),t=1,f===!0&&(t|=24),f=Dt(3,null,null,t),e.current=f,f.stateNode=e,t=nc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:t},ic(f),e}function Gg(e){return e?(e=xr,e):xr}function Yg(e,t,s,l,c,f){c=Gg(c),l.context===null?l.context=c:l.pendingContext=c,l=aa(t),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ra(e,l,t),s!==null&&(Bt(s,e,t),Ds(s,e,t))}function Vg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function wd(e,t){Vg(e,t),(e=e.alternate)&&Vg(e,t)}function Xg(e){if(e.tag===13){var t=_r(e,67108864);t!==null&&Bt(t,e,67108864),wd(e,67108864)}}var ao=!0;function yw(e,t,s,l){var c=q.T;q.T=null;var f=J.p;try{J.p=2,Sd(e,t,s,l)}finally{J.p=f,q.T=c}}function bw(e,t,s,l){var c=q.T;q.T=null;var f=J.p;try{J.p=8,Sd(e,t,s,l)}finally{J.p=f,q.T=c}}function Sd(e,t,s,l){if(ao){var c=Ed(l);if(c===null)cd(e,t,l,ro,s),Kg(e,l);else if(_w(c,e,t,s,l))l.stopPropagation();else if(Kg(e,l),t&4&&-1<vw.indexOf(e)){for(;c!==null;){var f=or(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=Na(f.pendingLanes);if(b!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;b;){var A=1<<31-Ut(b);_.entanglements[1]|=A,b&=~A}bn(f),(Oe&6)===0&&(Bl=hn()+500,Ws(0))}}break;case 13:_=_r(f,2),_!==null&&Bt(_,f,2),Il(),wd(f,2)}if(f=Ed(l),f===null&&cd(e,t,l,ro,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else cd(e,t,l,null,s)}}function Ed(e){return e=Tu(e),Ad(e)}var ro=null;function Ad(e){if(ro=null,e=lr(e),e!==null){var t=u(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=d(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ro=e,null}function Qg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(r_()){case uh:return 2;case ch:return 8;case Ki:case s_:return 32;case dh:return 268435456;default:return 32}default:return 32}}var jd=!1,ya=null,ba=null,va=null,li=new Map,oi=new Map,_a=[],vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kg(e,t){switch(e){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(t.pointerId)}}function ui(e,t,s,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},t!==null&&(t=or(t),t!==null&&Xg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function _w(e,t,s,l,c){switch(t){case"focusin":return ya=ui(ya,e,t,s,l,c),!0;case"dragenter":return ba=ui(ba,e,t,s,l,c),!0;case"mouseover":return va=ui(va,e,t,s,l,c),!0;case"pointerover":var f=c.pointerId;return li.set(f,ui(li.get(f)||null,e,t,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,oi.set(f,ui(oi.get(f)||null,e,t,s,l,c)),!0}return!1}function Jg(e){var t=lr(e.target);if(t!==null){var s=u(t);if(s!==null){if(t=s.tag,t===13){if(t=d(s),t!==null){e.blockedOn=t,h_(e.priority,function(){if(s.tag===13){var l=qt();l=bu(l);var c=_r(s,l);c!==null&&Bt(c,s,l),wd(s,l)}});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function so(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Ed(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Nu=l,s.target.dispatchEvent(l),Nu=null}else return t=or(s),t!==null&&Xg(t),e.blockedOn=s,!1;t.shift()}return!0}function Zg(e,t,s){so(e)&&s.delete(t)}function xw(){jd=!1,ya!==null&&so(ya)&&(ya=null),ba!==null&&so(ba)&&(ba=null),va!==null&&so(va)&&(va=null),li.forEach(Zg),oi.forEach(Zg)}function io(e,t){e.blockedOn===t&&(e.blockedOn=null,jd||(jd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xw)))}var lo=null;function Wg(e){lo!==e&&(lo=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){lo===e&&(lo=null);for(var t=0;t<e.length;t+=3){var s=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Ad(l||s)===null)continue;break}var f=or(s);f!==null&&(e.splice(t,3),t-=3,Ac(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function ci(e){function t(A){return io(A,e)}ya!==null&&io(ya,e),ba!==null&&io(ba,e),va!==null&&io(va,e),li.forEach(t),oi.forEach(t);for(var s=0;s<_a.length;s++){var l=_a[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<_a.length&&(s=_a[0],s.blockedOn===null);)Jg(s),s.blockedOn===null&&_a.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],b=c[At]||null;if(typeof f=="function")b||Wg(s);else if(b){var _=null;if(f&&f.hasAttribute("formAction")){if(c=f,b=f[At]||null)_=b.formAction;else if(Ad(c)!==null)continue}else _=b.action;typeof _=="function"?s[l+1]=_:(s.splice(l,3),l-=3),Wg(s)}}}function Cd(e){this._internalRoot=e}oo.prototype.render=Cd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var s=t.current,l=qt();Yg(s,l,e,t,null,null)},oo.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yg(e.current,2,null,e,null,null),Il(),t[ir]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var t=gh();e={blockedOn:null,target:e,priority:t};for(var s=0;s<_a.length&&t!==0&&t<_a[s].priority;s++);_a.splice(s,0,e),s===0&&Jg(e)}};var ey=n.version;if(ey!=="19.1.0")throw Error(r(527,ey,"19.1.0"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var ww={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{ms=uo.inject(ww),$t=uo}catch{}}return fi.createRoot=function(e,t){if(!o(e))throw Error(r(299));var s=!1,l="",c=gp,f=yp,b=bp,_=null;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(_=t.unstable_transitionCallbacks)),t=Fg(e,1,!1,null,null,s,l,c,f,b,_,null),e[ir]=t.current,ud(e),new Cd(t)},fi.hydrateRoot=function(e,t,s){if(!o(e))throw Error(r(299));var l=!1,c="",f=gp,b=yp,_=bp,A=null,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks),s.formState!==void 0&&(M=s.formState)),t=Fg(e,1,!0,t,s??null,l,c,f,b,_,A,M),t.context=Gg(null),s=t.current,l=qt(),l=bu(l),c=aa(l),c.callback=null,ra(s,c,l),s=l,t.current.lanes=s,gs(t,s),bn(t),e[ir]=t.current,ud(e),new oo(t)},fi.version="19.1.0",fi}var cy;function $w(){if(cy)return Od.exports;cy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Od.exports=kw(),Od.exports}var Uw=$w();const Mw=Zo(Uw);var hi={},dy;function Dw(){if(dy)return hi;dy=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.parse=d,hi.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function d(x,w){const S=new u,R=x.length;if(R<2)return S;const E=(w==null?void 0:w.decode)||y;let N=0;do{const U=x.indexOf("=",N);if(U===-1)break;const C=x.indexOf(";",N),D=C===-1?R:C;if(U>D){N=x.lastIndexOf(";",U-1)+1;continue}const F=h(x,N,U),K=m(x,U,F),G=x.slice(F,K);if(S[G]===void 0){let me=h(x,U+1,D),X=m(x,D,me);const te=E(x.slice(me,X));S[G]=te}N=D+1}while(N<R);return S}function h(x,w,S){do{const R=x.charCodeAt(w);if(R!==32&&R!==9)return w}while(++w<S);return S}function m(x,w,S){for(;w>S;){const R=x.charCodeAt(--w);if(R!==32&&R!==9)return w+1}return S}function g(x,w,S){const R=(S==null?void 0:S.encode)||encodeURIComponent;if(!i.test(x))throw new TypeError(`argument name is invalid: ${x}`);const E=R(w);if(!n.test(E))throw new TypeError(`argument val is invalid: ${w}`);let N=x+"="+E;if(!S)return N;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);N+="; Max-Age="+S.maxAge}if(S.domain){if(!a.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);N+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);N+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);N+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(N+="; HttpOnly"),S.secure&&(N+="; Secure"),S.partitioned&&(N+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return N}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return o.call(x)==="[object Date]"}return hi}Dw();var fy="popstate";function Lw(i={}){function n(o,u){let{pathname:d="/",search:h="",hash:m=""}=tr(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),ef("",{pathname:d,search:h,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(o,u){let d=o.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");h=g===-1?m:m.slice(0,g)}return h+"#"+(typeof u=="string"?u:Di(u))}function r(o,u){cn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Pw(n,a,r,i)}function Ge(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function cn(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function zw(){return Math.random().toString(36).substring(2,10)}function hy(i,n){return{usr:i.state,key:i.key,idx:n}}function ef(i,n,a=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?tr(n):n,state:a,key:n&&n.key||r||zw()}}function Di({pathname:i="/",search:n="",hash:a=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function tr(i){let n={};if(i){let a=i.indexOf("#");a>=0&&(n.hash=i.substring(a),i=i.substring(0,a));let r=i.indexOf("?");r>=0&&(n.search=i.substring(r),i=i.substring(0,r)),i&&(n.pathname=i)}return n}function Pw(i,n,a,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,d=o.history,h="POP",m=null,g=y();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function y(){return(d.state||{idx:null}).idx}function v(){h="POP";let E=y(),N=E==null?null:E-g;g=E,m&&m({action:h,location:R.location,delta:N})}function x(E,N){h="PUSH";let U=ef(R.location,E,N);a&&a(U,E),g=y()+1;let C=hy(U,g),D=R.createHref(U);try{d.pushState(C,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(D)}u&&m&&m({action:h,location:R.location,delta:1})}function w(E,N){h="REPLACE";let U=ef(R.location,E,N);a&&a(U,E),g=y();let C=hy(U,g),D=R.createHref(U);d.replaceState(C,"",D),u&&m&&m({action:h,location:R.location,delta:0})}function S(E){return qw(E)}let R={get action(){return h},get location(){return i(o,d)},listen(E){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(fy,v),m=E,()=>{o.removeEventListener(fy,v),m=null}},createHref(E){return n(o,E)},createURL:S,encodeLocation(E){let N=S(E);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:w,go(E){return d.go(E)}};return R}function qw(i,n=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(a,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Di(i);return r=r.replace(/ $/,"%20"),!n&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function Tb(i,n,a="/"){return Bw(i,n,a,!1)}function Bw(i,n,a,r){let o=typeof n=="string"?tr(n):n,u=Xn(o.pathname||"/",a);if(u==null)return null;let d=Ob(i);Hw(d);let h=null;for(let m=0;h==null&&m<d.length;++m){let g=Ww(u);h=Jw(d[m],g,r)}return h}function Ob(i,n=[],a=[],r=""){let o=(u,d,h)=>{let m={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};m.relativePath.startsWith("/")&&(Ge(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let g=Vn([r,m.relativePath]),y=a.concat(m);u.children&&u.children.length>0&&(Ge(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Ob(u.children,n,y,g)),!(u.path==null&&!u.index)&&n.push({path:g,score:Qw(g,u.index),routesMeta:y})};return i.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,d);else for(let m of Rb(u.path))o(u,d,m)}),n}function Rb(i){let n=i.split("/");if(n.length===0)return[];let[a,...r]=n,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let d=Rb(r.join("/")),h=[];return h.push(...d.map(m=>m===""?u:[u,m].join("/"))),o&&h.push(...d),h.map(m=>i.startsWith("/")&&m===""?"/":m)}function Hw(i){i.sort((n,a)=>n.score!==a.score?a.score-n.score:Kw(n.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var Iw=/^:[\w-]+$/,Fw=3,Gw=2,Yw=1,Vw=10,Xw=-2,my=i=>i==="*";function Qw(i,n){let a=i.split("/"),r=a.length;return a.some(my)&&(r+=Xw),n&&(r+=Gw),a.filter(o=>!my(o)).reduce((o,u)=>o+(Iw.test(u)?Fw:u===""?Yw:Vw),r)}function Kw(i,n){return i.length===n.length&&i.slice(0,-1).every((r,o)=>r===n[o])?i[i.length-1]-n[n.length-1]:0}function Jw(i,n,a=!1){let{routesMeta:r}=i,o={},u="/",d=[];for(let h=0;h<r.length;++h){let m=r[h],g=h===r.length-1,y=u==="/"?n:n.slice(u.length)||"/",v=qo({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),x=m.route;if(!v&&g&&a&&!r[r.length-1].route.index&&(v=qo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),d.push({params:o,pathname:Vn([u,v.pathname]),pathnameBase:aS(Vn([u,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(u=Vn([u,v.pathnameBase]))}return d}function qo(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,r]=Zw(i.path,i.caseSensitive,i.end),o=n.match(a);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:v},x)=>{if(y==="*"){let S=h[x]||"";d=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const w=h[x];return v&&!w?g[y]=void 0:g[y]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:i}}function Zw(i,n=!1,a=!0){cn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),r]}function Ww(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return cn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function Xn(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,r=i.charAt(a);return r&&r!=="/"?null:i.slice(a)||"/"}function eS(i,n="/"){let{pathname:a,search:r="",hash:o=""}=typeof i=="string"?tr(i):i;return{pathname:a?a.startsWith("/")?a:tS(a,n):n,search:rS(r),hash:sS(o)}}function tS(i,n){let a=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function Ud(i,n,a,r){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nS(i){return i.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function kb(i){let n=nS(i);return n.map((a,r)=>r===n.length-1?a.pathname:a.pathnameBase)}function $b(i,n,a,r=!1){let o;typeof i=="string"?o=tr(i):(o={...i},Ge(!o.pathname||!o.pathname.includes("?"),Ud("?","pathname","search",o)),Ge(!o.pathname||!o.pathname.includes("#"),Ud("#","pathname","hash",o)),Ge(!o.search||!o.search.includes("#"),Ud("#","search","hash",o)));let u=i===""||o.pathname==="",d=u?"/":o.pathname,h;if(d==null)h=a;else{let v=n.length-1;if(!r&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),v-=1;o.pathname=x.join("/")}h=v>=0?n[v]:"/"}let m=eS(o,h),g=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Vn=i=>i.join("/").replace(/\/\/+/g,"/"),aS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),rS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,sS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function iS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Ub=["POST","PUT","PATCH","DELETE"];new Set(Ub);var lS=["GET",...Ub];new Set(lS);var ds=O.createContext(null);ds.displayName="DataRouter";var Wo=O.createContext(null);Wo.displayName="DataRouterState";var Mb=O.createContext({isTransitioning:!1});Mb.displayName="ViewTransition";var oS=O.createContext(new Map);oS.displayName="Fetchers";var uS=O.createContext(null);uS.displayName="Await";var An=O.createContext(null);An.displayName="Navigation";var qi=O.createContext(null);qi.displayName="Location";var Qn=O.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var Of=O.createContext(null);Of.displayName="RouteError";function cS(i,{relative:n}={}){Ge(Bi(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=O.useContext(An),{hash:o,pathname:u,search:d}=Hi(i,{relative:n}),h=u;return a!=="/"&&(h=u==="/"?a:Vn([a,u])),r.createHref({pathname:h,search:d,hash:o})}function Bi(){return O.useContext(qi)!=null}function nr(){return Ge(Bi(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(qi).location}var Db="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lb(i){O.useContext(An).static||O.useLayoutEffect(i)}function jn(){let{isDataRoute:i}=O.useContext(Qn);return i?SS():dS()}function dS(){Ge(Bi(),"useNavigate() may be used only in the context of a <Router> component.");let i=O.useContext(ds),{basename:n,navigator:a}=O.useContext(An),{matches:r}=O.useContext(Qn),{pathname:o}=nr(),u=JSON.stringify(kb(r)),d=O.useRef(!1);return Lb(()=>{d.current=!0}),O.useCallback((m,g={})=>{if(cn(d.current,Db),!d.current)return;if(typeof m=="number"){a.go(m);return}let y=$b(m,JSON.parse(u),o,g.relative==="path");i==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:Vn([n,y.pathname])),(g.replace?a.replace:a.push)(y,g.state,g)},[n,a,u,o,i])}O.createContext(null);function Hi(i,{relative:n}={}){let{matches:a}=O.useContext(Qn),{pathname:r}=nr(),o=JSON.stringify(kb(a));return O.useMemo(()=>$b(i,JSON.parse(o),r,n==="path"),[i,o,r,n])}function fS(i,n){return zb(i,n)}function zb(i,n,a,r){var N;Ge(Bi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=O.useContext(An),{matches:u}=O.useContext(Qn),d=u[u.length-1],h=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let U=y&&y.path||"";Pb(m,!y||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let v=nr(),x;if(n){let U=typeof n=="string"?tr(n):n;Ge(g==="/"||((N=U.pathname)==null?void 0:N.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),x=U}else x=v;let w=x.pathname||"/",S=w;if(g!=="/"){let U=g.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(U.length).join("/")}let R=Tb(i,{pathname:S});cn(y||R!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),cn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=yS(R&&R.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:Vn([g,o.encodeLocation?o.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:Vn([g,o.encodeLocation?o.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,a,r);return n&&E?O.createElement(qi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function hS(){let i=wS(),n=iS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},n),a?O.createElement("pre",{style:o},a):null,d)}var mS=O.createElement(hS,null),pS=class extends O.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){console.error("React Router caught the following error during render",i,n)}render(){return this.state.error!==void 0?O.createElement(Qn.Provider,{value:this.props.routeContext},O.createElement(Of.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gS({routeContext:i,match:n,children:a}){let r=O.useContext(ds);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Qn.Provider,{value:i},a)}function yS(i,n=[],a=null,r=null){if(i==null){if(!a)return null;if(a.errors)i=a.matches;else if(n.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let o=i,u=a==null?void 0:a.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Ge(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,h=-1;if(a)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:y,errors:v}=a,x=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,g,y)=>{let v,x=!1,w=null,S=null;a&&(v=u&&g.route.id?u[g.route.id]:void 0,w=g.route.errorElement||mS,d&&(h<0&&y===0?(Pb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):h===y&&(x=!0,S=g.route.hydrateFallbackElement||null)));let R=n.concat(o.slice(0,y+1)),E=()=>{let N;return v?N=w:x?N=S:g.route.Component?N=O.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=m,O.createElement(gS,{match:g,routeContext:{outlet:m,matches:R,isDataRoute:a!=null},children:N})};return a&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?O.createElement(pS,{location:a.location,revalidation:a.revalidation,component:w,error:v,children:E(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):E()},null)}function Rf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bS(i){let n=O.useContext(ds);return Ge(n,Rf(i)),n}function vS(i){let n=O.useContext(Wo);return Ge(n,Rf(i)),n}function _S(i){let n=O.useContext(Qn);return Ge(n,Rf(i)),n}function kf(i){let n=_S(i),a=n.matches[n.matches.length-1];return Ge(a.route.id,`${i} can only be used on routes that contain a unique "id"`),a.route.id}function xS(){return kf("useRouteId")}function wS(){var r;let i=O.useContext(Of),n=vS("useRouteError"),a=kf("useRouteError");return i!==void 0?i:(r=n.errors)==null?void 0:r[a]}function SS(){let{router:i}=bS("useNavigate"),n=kf("useNavigate"),a=O.useRef(!1);return Lb(()=>{a.current=!0}),O.useCallback(async(o,u={})=>{cn(a.current,Db),a.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:n,...u}))},[i,n])}var py={};function Pb(i,n,a){!n&&!py[i]&&(py[i]=!0,cn(!1,a))}O.memo(ES);function ES({routes:i,future:n,state:a}){return zb(i,void 0,a,n)}function _n(i){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AS({basename:i="/",children:n=null,location:a,navigationType:r="POP",navigator:o,static:u=!1}){Ge(!Bi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof a=="string"&&(a=tr(a));let{pathname:m="/",search:g="",hash:y="",state:v=null,key:x="default"}=a,w=O.useMemo(()=>{let S=Xn(m,d);return S==null?null:{location:{pathname:S,search:g,hash:y,state:v,key:x},navigationType:r}},[d,m,g,y,v,x,r]);return cn(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:O.createElement(An.Provider,{value:h},O.createElement(qi.Provider,{children:n,value:w}))}function jS({children:i,location:n}){return fS(tf(i),n)}function tf(i,n=[]){let a=[];return O.Children.forEach(i,(r,o)=>{if(!O.isValidElement(r))return;let u=[...n,o];if(r.type===O.Fragment){a.push.apply(a,tf(r.props.children,u));return}Ge(r.type===_n,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=tf(r.props.children,u)),a.push(d)}),a}var Co="get",No="application/x-www-form-urlencoded";function eu(i){return i!=null&&typeof i.tagName=="string"}function CS(i){return eu(i)&&i.tagName.toLowerCase()==="button"}function NS(i){return eu(i)&&i.tagName.toLowerCase()==="form"}function TS(i){return eu(i)&&i.tagName.toLowerCase()==="input"}function OS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function RS(i,n){return i.button===0&&(!n||n==="_self")&&!OS(i)}var co=null;function kS(){if(co===null)try{new FormData(document.createElement("form"),0),co=!1}catch{co=!0}return co}var $S=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Md(i){return i!=null&&!$S.has(i)?(cn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${No}"`),null):i}function US(i,n){let a,r,o,u,d;if(NS(i)){let h=i.getAttribute("action");r=h?Xn(h,n):null,a=i.getAttribute("method")||Co,o=Md(i.getAttribute("enctype"))||No,u=new FormData(i)}else if(CS(i)||TS(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||h.getAttribute("action");if(r=m?Xn(m,n):null,a=i.getAttribute("formmethod")||h.getAttribute("method")||Co,o=Md(i.getAttribute("formenctype"))||Md(h.getAttribute("enctype"))||No,u=new FormData(h,i),!kS()){let{name:g,type:y,value:v}=i;if(y==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,v)}}else{if(eu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Co,r=null,o=No,d=i}return u&&o==="text/plain"&&(d=u,u=void 0),{action:r,method:a.toLowerCase(),encType:o,formData:u,body:d}}function $f(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}async function MS(i,n){if(i.id in n)return n[i.id];try{let a=await import(i.module);return n[i.id]=a,a}catch(a){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function LS(i,n,a){let r=await Promise.all(i.map(async o=>{let u=n.routes[o.route.id];if(u){let d=await MS(u,a);return d.links?d.links():[]}return[]}));return BS(r.flat(1).filter(DS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gy(i,n,a,r,o,u){let d=(m,g)=>a[g]?m.route.id!==a[g].route.id:!0,h=(m,g)=>{var y;return a[g].pathname!==m.pathname||((y=a[g].route.path)==null?void 0:y.endsWith("*"))&&a[g].params["*"]!==m.params["*"]};return u==="assets"?n.filter((m,g)=>d(m,g)||h(m,g)):u==="data"?n.filter((m,g)=>{var v;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(d(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=a[0])==null?void 0:v.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function zS(i,n,{includeHydrateFallback:a}={}){return PS(i.map(r=>{let o=n.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function PS(i){return[...new Set(i)]}function qS(i){let n={},a=Object.keys(i).sort();for(let r of a)n[r]=i[r];return n}function BS(i,n){let a=new Set;return new Set(n),i.reduce((r,o)=>{let u=JSON.stringify(qS(o));return a.has(u)||(a.add(u),r.push({key:u,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HS=new Set([100,101,204,205]);function IS(i,n){let a=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a.pathname==="/"?a.pathname="_root.data":n&&Xn(a.pathname,n)==="/"?a.pathname=`${n.replace(/\/$/,"")}/_root.data`:a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function qb(){let i=O.useContext(ds);return $f(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function FS(){let i=O.useContext(Wo);return $f(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Uf=O.createContext(void 0);Uf.displayName="FrameworkContext";function Bb(){let i=O.useContext(Uf);return $f(i,"You must render this element inside a <HydratedRouter> element"),i}function GS(i,n){let a=O.useContext(Uf),[r,o]=O.useState(!1),[u,d]=O.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=n,x=O.useRef(null);O.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let R=N=>{N.forEach(U=>{d(U.isIntersecting)})},E=new IntersectionObserver(R,{threshold:.5});return x.current&&E.observe(x.current),()=>{E.disconnect()}}},[i]),O.useEffect(()=>{if(r){let R=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(R)}}},[r]);let w=()=>{o(!0)},S=()=>{o(!1),d(!1)};return a?i!=="intent"?[u,x,{}]:[u,x,{onFocus:mi(h,w),onBlur:mi(m,S),onMouseEnter:mi(g,w),onMouseLeave:mi(y,S),onTouchStart:mi(v,w)}]:[!1,x,{}]}function mi(i,n){return a=>{i&&i(a),a.defaultPrevented||n(a)}}function YS({page:i,...n}){let{router:a}=qb(),r=O.useMemo(()=>Tb(a.routes,i,a.basename),[a.routes,i,a.basename]);return r?O.createElement(XS,{page:i,matches:r,...n}):null}function VS(i){let{manifest:n,routeModules:a}=Bb(),[r,o]=O.useState([]);return O.useEffect(()=>{let u=!1;return LS(i,n,a).then(d=>{u||o(d)}),()=>{u=!0}},[i,n,a]),r}function XS({page:i,matches:n,...a}){let r=nr(),{manifest:o,routeModules:u}=Bb(),{basename:d}=qb(),{loaderData:h,matches:m}=FS(),g=O.useMemo(()=>gy(i,n,m,o,r,"data"),[i,n,m,o,r]),y=O.useMemo(()=>gy(i,n,m,o,r,"assets"),[i,n,m,o,r]),v=O.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let S=new Set,R=!1;if(n.forEach(N=>{var C;let U=o.routes[N.route.id];!U||!U.hasLoader||(!g.some(D=>D.route.id===N.route.id)&&N.route.id in h&&((C=u[N.route.id])!=null&&C.shouldRevalidate)||U.hasClientLoader?R=!0:S.add(N.route.id))}),S.size===0)return[];let E=IS(i,d);return R&&S.size>0&&E.searchParams.set("_routes",n.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[E.pathname+E.search]},[d,h,r,o,g,n,i,u]),x=O.useMemo(()=>zS(y,o),[y,o]),w=VS(y);return O.createElement(O.Fragment,null,v.map(S=>O.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),x.map(S=>O.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),w.map(({key:S,link:R})=>O.createElement("link",{key:S,...R})))}function QS(...i){return n=>{i.forEach(a=>{typeof a=="function"?a(n):a!=null&&(a.current=n)})}}var Hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hb&&(window.__reactRouterVersion="7.6.2")}catch{}function KS({basename:i,children:n,window:a}){let r=O.useRef();r.current==null&&(r.current=Lw({window:a,v5Compat:!0}));let o=r.current,[u,d]=O.useState({action:o.action,location:o.location}),h=O.useCallback(m=>{O.startTransition(()=>d(m))},[d]);return O.useLayoutEffect(()=>o.listen(h),[o,h]),O.createElement(AS,{basename:i,children:n,location:u.location,navigationType:u.action,navigator:o})}var Ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fb=O.forwardRef(function({onClick:n,discover:a="render",prefetch:r="none",relative:o,reloadDocument:u,replace:d,state:h,target:m,to:g,preventScrollReset:y,viewTransition:v,...x},w){let{basename:S}=O.useContext(An),R=typeof g=="string"&&Ib.test(g),E,N=!1;if(typeof g=="string"&&R&&(E=g,Hb))try{let X=new URL(window.location.href),te=g.startsWith("//")?new URL(X.protocol+g):new URL(g),Q=Xn(te.pathname,S);te.origin===X.origin&&Q!=null?g=Q+te.search+te.hash:N=!0}catch{cn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=cS(g,{relative:o}),[C,D,F]=GS(r,x),K=e1(g,{replace:d,state:h,target:m,preventScrollReset:y,relative:o,viewTransition:v});function G(X){n&&n(X),X.defaultPrevented||K(X)}let me=O.createElement("a",{...x,...F,href:E||U,onClick:N||u?n:G,ref:QS(w,D),target:m,"data-discover":!R&&a==="render"?"true":void 0});return C&&!R?O.createElement(O.Fragment,null,me,O.createElement(YS,{page:U})):me});Fb.displayName="Link";var JS=O.forwardRef(function({"aria-current":n="page",caseSensitive:a=!1,className:r="",end:o=!1,style:u,to:d,viewTransition:h,children:m,...g},y){let v=Hi(d,{relative:g.relative}),x=nr(),w=O.useContext(Wo),{navigator:S,basename:R}=O.useContext(An),E=w!=null&&s1(v)&&h===!0,N=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,U=x.pathname,C=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(U=U.toLowerCase(),C=C?C.toLowerCase():null,N=N.toLowerCase()),C&&R&&(C=Xn(C,R)||C);const D=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let F=U===N||!o&&U.startsWith(N)&&U.charAt(D)==="/",K=C!=null&&(C===N||!o&&C.startsWith(N)&&C.charAt(N.length)==="/"),G={isActive:F,isPending:K,isTransitioning:E},me=F?n:void 0,X;typeof r=="function"?X=r(G):X=[r,F?"active":null,K?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let te=typeof u=="function"?u(G):u;return O.createElement(Fb,{...g,"aria-current":me,className:X,ref:y,style:te,to:d,viewTransition:h},typeof m=="function"?m(G):m)});JS.displayName="NavLink";var ZS=O.forwardRef(({discover:i="render",fetcherKey:n,navigate:a,reloadDocument:r,replace:o,state:u,method:d=Co,action:h,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:v,...x},w)=>{let S=a1(),R=r1(h,{relative:g}),E=d.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&Ib.test(h),U=C=>{if(m&&m(C),C.defaultPrevented)return;C.preventDefault();let D=C.nativeEvent.submitter,F=(D==null?void 0:D.getAttribute("formmethod"))||d;S(D||C.currentTarget,{fetcherKey:n,method:F,navigate:a,replace:o,state:u,relative:g,preventScrollReset:y,viewTransition:v})};return O.createElement("form",{ref:w,method:E,action:R,onSubmit:r?m:U,...x,"data-discover":!N&&i==="render"?"true":void 0})});ZS.displayName="Form";function WS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gb(i){let n=O.useContext(ds);return Ge(n,WS(i)),n}function e1(i,{target:n,replace:a,state:r,preventScrollReset:o,relative:u,viewTransition:d}={}){let h=jn(),m=nr(),g=Hi(i,{relative:u});return O.useCallback(y=>{if(RS(y,n)){y.preventDefault();let v=a!==void 0?a:Di(m)===Di(g);h(i,{replace:v,state:r,preventScrollReset:o,relative:u,viewTransition:d})}},[m,h,g,a,r,n,i,o,u,d])}var t1=0,n1=()=>`__${String(++t1)}__`;function a1(){let{router:i}=Gb("useSubmit"),{basename:n}=O.useContext(An),a=xS();return O.useCallback(async(r,o={})=>{let{action:u,method:d,encType:h,formData:m,body:g}=US(r,n);if(o.navigate===!1){let y=o.fetcherKey||n1();await i.fetch(y,a,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||h,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,n,a])}function r1(i,{relative:n}={}){let{basename:a}=O.useContext(An),r=O.useContext(Qn);Ge(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Hi(i||".",{relative:n})},d=nr();if(i==null){u.search=d.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();u.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:Vn([a,u.pathname])),Di(u)}function s1(i,n={}){let a=O.useContext(Mb);Ge(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Gb("useViewTransitionState"),o=Hi(i,{relative:n.relative});if(!a.isTransitioning)return!1;let u=Xn(a.currentLocation.pathname,r)||a.currentLocation.pathname,d=Xn(a.nextLocation.pathname,r)||a.nextLocation.pathname;return qo(o.pathname,d)!=null||qo(o.pathname,u)!=null}[...HS];const i1="modulepreload",l1=function(i){return"/StudyPal-AI/"+i},yy={},Ii=function(n,a,r){let o=Promise.resolve();if(a&&a.length>0){let d=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=d(a.map(g=>{if(g=l1(g),g in yy)return;yy[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":i1,y||(x.as="script"),x.crossOrigin="",x.href=g,m&&x.setAttribute("nonce",m),document.head.appendChild(x),y)return new Promise((w,S)=>{x.addEventListener("load",w),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})},o1=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...a)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},[]).then(({default:r})=>r(...a)):n=fetch,(...a)=>n(...a)};class Mf extends Error{constructor(n,a="FunctionsError",r){super(n),this.name=a,this.context=r}}class u1 extends Mf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class c1 extends Mf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class d1 extends Mf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var nf;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(nf||(nf={}));var f1=function(i,n,a,r){function o(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?u(y.value):o(y.value).then(h,m)}g((r=r.apply(i,n||[])).next())})};class h1{constructor(n,{headers:a={},customFetch:r,region:o=nf.Any}={}){this.url=n,this.headers=a,this.region=o,this.fetch=o1(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,a={}){var r;return f1(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:d}=a;let h={},{region:m}=a;m||(m=this.region),m&&m!=="any"&&(h["x-region"]=m);let g;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(h["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(h["Content-Type"]="application/json",g=JSON.stringify(d)));const y=yield this.fetch(`${this.url}/${n}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:g}).catch(S=>{throw new u1(S)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new c1(y);if(!y.ok)throw new d1(y);let x=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return x==="application/json"?w=yield y.json():x==="application/octet-stream"?w=yield y.blob():x==="text/event-stream"?w=y:x==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null}}catch(o){return{data:null,error:o}}})}}var ut={},Gr={},Yr={},Vr={},Xr={},Qr={},m1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},us=m1();const p1=us.fetch,Yb=us.fetch.bind(us),Vb=us.Headers,g1=us.Request,y1=us.Response,fs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vb,Request:g1,Response:y1,default:Yb,fetch:p1},Symbol.toStringTag,{value:"Module"})),b1=Ew(fs);var fo={},by;function Xb(){if(by)return fo;by=1,Object.defineProperty(fo,"__esModule",{value:!0});class i extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return fo.default=i,fo}var vy;function Qb(){if(vy)return Qr;vy=1;var i=Qr&&Qr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Qr,"__esModule",{value:!0});const n=i(b1),a=i(Xb());class r{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=Object.assign({},this.headers),this.headers[u]=d,this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,x;let w=null,S=null,R=null,E=g.status,N=g.statusText;if(g.ok){if(this.method!=="HEAD"){const F=await g.text();F===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=F:S=JSON.parse(F))}const C=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),D=(v=g.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");C&&D&&D.length>1&&(R=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,R=null,E=406,N="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const C=await g.text();try{w=JSON.parse(C),Array.isArray(w)&&g.status===404&&(S=[],w=null,E=200,N="OK")}catch{g.status===404&&C===""?(E=204,N="No Content"):w={message:C}}if(w&&this.isMaybeSingle&&(!((x=w==null?void 0:w.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,E=200,N="OK"),w&&this.shouldThrowOnError)throw new a.default(w)}return{error:w,data:S,count:R,status:E,statusText:N}});return this.shouldThrowOnError||(m=m.catch(g=>{var y,v,x;return{error:{message:`${(y=g==null?void 0:g.name)!==null&&y!==void 0?y:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(v=g==null?void 0:g.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(x=g==null?void 0:g.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,d)}returns(){return this}overrideTypes(){return this}}return Qr.default=r,Qr}var _y;function Kb(){if(_y)return Xr;_y=1;var i=Xr&&Xr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xr,"__esModule",{value:!0});const n=i(Qb());class a extends n.default{select(o){let u=!1;const d=(o??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:u=!0,nullsFirst:d,foreignTable:h,referencedTable:m=h}={}){const g=m?`${m}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${o}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,u,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(g,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:u=!1,settings:d=!1,buffers:h=!1,wal:m=!1,format:g="text"}={}){var y;const v=[o?"analyze":null,u?"verbose":null,d?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${x}"; options=${v};`,g==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Xr.default=a,Xr}var xy;function Df(){if(xy)return Vr;xy=1;var i=Vr&&Vr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vr,"__esModule",{value:!0});const n=i(Kb());class a extends n.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${m}fts${g}.${u}`),this}match(o){return Object.entries(o).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(o,u,d){return this.url.searchParams.append(o,`not.${u}.${d}`),this}or(o,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,u,d){return this.url.searchParams.append(o,`${u}.${d}`),this}}return Vr.default=a,Vr}var wy;function Jb(){if(wy)return Yr;wy=1;var i=Yr&&Yr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yr,"__esModule",{value:!0});const n=i(Df());class a{constructor(o,{headers:u={},schema:d,fetch:h}){this.url=o,this.headers=u,this.schema=d,this.fetch=h}select(o,{head:u=!1,count:d}={}){const h=u?"HEAD":"GET";let m=!1;const g=(o??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",g),d&&(this.headers.Prefer=`count=${d}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:u,defaultToNull:d=!0}={}){const h="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),d||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const g=o.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:u,ignoreDuplicates:d=!1,count:h,defaultToNull:m=!0}={}){const g="POST",y=[`resolution=${d?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),m||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(o)){const v=o.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(v.length>0){const x=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:u}={}){const d="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),this.headers.Prefer=h.join(","),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const u="DELETE",d=[];return o&&d.push(`count=${o}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Yr.default=a,Yr}var pi={},gi={},Sy;function v1(){return Sy||(Sy=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.version=void 0,gi.version="0.0.0-automated"),gi}var Ey;function _1(){if(Ey)return pi;Ey=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.DEFAULT_HEADERS=void 0;const i=v1();return pi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${i.version}`},pi}var Ay;function x1(){if(Ay)return Gr;Ay=1;var i=Gr&&Gr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Gr,"__esModule",{value:!0});const n=i(Jb()),a=i(Df()),r=_1();class o{constructor(d,{headers:h={},schema:m,fetch:g}={}){this.url=d,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),h),this.schemaName=m,this.fetch=g}from(d){const h=new URL(`${this.url}/${d}`);return new n.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:g=!1,count:y}={}){let v;const x=new URL(`${this.url}/rpc/${d}`);let w;m||g?(v=m?"HEAD":"GET",Object.entries(h).filter(([R,E])=>E!==void 0).map(([R,E])=>[R,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([R,E])=>{x.searchParams.append(R,E)})):(v="POST",w=h);const S=Object.assign({},this.headers);return y&&(S.Prefer=`count=${y}`),new a.default({method:v,url:x,headers:S,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Gr.default=o,Gr}var jy;function w1(){if(jy)return ut;jy=1;var i=ut&&ut.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const n=i(x1());ut.PostgrestClient=n.default;const a=i(Jb());ut.PostgrestQueryBuilder=a.default;const r=i(Df());ut.PostgrestFilterBuilder=r.default;const o=i(Kb());ut.PostgrestTransformBuilder=o.default;const u=i(Qb());ut.PostgrestBuilder=u.default;const d=i(Xb());return ut.PostgrestError=d.default,ut.default={PostgrestClient:n.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:d.default},ut}var S1=w1();const E1=Zo(S1),{PostgrestClient:A1,PostgrestQueryBuilder:AC,PostgrestFilterBuilder:jC,PostgrestTransformBuilder:CC,PostgrestBuilder:NC,PostgrestError:TC}=E1;function j1(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const C1=j1(),N1="2.11.15",T1=`realtime-js/${N1}`,O1="1.0.0",Zb=1e4,R1=1e3;var Ti;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Ti||(Ti={}));var xt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(xt||(xt={}));var on;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(on||(on={}));var af;(function(i){i.websocket="websocket"})(af||(af={}));var Qa;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Qa||(Qa={}));class k1{constructor(){this.HEADER_LENGTH=1}decode(n,a){return n.constructor===ArrayBuffer?a(this._binaryDecode(n)):a(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const a=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,a,r)}_decodeBroadcast(n,a,r){const o=a.getUint8(1),u=a.getUint8(2);let d=this.HEADER_LENGTH+2;const h=r.decode(n.slice(d,d+o));d=d+o;const m=r.decode(n.slice(d,d+u));d=d+u;const g=JSON.parse(r.decode(n.slice(d,n.byteLength)));return{ref:null,topic:h,event:m,payload:g}}}class Wb{constructor(n,a){this.callback=n,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(ze||(ze={}));const Cy=(i,n,a={})=>{var r;const o=(r=a.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((u,d)=>(u[d]=$1(d,i,n,o),u),{})},$1=(i,n,a,r)=>{const o=n.find(h=>h.name===i),u=o==null?void 0:o.type,d=a[i];return u&&!r.includes(u)?e0(u,d):rf(d)},e0=(i,n)=>{if(i.charAt(0)==="_"){const a=i.slice(1,i.length);return L1(n,a)}switch(i){case ze.bool:return U1(n);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return M1(n);case ze.json:case ze.jsonb:return D1(n);case ze.timestamp:return z1(n);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return rf(n);default:return rf(n)}},rf=i=>i,U1=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},M1=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},D1=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},L1=(i,n)=>{if(typeof i!="string")return i;const a=i.length-1,r=i[a];if(i[0]==="{"&&r==="}"){let u;const d=i.slice(1,a);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(h=>e0(n,h))}return i},z1=i=>typeof i=="string"?i.replace(" ","T"):i,t0=i=>{let n=i;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class Dd{constructor(n,a,r={},o=Zb){this.channel=n,this.event=a,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,a){var r;return this._hasReceived(n)&&a((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:a}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(a))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ny;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Ny||(Ny={}));class Oi{constructor(n,a){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oi.syncState(this.state,o,u,d),this.pendingDiffs.forEach(m=>{this.state=Oi.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Oi.syncDiff(this.state,o,u,d),h())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,a,r,o){const u=this.cloneDeep(n),d=this.transformState(a),h={},m={};return this.map(u,(g,y)=>{d[g]||(m[g]=y)}),this.map(d,(g,y)=>{const v=u[g];if(v){const x=y.map(E=>E.presence_ref),w=v.map(E=>E.presence_ref),S=y.filter(E=>w.indexOf(E.presence_ref)<0),R=v.filter(E=>x.indexOf(E.presence_ref)<0);S.length>0&&(h[g]=S),R.length>0&&(m[g]=R)}else h[g]=y}),this.syncDiff(u,{joins:h,leaves:m},r,o)}static syncDiff(n,a,r,o){const{joins:u,leaves:d}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(u,(h,m)=>{var g;const y=(g=n[h])!==null&&g!==void 0?g:[];if(n[h]=this.cloneDeep(m),y.length>0){const v=n[h].map(w=>w.presence_ref),x=y.filter(w=>v.indexOf(w.presence_ref)<0);n[h].unshift(...x)}r(h,y,m)}),this.map(d,(h,m)=>{let g=n[h];if(!g)return;const y=m.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),n[h]=g,o(h,g,m),g.length===0&&delete n[h]}),n}static map(n,a){return Object.getOwnPropertyNames(n).map(r=>a(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((a,r)=>{const o=n[r];return"metas"in o?a[r]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[r]=o,a},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ty;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Ty||(Ty={}));var Oy;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Oy||(Oy={}));var Gn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Gn||(Gn={}));class Lf{constructor(n,a={config:{}},r){this.topic=n,this.params=a,this.socket=r,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Dd(this,on.join,this.params,this.timeout),this.rejoinTimer=new Wb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(on.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Oi(this),this.broadcastEndpointURL=t0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,a=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==xt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params;this._onError(y=>n==null?void 0:n(Gn.CHANNEL_ERROR,y)),this._onClose(()=>n==null?void 0:n(Gn.CLOSED));const m={},g={broadcast:u,presence:d,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){n==null||n(Gn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,S=[];for(let R=0;R<w;R++){const E=x[R],{filter:{event:N,schema:U,table:C,filter:D}}=E,F=y&&y[R];if(F&&F.event===N&&F.schema===U&&F.table===C&&F.filter===D)S.push(Object.assign(Object.assign({},E),{id:F.id}));else{this.unsubscribe(),this.state=xt.errored,n==null||n(Gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,n&&n(Gn.SUBSCRIBED);return}}).receive("error",y=>{this.state=xt.errored,n==null||n(Gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,a={}){return await this.send({type:"presence",event:"track",payload:n},a.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,a,r){return this._on(n,a,r)}async send(n,a={}){var r,o;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:d}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,h,m;const g=this._push(n.type,n,a.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=xt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(on.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Dd(this,on.leave,{},n),r.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(n,a,r){const o=new AbortController,u=setTimeout(()=>o.abort(),r),d=await this.socket.fetch(n,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(u),d}_push(n,a,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Dd(this,n,a,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(n,a,r){return a}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,a,r){var o,u;const d=n.toLocaleLowerCase(),{close:h,error:m,leave:g,join:y}=on;if(r&&[h,m,g,y].indexOf(d)>=0&&r!==this._joinRef())return;let x=this._onMessage(d,a,r);if(a&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var S,R,E;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(R=w.filter)===null||R===void 0?void 0:R.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===d}).map(w=>w.callback(x,r)):(u=this.bindings[d])===null||u===void 0||u.filter(w=>{var S,R,E,N,U,C;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const D=w.id,F=(S=w.filter)===null||S===void 0?void 0:S.event;return D&&((R=a.ids)===null||R===void 0?void 0:R.includes(D))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((E=a.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const D=(U=(N=w==null?void 0:w.filter)===null||N===void 0?void 0:N.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return D==="*"||D===((C=a==null?void 0:a.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof x=="object"&&"ids"in x){const S=x.data,{schema:R,table:E,commit_timestamp:N,type:U,errors:C}=S;x=Object.assign(Object.assign({},{schema:R,table:E,commit_timestamp:N,eventType:U,new:{},old:{},errors:C}),this._getPayloadRecords(S))}w.callback(x,r)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,a,r){const o=n.toLocaleLowerCase(),u={type:o,filter:a,callback:r};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,a){const r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&Lf.isEqual(o.filter,a))}),this}static isEqual(n,a){if(Object.keys(n).length!==Object.keys(a).length)return!1;for(const r in n)if(n[r]!==a[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(on.close,{},n)}_onError(n){this._on(on.error,{},a=>n(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const a={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(a.new=Cy(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(a.old=Cy(n.columns,n.old_record)),a}}const Ry=()=>{},P1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class q1{constructor(n,a){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ry,this.ref=0,this.logger=Ry,this.conn=null,this.sendBuffer=[],this.serializer=new k1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...h)=>Ii(async()=>{const{default:m}=await Promise.resolve().then(()=>fs);return{default:m}},void 0).then(({default:m})=>m(...h)):d=fetch,(...h)=>d(...h)},this.endPoint=`${n}/${af.websocket}`,this.httpEndpoint=t0(n),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const o=(r=a==null?void 0:a.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(u,d)=>d(JSON.stringify(u)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=C1),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:O1}))}disconnect(n,a){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(n){const a=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const n=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,a,r){this.logger(n,a,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ti.connecting:return Qa.Connecting;case Ti.open:return Qa.Open;case Ti.closing:return Qa.Closing;default:return Qa.Closed}}isConnected(){return this.connectionState()===Qa.Open}channel(n,a={config:{}}){const r=`realtime:${n}`,o=this.getChannels().find(u=>u.topic===r);if(o)return o;{const u=new Lf(`realtime:${n}`,a,this);return this.channels.push(u),u}}push(n){const{topic:a,event:r,payload:o,ref:u}=n,d=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${a} ${r} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){let a=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(r=>{const o={access_token:a,version:T1};a&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(on.access_token,{access_token:a})}))}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(R1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let a=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${n}"`),a.unsubscribe())}_remove(n){this.channels=this.channels.filter(a=>a.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,a=>{let{topic:r,event:o,payload:u,ref:d}=a;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${r} ${o} ${d&&"("+d+")"||""}`,u),Array.from(this.channels).filter(h=>h._isMember(r)).forEach(h=>h._trigger(o,u,d)),this.stateChangeCallbacks.message.forEach(h=>h(a))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(on.error))}_appendParams(n,a){if(Object.keys(a).length===0)return n;const r=n.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${n}${r}${o}`}_workerObjectUrl(n){let a;if(n)a=n;else{const r=new Blob([P1],{type:"application/javascript"});a=URL.createObjectURL(r)}return a}}class zf extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function dt(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class B1 extends zf{constructor(n,a){super(n),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class sf extends zf{constructor(n,a){super(n),this.name="StorageUnknownError",this.originalError=a}}var H1=function(i,n,a,r){function o(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?u(y.value):o(y.value).then(h,m)}g((r=r.apply(i,n||[])).next())})};const n0=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...a)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...a)):n=fetch,(...a)=>n(...a)},I1=()=>H1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ii(()=>Promise.resolve().then(()=>fs),void 0)).Response:Response}),lf=i=>{if(Array.isArray(i))return i.map(a=>lf(a));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([a,r])=>{const o=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=lf(r)}),n};var ar=function(i,n,a,r){function o(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?u(y.value):o(y.value).then(h,m)}g((r=r.apply(i,n||[])).next())})};const Ld=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),F1=(i,n,a)=>ar(void 0,void 0,void 0,function*(){const r=yield I1();i instanceof r&&!(a!=null&&a.noResolveJson)?i.json().then(o=>{n(new B1(Ld(o),i.status||500))}).catch(o=>{n(new sf(Ld(o),o))}):n(new sf(Ld(i),i))}),G1=(i,n,a,r)=>{const o={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),a))};function Fi(i,n,a,r,o,u){return ar(this,void 0,void 0,function*(){return new Promise((d,h)=>{i(a,G1(n,r,o,u)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>F1(m,h,r))})})}function Bo(i,n,a,r){return ar(this,void 0,void 0,function*(){return Fi(i,"GET",n,a,r)})}function Aa(i,n,a,r,o){return ar(this,void 0,void 0,function*(){return Fi(i,"POST",n,r,o,a)})}function Y1(i,n,a,r,o){return ar(this,void 0,void 0,function*(){return Fi(i,"PUT",n,r,o,a)})}function V1(i,n,a,r){return ar(this,void 0,void 0,function*(){return Fi(i,"HEAD",n,Object.assign(Object.assign({},a),{noResolveJson:!0}),r)})}function a0(i,n,a,r,o){return ar(this,void 0,void 0,function*(){return Fi(i,"DELETE",n,r,o,a)})}var Ot=function(i,n,a,r){function o(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?u(y.value):o(y.value).then(h,m)}g((r=r.apply(i,n||[])).next())})};const X1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ky={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Q1{constructor(n,a={},r,o){this.url=n,this.headers=a,this.bucketId=r,this.fetch=n0(o)}uploadOrUpdate(n,a,r,o){return Ot(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},ky),o);let h=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const g=this._removeEmptyFolders(a),y=this._getFinalPath(g),v=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:n,body:u,headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{})),x=yield v.json();return v.ok?{data:{path:g,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(u){if(dt(u))return{data:null,error:u};throw u}})}upload(n,a,r){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,a,r)})}uploadToSignedUrl(n,a,r,o){return Ot(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",a);try{let m;const g=Object.assign({upsert:ky.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",g.cacheControl)):(m=r,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield this.fetch(h.toString(),{method:"PUT",body:m,headers:y}),x=yield v.json();return v.ok?{data:{path:u,fullPath:x.Key},error:null}:{data:null,error:x}}catch(m){if(dt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,a){return Ot(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const o=Object.assign({},this.headers);a!=null&&a.upsert&&(o["x-upsert"]="true");const u=yield Aa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),d=new URL(this.url+u.url),h=d.searchParams.get("token");if(!h)throw new zf("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:h},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}update(n,a,r){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,a,r)})}move(n,a,r){return Ot(this,void 0,void 0,function*(){try{return{data:yield Aa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}copy(n,a,r){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Aa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}createSignedUrl(n,a,r){return Ot(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),u=yield Aa(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:a},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}createSignedUrls(n,a,r){return Ot(this,void 0,void 0,function*(){try{const o=yield Aa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:n},{headers:this.headers}),u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}download(n,a){return Ot(this,void 0,void 0,function*(){const o=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),d=u?`?${u}`:"";try{const h=this._getFinalPath(n);return{data:yield(yield Bo(this.fetch,`${this.url}/${o}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(dt(h))return{data:null,error:h};throw h}})}info(n){return Ot(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{const r=yield Bo(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:lf(r),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}exists(n){return Ot(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{return yield V1(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(dt(r)&&r instanceof sf){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,a){const r=this._getFinalPath(n),o=[],u=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&o.push(u);const h=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});m!==""&&o.push(m);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${g}`)}}}remove(n){return Ot(this,void 0,void 0,function*(){try{return{data:yield a0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(a){if(dt(a))return{data:null,error:a};throw a}})}list(n,a,r){return Ot(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},X1),a),{prefix:n||""});return{data:yield Aa(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}}const K1="2.7.1",J1={"X-Client-Info":`storage-js/${K1}`};var Kr=function(i,n,a,r){function o(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?u(y.value):o(y.value).then(h,m)}g((r=r.apply(i,n||[])).next())})};class Z1{constructor(n,a={},r){this.url=n,this.headers=Object.assign(Object.assign({},J1),a),this.fetch=n0(r)}listBuckets(){return Kr(this,void 0,void 0,function*(){try{return{data:yield Bo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}getBucket(n){return Kr(this,void 0,void 0,function*(){try{return{data:yield Bo(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(a){if(dt(a))return{data:null,error:a};throw a}})}createBucket(n,a={public:!1}){return Kr(this,void 0,void 0,function*(){try{return{data:yield Aa(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}updateBucket(n,a){return Kr(this,void 0,void 0,function*(){try{return{data:yield Y1(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Kr(this,void 0,void 0,function*(){try{return{data:yield Aa(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(dt(a))return{data:null,error:a};throw a}})}deleteBucket(n){return Kr(this,void 0,void 0,function*(){try{return{data:yield a0(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(a){if(dt(a))return{data:null,error:a};throw a}})}}class W1 extends Z1{constructor(n,a={},r){super(n,a,r)}from(n){return new Q1(this.url,this.headers,n,this.fetch)}}const e2="2.50.2";let vi="";typeof Deno<"u"?vi="deno":typeof document<"u"?vi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vi="react-native":vi="node";const t2={"X-Client-Info":`supabase-js-${vi}/${e2}`},n2={headers:t2},a2={schema:"public"},r2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s2={};var i2=function(i,n,a,r){function o(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?u(y.value):o(y.value).then(h,m)}g((r=r.apply(i,n||[])).next())})};const l2=i=>{let n;return i?n=i:typeof fetch>"u"?n=Yb:n=fetch,(...a)=>n(...a)},o2=()=>typeof Headers>"u"?Vb:Headers,u2=(i,n,a)=>{const r=l2(a),o=o2();return(u,d)=>i2(void 0,void 0,void 0,function*(){var h;const m=(h=yield n())!==null&&h!==void 0?h:i;let g=new o(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),r(u,Object.assign(Object.assign({},d),{headers:g}))})};var c2=function(i,n,a,r){function o(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?u(y.value):o(y.value).then(h,m)}g((r=r.apply(i,n||[])).next())})};function d2(i){return i.endsWith("/")?i:i+"/"}function f2(i,n){var a,r;const{db:o,auth:u,realtime:d,global:h}=i,{db:m,auth:g,realtime:y,global:v}=n,x={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},y),d),global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(a=v==null?void 0:v.headers)!==null&&a!==void 0?a:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>c2(this,void 0,void 0,function*(){return""})};return i.accessToken?x.accessToken=i.accessToken:delete x.accessToken,x}const r0="2.70.0",as=30*1e3,of=3,zd=of*as,h2="http://localhost:9999",m2="supabase.auth.token",p2={"X-Client-Info":`gotrue-js/${r0}`},uf="X-Supabase-Api-Version",s0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},g2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,y2=6e5;class Pf extends Error{constructor(n,a,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=r}}function ye(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class b2 extends Pf{constructor(n,a,r){super(n,a,r),this.name="AuthApiError",this.status=a,this.code=r}}function v2(i){return ye(i)&&i.name==="AuthApiError"}class i0 extends Pf{constructor(n,a){super(n),this.name="AuthUnknownError",this.originalError=a}}class Ca extends Pf{constructor(n,a,r,o){super(n,r,o),this.name=a,this.status=r}}class Ea extends Ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _2(i){return ye(i)&&i.name==="AuthSessionMissingError"}class ho extends Ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mo extends Ca{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class po extends Ca{constructor(n,a=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function x2(i){return ye(i)&&i.name==="AuthImplicitGrantRedirectError"}class $y extends Ca{constructor(n,a=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cf extends Ca{constructor(n,a){super(n,"AuthRetryableFetchError",a,void 0)}}function Pd(i){return ye(i)&&i.name==="AuthRetryableFetchError"}class Uy extends Ca{constructor(n,a,r){super(n,"AuthWeakPasswordError",a,"weak_password"),this.reasons=r}}class Ri extends Ca{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),My=` 	
\r=`.split(""),w2=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<My.length;n+=1)i[My[n].charCodeAt(0)]=-2;for(let n=0;n<Ho.length;n+=1)i[Ho[n].charCodeAt(0)]=n;return i})();function Dy(i,n,a){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;a(Ho[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;a(Ho[r]),n.queuedBits-=6}}function l0(i,n,a){const r=w2[i];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)a(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Ly(i){const n=[],a=d=>{n.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{A2(d,r,a)};for(let d=0;d<i.length;d+=1)l0(i.charCodeAt(d),o,u);return n.join("")}function S2(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function E2(i,n){for(let a=0;a<i.length;a+=1){let r=i.charCodeAt(a);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(i.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}S2(r,n)}}function A2(i,n,a){if(n.utf8seq===0){if(i<=127){a(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&a(n.codepoint)}}function j2(i){const n=[],a={queue:0,queuedBits:0},r=o=>{n.push(o)};for(let o=0;o<i.length;o+=1)l0(i.charCodeAt(o),a,r);return new Uint8Array(n)}function C2(i){const n=[];return E2(i,a=>n.push(a)),new Uint8Array(n)}function N2(i){const n=[],a={queue:0,queuedBits:0},r=o=>{n.push(o)};return i.forEach(o=>Dy(o,a,r)),Dy(null,a,r),n.join("")}function T2(i){return Math.round(Date.now()/1e3)+i}function O2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const n=Math.random()*16|0;return(i=="x"?n:n&3|8).toString(16)})}const sn=()=>typeof window<"u"&&typeof document<"u",Ya={tested:!1,writable:!1},ki=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ya.tested)return Ya.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Ya.tested=!0,Ya.writable=!0}catch{Ya.tested=!0,Ya.writable=!1}return Ya.writable};function R2(i){const n={},a=new URL(i);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return a.searchParams.forEach((r,o)=>{n[o]=r}),n}const o0=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...a)=>Ii(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...a)):n=fetch,(...a)=>n(...a)},k2=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",u0=async(i,n,a)=>{await i.setItem(n,JSON.stringify(a))},go=async(i,n)=>{const a=await i.getItem(n);if(!a)return null;try{return JSON.parse(a)}catch{return a}},yo=async(i,n)=>{await i.removeItem(n)};class tu{constructor(){this.promise=new tu.promiseConstructor((n,a)=>{this.resolve=n,this.reject=a})}}tu.promiseConstructor=Promise;function qd(i){const n=i.split(".");if(n.length!==3)throw new Ri("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!g2.test(n[r]))throw new Ri("JWT not in base64url format");return{header:JSON.parse(Ly(n[0])),payload:JSON.parse(Ly(n[1])),signature:j2(n[2]),raw:{header:n[0],payload:n[1]}}}async function $2(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function U2(i,n){return new Promise((r,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await i(u);if(!n(u,null,d)){r(d);return}}catch(d){if(!n(u,d)){o(d);return}}})()})}function M2(i){return("0"+i.toString(16)).substr(-2)}function D2(){const n=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=a.length;let o="";for(let u=0;u<56;u++)o+=a.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(n),Array.from(n,M2).join("")}async function L2(i){const a=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(r);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function z2(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const a=await L2(i);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jr(i,n,a=!1){const r=D2();let o=r;a&&(o+="/PASSWORD_RECOVERY"),await u0(i,`${n}-code-verifier`,o);const u=await z2(r);return[u,r===u?"plain":"s256"]}const P2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q2(i){const n=i.headers.get(uf);if(!n||!n.match(P2))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function B2(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function H2(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const I2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zr(i){if(!I2.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var F2=function(i,n){var a={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(a[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(a[r[o]]=i[r[o]]);return a};const Va=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),G2=[502,503,504];async function zy(i){var n;if(!k2(i))throw new cf(Va(i),0);if(G2.includes(i.status))throw new cf(Va(i),i.status);let a;try{a=await i.json()}catch(u){throw new i0(Va(u),u)}let r;const o=q2(i);if(o&&o.getTime()>=s0["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?r=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(r=a.error_code),r){if(r==="weak_password")throw new Uy(Va(a),i.status,((n=a.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Ea}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Uy(Va(a),i.status,a.weak_password.reasons);throw new b2(Va(a),i.status||500,r)}const Y2=(i,n,a,r)=>{const o={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),a))};async function Ee(i,n,a,r){var o;const u=Object.assign({},r==null?void 0:r.headers);u[uf]||(u[uf]=s0["2024-01-01"].name),r!=null&&r.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const d=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(d.redirect_to=r.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await V2(i,n,a+h,{headers:u,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function V2(i,n,a,r,o,u){const d=Y2(n,r,o,u);let h;try{h=await i(a,Object.assign({},d))}catch(m){throw console.error(m),new cf(Va(m),0)}if(h.ok||await zy(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(m){await zy(m)}}function In(i){var n;let a=null;J2(i)&&(a=Object.assign({},i),i.expires_at||(a.expires_at=T2(i.expires_in)));const r=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:a,user:r},error:null}}function Py(i){const n=In(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0)&&(n.data.weak_password=i.weak_password),n}function ja(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function X2(i){return{data:i,error:null}}function Q2(i){const{action_link:n,email_otp:a,hashed_token:r,redirect_to:o,verification_type:u}=i,d=F2(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:a,hashed_token:r,redirect_to:o,verification_type:u},m=Object.assign({},d);return{data:{properties:h,user:m},error:null}}function K2(i){return i}function J2(i){return i.access_token&&i.refresh_token&&i.expires_in}const Bd=["global","local","others"];var Z2=function(i,n){var a={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(a[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(a[r[o]]=i[r[o]]);return a};class W2{constructor({url:n="",headers:a={},fetch:r}){this.url=n,this.headers=a,this.fetch=o0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,a=Bd[0]){if(Bd.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bd.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,a={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:ja})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:a}=n,r=Z2(n,["options"]),o=Object.assign(Object.assign({},r),a);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Q2,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(ye(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(n){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ja})}catch(a){if(ye(a))return{data:{user:null},error:a};throw a}}async listUsers(n){var a,r,o,u,d,h,m;try{const g={nextPage:null,lastPage:0,total:0},y=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=n==null?void 0:n.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(u=(o=n==null?void 0:n.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:K2});if(y.error)throw y.error;const v=await y.json(),x=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(S=>{const R=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);g[`${E}Page`]=R}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(ye(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){Zr(n);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ja})}catch(a){if(ye(a))return{data:{user:null},error:a};throw a}}async updateUserById(n,a){Zr(n);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:a,headers:this.headers,xform:ja})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,a=!1){Zr(n);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:a},xform:ja})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Zr(n.userId);try{const{data:a,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:r}}catch(a){if(ye(a))return{data:null,error:a};throw a}}async _deleteFactor(n){Zr(n.userId),Zr(n.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(a){if(ye(a))return{data:null,error:a};throw a}}}const eE={getItem:i=>ki()?globalThis.localStorage.getItem(i):null,setItem:(i,n)=>{ki()&&globalThis.localStorage.setItem(i,n)},removeItem:i=>{ki()&&globalThis.localStorage.removeItem(i)}};function qy(i={}){return{getItem:n=>i[n]||null,setItem:(n,a)=>{i[n]=a},removeItem:n=>{delete i[n]}}}function tE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wr={debug:!!(globalThis&&ki()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class nE extends c0{}async function aE(i,n,a){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await a()}finally{Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(n===0)throw Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new nE(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Wr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}tE();const rE={url:h2,storageKey:m2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:p2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function By(i,n,a){return await a()}class Li{constructor(n){var a,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Li.nextInstanceID,Li.nextInstanceID+=1,this.instanceID>0&&sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},rE),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new W2({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=o0(o.fetch),this.lock=o.lock||By,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:sn()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=aE:this.lock=By,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:ki()?this.storage=eE:(this.memoryStorage={},this.storage=qy(this.memoryStorage)):(this.memoryStorage={},this.storage=qy(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${r0}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const a=R2(window.location.href);let r="none";if(this._isImplicitGrantCallback(a)?r="implicit":await this._isPKCECallback(a)&&(r="pkce"),sn()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:u}=await this._getSessionFromURL(a,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),x2(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return ye(a)?{error:a}:{error:new i0("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var a,r,o;try{const u=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(a=n==null?void 0:n.options)===null||a===void 0?void 0:a.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=n==null?void 0:n.options)===null||o===void 0?void 0:o.captchaToken}},xform:In}),{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(ye(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var a,r,o;try{let u;if("email"in n){const{email:y,password:v,options:x}=n;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Jr(this.storage,this.storageKey)),u=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:y,password:v,data:(a=x==null?void 0:x.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:w,code_challenge_method:S},xform:In})}else if("phone"in n){const{phone:y,password:v,options:x}=n;u=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(o=x==null?void 0:x.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:In})}else throw new mo("You must provide either an email or phone number and a password");const{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const m=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(u){if(ye(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let a;if("email"in n){const{email:u,password:d,options:h}=n;a=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Py})}else if("phone"in n){const{phone:u,password:d,options:h}=n;a=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Py})}else throw new mo("You must provide either an email or phone number and a password");const{data:r,error:o}=a;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ho}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(a){if(ye(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(n){var a,r,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:a}=n;if(a==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(n){var a,r,o,u,d,h,m,g,y,v,x,w;let S,R;if("message"in n)S=n.message,R=n.signature;else{const{chain:E,wallet:N,statement:U,options:C}=n;let D;if(sn())if(typeof N=="object")D=N;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))D=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=N}const F=new URL((a=C==null?void 0:C.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in D&&D.signIn){const K=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),U?{statement:U}:null));let G;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")G=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)G=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)S=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),R=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${F.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(o=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((d=C==null?void 0:C.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((h=C==null?void 0:C.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((m=C==null?void 0:C.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((g=C==null?void 0:C.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((v=(y=C==null?void 0:C.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...C.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const K=await D.signMessage(new TextEncoder().encode(S),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=K}}try{const{data:E,error:N}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:N2(R)},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:In});if(N)throw N;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ho}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:N})}catch(E){if(ye(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(n){const a=await go(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(a??"").split("/");try{const{data:u,error:d}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:In});if(await yo(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new ho}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(ye(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:a,provider:r,token:o,access_token:u,nonce:d}=n,h=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:In}),{data:m,error:g}=h;return g?{data:{user:null,session:null},error:g}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ho}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:g})}catch(a){if(ye(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(n){var a,r,o,u,d;try{if("email"in n){const{email:h,options:m}=n;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Jr(this.storage,this.storageKey));const{error:v}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in n){const{phone:h,options:m}=n,{data:g,error:y}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y}}throw new mo("You must provide either an email or phone number.")}catch(h){if(ye(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(n){var a,r;try{let o,u;"options"in n&&(o=(a=n.options)===null||a===void 0?void 0:a.redirectTo,u=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:h}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:In});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,g=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:g,session:m},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(n){var a,r,o;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await Jr(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(a=n.options)===null||a===void 0?void 0:a.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=n==null?void 0:n.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:X2})}catch(u){if(ye(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:a},error:r}=n;if(r)throw r;if(!a)throw new Ea;const{error:o}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:o}})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const a=`${this.url}/resend`;if("email"in n){const{email:r,type:o,options:u}=n,{error:d}=await Ee(this.fetch,"POST",a,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in n){const{phone:r,type:o,options:u}=n,{data:d,error:h}=await Ee(this.fetch,"POST",a,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new mo("You must provide either an email or phone number and a type")}catch(a){if(ye(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(n,a){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=a();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await n(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const a=await go(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?n=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<zd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.storage.isServer){let d=this.suppressGetSessionWarning;n=new Proxy(n,{get:(m,g,y)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,g,y))})}return{data:{session:n},error:null}}const{session:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ja}):await this._useSession(async a=>{var r,o,u;const{data:d,error:h}=a;if(h)throw h;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ea}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:ja})})}catch(a){if(ye(a))return _2(a)&&(await this._removeSession(),await yo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(n,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,a))}async _updateUser(n,a={}){try{return await this._useSession(async r=>{const{data:o,error:u}=r;if(u)throw u;if(!o.session)throw new Ea;const d=o.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await Jr(this.storage,this.storageKey));const{data:g,error:y}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:d.access_token,xform:ja});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ea;const a=Date.now()/1e3;let r=a,o=!0,u=null;const{payload:d}=qd(n.access_token);if(d.exp&&(r=d.exp,o=r<=a),o){const{session:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)throw m;u={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:r-a,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(a){if(ye(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async a=>{var r;if(!n){const{data:d,error:h}=a;if(h)throw h;n=(r=d.session)!==null&&r!==void 0?r:void 0}if(!(n!=null&&n.refresh_token))throw new Ea;const{session:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(ye(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(n,a){try{if(!sn())throw new po("No browser detected.");if(n.error||n.error_description||n.error_code)throw new po(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new $y("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new po("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new $y("No code detected.");const{data:U,error:C}=await this._exchangeCodeForSession(n.code);if(C)throw C;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:h,expires_at:m,token_type:g}=n;if(!u||!h||!d||!g)throw new po("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(h);let x=y+v;m&&(x=parseInt(m));const w=x-y;w*1e3<=as&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const S=x-v;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,x,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,x,y);const{data:R,error:E}=await this._getUser(u);if(E)throw E;const N={provider_token:r,provider_refresh_token:o,access_token:u,expires_in:v,expires_at:x,refresh_token:d,token_type:g,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:n.type},error:null}}catch(r){if(ye(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const a=await go(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&a)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async a=>{var r;const{data:o,error:u}=a;if(u)return{error:u};const d=(r=o.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:h}=await this.admin.signOut(d,n);if(h&&!(v2(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return n!=="others"&&(await this._removeSession(),await yo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const a=O2(),r={id:a,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async a=>{var r,o;try{const{data:{session:u},error:d}=a;if(d)throw d;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,a={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Jr(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(ye(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:a,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(n=a.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(a){if(ye(a))return{data:null,error:a};throw a}}async linkIdentity(n){var a;try{const{data:r,error:o}=await this._useSession(async u=>{var d,h,m,g,y;const{data:v,error:x}=u;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return sn()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:n.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ye(r))return{data:{provider:n.provider,url:null},error:r};throw r}}async unlinkIdentity(n){try{return await this._useSession(async a=>{var r,o;const{data:u,error:d}=a;if(d)throw d;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(ye(a))return{data:null,error:a};throw a}}async _refreshAccessToken(n){const a=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{const r=Date.now();return await U2(async o=>(o>0&&await $2(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:In})),(o,u)=>{const d=200*Math.pow(2,o);return u&&Pd(u)&&Date.now()+d-r<as})}catch(r){if(this._debug(a,"error",r),ye(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(a,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,a){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",a,"url",r),sn()&&!a.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const r=await go(this.storage,this.storageKey);if(this._debug(a,"session from storage",r),!this._isValidSession(r)){this._debug(a,"session is not valid"),r!==null&&await this._removeSession();return}const o=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<zd;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${zd}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:u}=await this._callRefreshToken(r.refresh_token);u&&(console.error(u),Pd(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(a,"error",r),console.error(r);return}finally{this._debug(a,"end")}}async _callRefreshToken(n){var a,r;if(!n)throw new Ea;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new tu;const{data:u,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!u.session)throw new Ea;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={session:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(o,"error",u),ye(u)){const d={session:null,error:u};return Pd(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,a,r=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",a,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:a});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,a)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await u0(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await yo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),as);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async a=>{const{data:{session:r}}=a;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-n)/as);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${as}ms, refresh threshold is ${of} ticks`),o<=of&&await this._callRefreshToken(r.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof c0)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const a=`#_onVisibilityChanged(${n})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,a,r){const o=[`provider=${encodeURIComponent(a)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,d]=await Jr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const u=new URLSearchParams(r.queryParams);o.push(u.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async a=>{var r;const{data:o,error:u}=a;return u?{data:null,error:u}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(ye(a))return{data:null,error:a};throw a}}async _enroll(n){try{return await this._useSession(async a=>{var r,o;const{data:u,error:d}=a;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:m,error:g}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(n.factorType==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(a){if(ye(a))return{data:null,error:a};throw a}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:o,error:u}=a;if(u)return{data:null,error:u};const{data:d,error:h}=await Ee(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(a){if(ye(a))return{data:null,error:a};throw a}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:o,error:u}=a;return u?{data:null,error:u}:await Ee(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(ye(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(n){const{data:a,error:r}=await this._challenge({factorId:n.factorId});return r?{data:null,error:r}:await this._verify({factorId:n.factorId,challengeId:a.id,code:n.code})}async _listFactors(){const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const r=(n==null?void 0:n.factors)||[],o=r.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=r.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:r,totp:o,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var a,r;const{data:{session:o},error:u}=n;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=qd(o.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((r=(a=o.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(n,a={keys:[]}){let r=a.keys.find(d=>d.kid===n);if(r||(r=this.jwks.keys.find(d=>d.kid===n),r&&this.jwks_cached_at+y2>Date.now()))return r;const{data:o,error:u}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!o.keys||o.keys.length===0)throw new Ri("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(d=>d.kid===n),!r)throw new Ri("No matching signing key found in JWKS");return r}async getClaims(n,a={keys:[]}){try{let r=n;if(!r){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};r=w.session.access_token}const{header:o,payload:u,signature:d,raw:{header:h,payload:m}}=qd(r);if(B2(u.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:u,header:o,signature:d},error:null}}const g=H2(o.alg),y=await this.fetchJwk(o.kid,a),v=await crypto.subtle.importKey("jwk",y,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,d,C2(`${h}.${m}`)))throw new Ri("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}Li.nextInstanceID=0;const sE=Li;class iE extends sE{constructor(n){super(n)}}var lE=function(i,n,a,r){function o(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function h(y){try{g(r.next(y))}catch(v){d(v)}}function m(y){try{g(r.throw(y))}catch(v){d(v)}}function g(y){y.done?u(y.value):o(y.value).then(h,m)}g((r=r.apply(i,n||[])).next())})};class oE{constructor(n,a,r){var o,u,d;if(this.supabaseUrl=n,this.supabaseKey=a,!n)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const h=d2(n),m=new URL(h);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:a2,realtime:s2,auth:Object.assign(Object.assign({},r2),{storageKey:g}),global:n2},v=f2(r??{},y);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=v.global.headers)!==null&&u!==void 0?u:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=v.auth)!==null&&d!==void 0?d:{},this.headers,v.global.fetch),this.fetch=u2(a,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new A1(new URL("rest/v1",m).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new h1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new W1(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},r={}){return this.rest.rpc(n,a,r)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,a;return lE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(a=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:r,storage:o,storageKey:u,flowType:d,lock:h,debug:m},g,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iE({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),g),storageKey:u,autoRefreshToken:n,persistSession:a,detectSessionInUrl:r,storage:o,flowType:d,lock:h,debug:m,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new q1(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,r)=>{this._handleTokenChanged(a,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(n,a,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const d0=(i,n,a)=>new oE(i,n,a),uE="https://xphgwzbxwwaqoaedfsoq.supabase.co",cE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhwaGd3emJ4d3dhcW9hZWRmc29xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyMjU0ODgsImV4cCI6MjA2NjgwMTQ4OH0.J6lqFQjg41BsaA1i0yWeIkAR_yN2ia7_FgkTnxmdzLU",fe=d0(uE,cE),un=()=>!!fe;function dE(){const[i,n]=O.useState(null),[a,r]=O.useState(null),[o,u]=O.useState(!0);return O.useEffect(()=>{if(!un()||!fe){u(!1);return}fe.auth.getSession().then(({data:{session:y}})=>{r(y),n((y==null?void 0:y.user)??null),u(!1)});const{data:{subscription:g}}=fe.auth.onAuthStateChange((y,v)=>{r(v),n((v==null?void 0:v.user)??null),u(!1)});return()=>g.unsubscribe()},[]),{user:i,session:a,loading:o,signUp:async(g,y)=>{if(!un()||!fe)return{data:null,error:{message:"Demo Mode: Sign up is not available without Supabase configuration."}};const{data:v,error:x}=await fe.auth.signUp({email:g,password:y});return{data:v,error:x}},signIn:async(g,y)=>{if(!un()||!fe)return{data:null,error:{message:"Demo Mode: Sign in is not available without Supabase configuration."}};const{data:v,error:x}=await fe.auth.signInWithPassword({email:g,password:y});return{data:v,error:x}},signOut:async()=>{if(!un()||!fe)return{error:{message:"Demo Mode: Sign out is not available without Supabase configuration."}};const{error:g}=await fe.auth.signOut();return{error:g}}}}const f0=O.createContext(void 0);function fE({children:i}){const n=dE();return p.jsx(f0.Provider,{value:n,children:i})}function rr(){const i=O.useContext(f0);if(i===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return i}const h0=O.createContext(void 0);function hE({children:i}){const[n,a]=O.useState(!0);O.useEffect(()=>{const u=localStorage.getItem("theme");u!==null&&a(u==="dark")},[]),O.useEffect(()=>{localStorage.setItem("theme",n?"dark":"light"),n?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark"))},[n]);const o={isDarkMode:n,toggleTheme:()=>{a(!n)}};return p.jsx(h0.Provider,{value:o,children:i})}function dn(){const i=O.useContext(h0);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i}/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pE=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,r)=>r?r.toUpperCase():a.toLowerCase()),Hy=i=>{const n=pE(i);return n.charAt(0).toUpperCase()+n.slice(1)},m0=(...i)=>i.filter((n,a,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===a).join(" ").trim(),gE=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=O.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:d,...h},m)=>O.createElement("svg",{ref:m,...yE,width:n,height:n,stroke:i,strokeWidth:r?Number(a)*24/Number(n):a,className:m0("lucide",o),...!u&&!gE(h)&&{"aria-hidden":"true"},...h},[...d.map(([g,y])=>O.createElement(g,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(i,n)=>{const a=O.forwardRef(({className:r,...o},u)=>O.createElement(bE,{ref:u,iconNode:n,className:m0(`lucide-${mE(Hy(i))}`,`lucide-${i}`,r),...o}));return a.displayName=Hy(i),a};/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],_E=Pe("bookmark",vE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Io=Pe("circle-check-big",xE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],SE=Pe("circle-x",wE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],AE=Pe("credit-card",EE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Wa=Pe("crown",jE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],p0=Pe("eye-off",CE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g0=Pe("eye",NE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],OE=Pe("facebook",TE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],kE=Pe("heart",RE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],UE=Pe("instagram",$E);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],DE=Pe("lightbulb",ME);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],zE=Pe("linkedin",LE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qE=Pe("lock",PE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],HE=Pe("mail",BE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],y0=Pe("message-square",IE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],GE=Pe("moon",FE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],VE=Pe("phone",YE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],df=Pe("send",XE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],KE=Pe("sparkles",QE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ZE=Pe("sun",JE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Iy=Pe("target",WE);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],tA=Pe("twitter",eA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sr=Pe("user",nA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kn=Pe("x",aA);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Yn=Pe("zap",rA),b0="/StudyPal-AI/assets/13331037-DkIlSqcb.png",nu=i=>{const n=new Error(`Demo Mode: ${i} is not available without Supabase configuration. Please set up your environment variables to enable authentication.`);return n.name="DemoModeError",n};async function sA(i){if(!un()||!fe)return{user:null,error:nu("Sign up")};try{const{data:n,error:a}=await fe.auth.signUp({email:i.email,password:i.password,options:{data:{first_name:i.firstName||"",last_name:i.lastName||"",full_name:i.fullName||`${i.firstName||""} ${i.lastName||""}`.trim()||i.email}}});return{user:n.user,error:a}}catch(n){return{user:null,error:n}}}async function iA(i){if(!un()||!fe)return{user:null,error:nu("Login")};try{const{data:n,error:a}=await fe.auth.signInWithPassword({email:i.email,password:i.password});return{user:n.user,error:a}}catch(n){return{user:null,error:n}}}async function v0(){if(!un()||!fe)return{data:null,error:nu("Google login")};const{data:i,error:n}=await fe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/chat`}});return{data:i,error:n}}async function _0(){if(!un()||!fe)return{data:null,error:nu("Facebook login")};const{data:i,error:n}=await fe.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:`${window.location.origin}/chat`}});return{data:i,error:n}}const fn=i=>({bgPrimary:i?"bg-[#121212]":"bg-white",bgSecondary:i?"bg-[#222]":"bg-gray-100",bgTertiary:i?"bg-[#333]":"bg-gray-200",bgHover:i?"hover:bg-[#333]":"hover:bg-gray-200",bgHoverSecondary:i?"hover:bg-[#444]":"hover:bg-gray-300",textPrimary:i?"text-white":"text-gray-900",textSecondary:i?"text-gray-400":"text-gray-600",textMuted:"text-gray-500",borderPrimary:i?"border-[#333]":"border-gray-300",borderSecondary:i?"border-[#444]":"border-gray-400",inputBg:i?"bg-transparent":"bg-white",inputBorder:i?"border-[#444]":"border-gray-300",inputFocus:i?"focus:border-[#4285F4]":"focus:border-blue-500",inputPlaceholder:i?"placeholder-gray-400":"placeholder-gray-500",buttonPrimary:i?"bg-white text-[#121212]":"bg-[#121212] text-white",buttonSecondary:i?"border-[#444]":"border-gray-300"});function lA(){const i=jn(),{isDarkMode:n}=dn(),[a,r]=O.useState(!1),[o,u]=O.useState(!1),[d,h]=O.useState(""),[m,g]=O.useState(""),[y,v]=O.useState(!1),[x,w]=O.useState(null),S=O.useRef(null),R=fn(n);O.useEffect(()=>{if(!a)return;function D(F){S.current&&!S.current.contains(F.target)&&r(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[a]);const E=D=>{r(!1),i(D)},N=async D=>{D.preventDefault(),v(!0),w(null);try{const{user:F,error:K}=await iA({email:d,password:m});K?w(K.message):F&&i("/chat")}catch{w("An unexpected error occurred. Please try again.")}finally{v(!1)}},U=async()=>{const{error:D}=await v0();D&&w(D.message)},C=async()=>{const{error:D}=await _0();D&&w(D.message)};return p.jsxs("div",{className:`h-screen ${R.bgPrimary} ${R.textPrimary} flex flex-col`,children:[p.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-3 border-b border-[#333] relative z-50",children:[p.jsx("button",{onClick:()=>i("/"),className:"p-2 hover:bg-gray-800 rounded-full",children:p.jsx(Kn,{size:24})}),p.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 font-bold text-lg",children:"LOG IN"}),p.jsxs("div",{ref:S,className:"relative",children:[p.jsx("div",{className:"h-8 w-8 rounded-full cursor-pointer border-2 border-transparent hover:border-[#4285F4] transition bg-[#333] flex items-center justify-center",onClick:()=>r(D=>!D),children:p.jsx(sr,{size:16,className:"text-gray-300"})}),a&&p.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-[#222] border border-[#333] rounded-lg shadow-lg",children:[p.jsx("button",{onClick:()=>r(!1),className:"block w-full px-4 py-2 text-left hover:bg-[#444]",children:"Login"}),p.jsx("button",{onClick:()=>E("/signup"),className:"block w-full px-4 py-2 text-left hover:bg-[#444]",children:"Sign Up"}),p.jsx("button",{onClick:()=>E("/premium"),className:"block w-full px-4 py-2 text-left hover:bg-[#444]",children:"Upgrade"}),p.jsx("button",{onClick:()=>E("/"),className:"block w-full px-4 py-2 text-left hover:bg-[#444] rounded-b-lg",children:"Chat"})]})]})]}),p.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center px-4 sm:px-6 min-h-0",children:[p.jsx("img",{src:b0,alt:"StudyPal Logo",className:"w-24 h-24 mb-6 object-contain"}),p.jsxs("form",{onSubmit:N,className:"w-full max-w-xs mb-6 space-y-4",children:[x&&p.jsx("div",{className:"bg-red-900/20 border border-red-400/30 rounded-lg p-3 text-red-300 text-sm",children:x}),p.jsx("input",{type:"email",placeholder:"Email address",value:d,onChange:D=>h(D.target.value),required:!0,disabled:y,className:"w-full rounded-lg bg-transparent border border-[#444] px-4 py-2.5 placeholder-gray-400 focus:outline-none focus:border-[#4285F4] transition disabled:opacity-50"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:o?"text":"password",placeholder:"Password",value:m,onChange:D=>g(D.target.value),required:!0,disabled:y,className:"w-full rounded-lg bg-transparent border border-[#444] px-4 py-2.5 pr-12 placeholder-gray-400 focus:outline-none focus:border-[#4285F4] transition disabled:opacity-50"}),p.jsx("button",{type:"button",onClick:()=>u(!o),disabled:y,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:o?p.jsx(p0,{size:20}):p.jsx(g0,{size:20})})]}),p.jsx("div",{className:"text-right text-sm pt-1",children:p.jsx("button",{type:"button",className:"text-[#2da8ff] hover:underline",onClick:()=>E("/forgot"),children:"Forgot Password?"})}),p.jsx("button",{type:"submit",disabled:y||!d||!m,className:"w-full bg-[#4285F4] text-white py-2.5 rounded-lg font-medium hover:bg-[#3367d6] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Logging in...":"Log In"})]}),p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx("span",{className:"h-px flex-1 bg-[#444]"}),p.jsx("span",{className:"text-sm text-gray-400 uppercase",children:"or"}),p.jsx("span",{className:"h-px flex-1 bg-[#444]"})]}),p.jsx("p",{className:"text-sm mb-3",children:"Login with"}),p.jsxs("div",{className:"flex gap-6 mb-4",children:[p.jsx("button",{type:"button",onClick:U,disabled:y,"aria-label":"Google",className:"hover:text-[#2da8ff] transition-colors disabled:opacity-50",title:"Login with Google",children:p.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[p.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),p.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),p.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),p.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),p.jsx("button",{type:"button",onClick:C,disabled:y,"aria-label":"Facebook",className:"hover:text-[#2da8ff] transition-colors disabled:opacity-50",children:p.jsx(OE,{size:24})}),p.jsx("button",{type:"button","aria-label":"LinkedIn",className:"hover:text-[#2da8ff] transition-colors opacity-50 cursor-not-allowed",title:"LinkedIn login coming soon",children:p.jsx(zE,{size:24})}),p.jsx("button",{type:"button","aria-label":"Instagram",className:"hover:text-[#2da8ff] transition-colors opacity-50 cursor-not-allowed",title:"Instagram login coming soon",children:p.jsx(UE,{size:24})}),p.jsx("button",{type:"button","aria-label":"Twitter",className:"hover:text-[#2da8ff] transition-colors opacity-50 cursor-not-allowed",title:"Twitter login coming soon",children:p.jsx(tA,{size:24})})]}),p.jsxs("p",{className:"text-sm",children:["Don’t have an account? ",p.jsx("button",{onClick:()=>E("/signup"),className:"text-[#2da8ff] hover:underline",children:"Create new Account"})]})]})]})}function oA(){const i=jn(),{isDarkMode:n}=dn(),[a,r]=O.useState(!1),[o,u]=O.useState(!1),[d,h]=O.useState(""),[m,g]=O.useState(""),[y,v]=O.useState(""),[x,w]=O.useState(""),[S,R]=O.useState(!1),[E,N]=O.useState(!1),[U,C]=O.useState(null),[D,F]=O.useState(null),K=O.useRef(null),G=fn(n);O.useEffect(()=>{if(!o)return;const Q=pe=>{K.current&&!K.current.contains(pe.target)&&u(!1)};return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[o]);const me=Q=>{u(!1),i(Q)},X=async Q=>{if(Q.preventDefault(),N(!0),C(null),F(null),!d.trim()||!m.trim()||!y.trim()||!x){C("Please fill in all fields"),N(!1);return}if(!S){C("Please verify that you are not a robot"),N(!1);return}if(x.length<6){C("Password must be at least 6 characters long"),N(!1);return}try{const{user:pe,error:qe}=await sA({email:y,password:x,firstName:d.trim(),lastName:m.trim(),fullName:`${d.trim()} ${m.trim()}`});qe?C(qe.message):pe&&(pe.email_confirmed_at?(F("Account created successfully! You can now log in."),setTimeout(()=>{i("/login")},2e3)):F("Account created successfully! Please check your email (including spam folder) to verify your account. If you don't receive an email within 5 minutes, try the 'Resend Email' button below."),h(""),g(""),v(""),w(""),R(!1))}catch{C("An unexpected error occurred. Please try again.")}finally{N(!1)}},te=async()=>{if(!y){C("Please enter your email address");return}N(!0),C(null);try{if(!fe){C("Authentication service is not available. Please check your configuration.");return}const{error:Q}=await fe.auth.resend({type:"signup",email:y});Q?C(Q.message):F("Confirmation email sent! Please check your inbox and spam folder.")}catch{C("Failed to resend email. Please try again.")}finally{N(!1)}};return p.jsxs("div",{className:`flex flex-col min-h-screen ${G.bgPrimary} ${G.textPrimary}`,children:[p.jsxs("div",{className:`flex items-center justify-between px-4 sm:px-6 py-3 border-b ${G.borderPrimary} relative z-50`,children:[p.jsx("button",{onClick:()=>i(-1),className:`p-2 ${n?"hover:bg-gray-800":"hover:bg-gray-200"} rounded-full`,children:p.jsx(Kn,{size:24})}),p.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 font-bold text-lg",children:"SIGN UP"}),p.jsxs("div",{ref:K,className:"relative",children:[p.jsx("div",{className:`h-8 w-8 rounded-full cursor-pointer border-2 border-transparent hover:border-[#4285F4] transition ${G.bgTertiary} flex items-center justify-center`,onClick:()=>u(Q=>!Q),children:p.jsx(sr,{size:16,className:G.textSecondary})}),o&&p.jsxs("div",{className:`absolute right-0 mt-2 w-40 ${G.bgSecondary} border ${G.borderPrimary} rounded-lg shadow-lg`,children:[p.jsx("button",{onClick:()=>me("/login"),className:`block w-full px-4 py-2 text-left ${G.bgHoverSecondary}`,children:"Login"}),p.jsx("button",{onClick:()=>u(!1),className:`block w-full px-4 py-2 text-left ${G.bgHoverSecondary}`,children:"Sign Up"}),p.jsx("button",{onClick:()=>me("/premium"),className:`block w-full px-4 py-2 text-left ${G.bgHoverSecondary}`,children:"Upgrade"}),p.jsx("button",{onClick:()=>me("/"),className:`block w-full px-4 py-2 text-left ${G.bgHoverSecondary} rounded-b-lg`,children:"Chat"})]})]})]}),p.jsx("div",{className:"flex-grow flex items-center justify-center py-8 px-4 sm:px-6",children:p.jsx("main",{className:"grid place-items-center",children:p.jsxs("section",{className:"flex flex-col items-center w-full max-w-xs",children:[p.jsx("img",{src:b0,alt:"StudyPal Logo",className:"w-24 h-24 mb-6 object-contain"}),p.jsxs("button",{className:`text-xs ${G.textSecondary} mb-6 ${n?"hover:text-white":"hover:text-black"}`,children:["English (US)",p.jsx("span",{className:"align-text-top ml-0.5",children:"▾"})]}),p.jsxs("form",{onSubmit:X,className:"w-full space-y-4",children:[U&&p.jsx("div",{className:"text-red-400 text-sm text-center bg-red-900/20 p-2 rounded-lg border border-red-800/30",children:U}),D&&p.jsxs("div",{className:"text-green-400 text-sm text-center bg-green-900/20 p-2 rounded-lg border border-green-800/30",children:[D,D.includes("verify your account")&&p.jsx("button",{type:"button",onClick:te,disabled:E,className:"block mx-auto mt-2 px-4 py-1 bg-green-700 hover:bg-green-600 rounded text-xs transition disabled:opacity-50",children:"Resend Email"})]}),p.jsx("input",{type:"text",placeholder:"First Name",value:d,onChange:Q=>h(Q.target.value),className:`w-full rounded-lg ${G.inputBg} border ${G.inputBorder} px-4 py-2.5 ${G.inputPlaceholder} focus:outline-none ${G.inputFocus} transition`,disabled:E,required:!0}),p.jsx("input",{type:"text",placeholder:"Last Name",value:m,onChange:Q=>g(Q.target.value),className:`w-full rounded-lg ${G.inputBg} border ${G.inputBorder} px-4 py-2.5 ${G.inputPlaceholder} focus:outline-none ${G.inputFocus} transition`,disabled:E,required:!0}),p.jsx("input",{type:"email",placeholder:"Email",value:y,onChange:Q=>v(Q.target.value),className:`w-full rounded-lg ${G.inputBg} border ${G.inputBorder} px-4 py-2.5 ${G.inputPlaceholder} focus:outline-none ${G.inputFocus} transition`,disabled:E,required:!0}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:a?"text":"password",placeholder:"Password",value:x,onChange:Q=>w(Q.target.value),className:`w-full rounded-lg ${G.inputBg} border ${G.inputBorder} px-4 py-2.5 pr-12 ${G.inputPlaceholder} focus:outline-none ${G.inputFocus} transition`,disabled:E,required:!0,minLength:6}),p.jsx("button",{type:"button",className:`absolute right-3 top-1/2 -translate-y-1/2 ${G.textSecondary} ${n?"hover:text-white":"hover:text-black"}`,onClick:()=>r(!a),disabled:E,children:a?p.jsx(p0,{size:20}):p.jsx(g0,{size:20})})]}),p.jsxs("label",{className:"flex items-center gap-2 text-sm pt-1 select-none",children:[p.jsx("input",{type:"checkbox",checked:S,onChange:Q=>R(Q.target.checked),className:`h-4 w-4 accent-[#2da8ff] rounded-sm ${n?"border-[#555]":"border-gray-400"} bg-transparent`,disabled:E}),"I'm not a robot"]}),p.jsx("button",{type:"submit",disabled:E,className:`w-full mt-4 rounded-full ${G.buttonPrimary} font-semibold py-2 ${n?"hover:bg-gray-200":"hover:bg-gray-800"} transition disabled:opacity-50 disabled:cursor-not-allowed`,children:E?"Creating Account...":"Sign up"})]}),p.jsxs("div",{className:"w-full mt-6 space-y-3",children:[p.jsx("div",{className:`text-xs ${G.textSecondary} text-center`,children:"or continue with"}),p.jsxs("button",{type:"button",onClick:async()=>{N(!0);const{error:Q}=await v0();Q&&C(Q.message),N(!1)},disabled:E,className:`w-full flex items-center justify-center gap-3 border ${G.buttonSecondary} rounded-lg py-2.5 ${G.bgHover} transition disabled:opacity-50`,children:[p.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[p.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),p.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),p.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),p.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),p.jsx("span",{children:"Continue with Google"})]}),p.jsxs("button",{type:"button",onClick:async()=>{N(!0);const{error:Q}=await _0();Q&&C(Q.message),N(!1)},disabled:E,className:`w-full flex items-center justify-center gap-3 border ${G.buttonSecondary} rounded-lg py-2.5 ${G.bgHover} transition disabled:opacity-50`,children:[p.jsx("svg",{className:"w-5 h-5",fill:"#1877F2",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),p.jsx("span",{children:"Continue with Facebook"})]})]}),p.jsxs("p",{className:"text-sm mt-8",children:["Already have an account? ",p.jsx("button",{onClick:()=>i("/login"),className:"text-[#2da8ff] hover:underline",children:"Log in"})]})]})})})]})}const uA="/StudyPal-AI/assets/studypal-icon-D6b4zMcn.png";function au(){const i=window.location.hostname,n=window.location.protocol,a=!1,r=i.includes("github.io")||i.includes("github.com");return console.log("🌍 API Environment Detection:",{hostname:i,protocol:n,isDev:a,isGitHubPages:r,userAgent:navigator.userAgent.substring(0,50)+"..."}),{isProduction:!a,isDevelopment:a,isGitHubPages:r,canMakeDirectOpenAICalls:!r,shouldUseProxy:r,baseUrl:window.location.origin}}function ru(){const i=au(),n=!0,a="YOUR_OPENAI_API_KEY_HERE".startsWith("sk-")||!1;return console.log("🔑 OpenAI Configuration Check:",{hasApiKey:n,isValidKey:a,environment:i}),a?i.isGitHubPages?{canUseOpenAI:!0,reason:"Using Supabase Edge Functions for GitHub Pages",suggestion:"Edge Functions provide secure server-side API access"}:{canUseOpenAI:!0,reason:"Configuration valid",suggestion:""}:{canUseOpenAI:!1,reason:"Invalid OpenAI API key format",suggestion:'Ensure your API key starts with "sk-"'}}function de(i,n,a,r,o){if(typeof n=="function"?i!==n||!0:!n.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n.set(i,a),a}function z(i,n,a,r){if(a==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?i!==n||!r:!n.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?r:a==="a"?r.call(i):r?r.value:n.get(i)}let x0=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return x0=i.randomUUID.bind(i),i.randomUUID();const n=new Uint8Array(1),a=i?()=>i.getRandomValues(n)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^a()&15>>+r/4).toString(16))};function ff(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const hf=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const n=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(n.stack=i.stack),i.cause&&!n.cause&&(n.cause=i.cause),i.name&&(n.name=i.name),n}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};class ce extends Error{}class yt extends ce{constructor(n,a,r,o){super(`${yt.makeMessage(n,a,r)}`),this.status=n,this.headers=o,this.requestID=o==null?void 0:o.get("x-request-id"),this.error=a;const u=a;this.code=u==null?void 0:u.code,this.param=u==null?void 0:u.param,this.type=u==null?void 0:u.type}static makeMessage(n,a,r){const o=a!=null&&a.message?typeof a.message=="string"?a.message:JSON.stringify(a.message):a?JSON.stringify(a):r;return n&&o?`${n} ${o}`:n?`${n} status code (no body)`:o||"(no status code or body)"}static generate(n,a,r,o){if(!n||!o)return new su({message:r,cause:hf(a)});const u=a==null?void 0:a.error;return n===400?new w0(n,u,r,o):n===401?new S0(n,u,r,o):n===403?new E0(n,u,r,o):n===404?new A0(n,u,r,o):n===409?new j0(n,u,r,o):n===422?new C0(n,u,r,o):n===429?new N0(n,u,r,o):n>=500?new T0(n,u,r,o):new yt(n,u,r,o)}}class tn extends yt{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class su extends yt{constructor({message:n,cause:a}){super(void 0,void 0,n||"Connection error.",void 0),a&&(this.cause=a)}}class qf extends su{constructor({message:n}={}){super({message:n??"Request timed out."})}}class w0 extends yt{}class S0 extends yt{}class E0 extends yt{}class A0 extends yt{}class j0 extends yt{}class C0 extends yt{}class N0 extends yt{}class T0 extends yt{}class O0 extends ce{constructor(){super("Could not parse response content as the length limit was reached")}}class R0 extends ce{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class _i extends Error{constructor(n){super(n)}}const cA=/^[a-z][a-z0-9+.-]*:/i,dA=i=>cA.test(i);let Rt=i=>(Rt=Array.isArray,Rt(i)),Fy=Rt;function fA(i){return typeof i!="object"?{}:i??{}}function hA(i){if(!i)return!0;for(const n in i)return!1;return!0}function mA(i,n){return Object.prototype.hasOwnProperty.call(i,n)}function Hd(i){return i!=null&&typeof i=="object"&&!Array.isArray(i)}const pA=(i,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new ce(`${i} must be an integer`);if(n<0)throw new ce(`${i} must be a positive integer`);return n},gA=i=>{try{return JSON.parse(i)}catch{return}},Gi=i=>new Promise(n=>setTimeout(n,i)),rs="5.8.2",yA=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function bA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const vA=()=>{var a;const i=bA();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rs,"X-Stainless-OS":Yy(Deno.build.os),"X-Stainless-Arch":Gy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((a=Deno.version)==null?void 0:a.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rs,"X-Stainless-OS":Yy(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Gy(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const n=_A();return n?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${n.browser}`,"X-Stainless-Runtime-Version":n.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":rs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function _A(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:a}of i){const r=a.exec(navigator.userAgent);if(r){const o=r[1]||0,u=r[2]||0,d=r[3]||0;return{browser:n,version:`${o}.${u}.${d}`}}}return null}const Gy=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Yy=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Vy;const xA=()=>Vy??(Vy=vA());function wA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function k0(...i){const n=globalThis.ReadableStream;if(typeof n>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new n(...i)}function $0(i){let n=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return k0({start(){},async pull(a){const{done:r,value:o}=await n.next();r?a.close():a.enqueue(o)},async cancel(){var a;await((a=n.return)==null?void 0:a.call(n))}})}function U0(i){if(i[Symbol.asyncIterator])return i;const n=i.getReader();return{async next(){try{const a=await n.read();return a!=null&&a.done&&n.releaseLock(),a}catch(a){throw n.releaseLock(),a}},async return(){const a=n.cancel();return n.releaseLock(),await a,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function SA(i){var r,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(r=i[Symbol.asyncIterator]()).return)==null?void 0:o.call(r));return}const n=i.getReader(),a=n.cancel();n.releaseLock(),await a}const EA=({headers:i,body:n})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)}),M0="RFC3986",D0=i=>String(i),Xy={RFC1738:i=>String(i).replace(/%20/g,"+"),RFC3986:D0},AA="RFC1738";let mf=(i,n)=>(mf=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),mf(i,n));const vn=(()=>{const i=[];for(let n=0;n<256;++n)i.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return i})(),Id=1024,jA=(i,n,a,r,o)=>{if(i.length===0)return i;let u=i;if(typeof i=="symbol"?u=Symbol.prototype.toString.call(i):typeof i!="string"&&(u=String(i)),a==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});let d="";for(let h=0;h<u.length;h+=Id){const m=u.length>=Id?u.slice(h,h+Id):u,g=[];for(let y=0;y<m.length;++y){let v=m.charCodeAt(y);if(v===45||v===46||v===95||v===126||v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122||o===AA&&(v===40||v===41)){g[g.length]=m.charAt(y);continue}if(v<128){g[g.length]=vn[v];continue}if(v<2048){g[g.length]=vn[192|v>>6]+vn[128|v&63];continue}if(v<55296||v>=57344){g[g.length]=vn[224|v>>12]+vn[128|v>>6&63]+vn[128|v&63];continue}y+=1,v=65536+((v&1023)<<10|m.charCodeAt(y)&1023),g[g.length]=vn[240|v>>18]+vn[128|v>>12&63]+vn[128|v>>6&63]+vn[128|v&63]}d+=g.join("")}return d};function CA(i){return!i||typeof i!="object"?!1:!!(i.constructor&&i.constructor.isBuffer&&i.constructor.isBuffer(i))}function Qy(i,n){if(Rt(i)){const a=[];for(let r=0;r<i.length;r+=1)a.push(n(i[r]));return a}return n(i)}const L0={brackets(i){return String(i)+"[]"},comma:"comma",indices(i,n){return String(i)+"["+n+"]"},repeat(i){return String(i)}},z0=function(i,n){Array.prototype.push.apply(i,Rt(n)?n:[n])};let Ky;const rt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:jA,encodeValuesOnly:!1,format:M0,formatter:D0,indices:!1,serializeDate(i){return(Ky??(Ky=Function.prototype.call.bind(Date.prototype.toISOString)))(i)},skipNulls:!1,strictNullHandling:!1};function NA(i){return typeof i=="string"||typeof i=="number"||typeof i=="boolean"||typeof i=="symbol"||typeof i=="bigint"}const Fd={};function P0(i,n,a,r,o,u,d,h,m,g,y,v,x,w,S,R,E,N){let U=i,C=N,D=0,F=!1;for(;(C=C.get(Fd))!==void 0&&!F;){const te=C.get(i);if(D+=1,typeof te<"u"){if(te===D)throw new RangeError("Cyclic object value");F=!0}typeof C.get(Fd)>"u"&&(D=0)}if(typeof g=="function"?U=g(n,U):U instanceof Date?U=x==null?void 0:x(U):a==="comma"&&Rt(U)&&(U=Qy(U,function(te){return te instanceof Date?x==null?void 0:x(te):te})),U===null){if(u)return m&&!R?m(n,rt.encoder,E,"key",w):n;U=""}if(NA(U)||CA(U)){if(m){const te=R?n:m(n,rt.encoder,E,"key",w);return[(S==null?void 0:S(te))+"="+(S==null?void 0:S(m(U,rt.encoder,E,"value",w)))]}return[(S==null?void 0:S(n))+"="+(S==null?void 0:S(String(U)))]}const K=[];if(typeof U>"u")return K;let G;if(a==="comma"&&Rt(U))R&&m&&(U=Qy(U,m)),G=[{value:U.length>0?U.join(",")||null:void 0}];else if(Rt(g))G=g;else{const te=Object.keys(U);G=y?te.sort(y):te}const me=h?String(n).replace(/\./g,"%2E"):String(n),X=r&&Rt(U)&&U.length===1?me+"[]":me;if(o&&Rt(U)&&U.length===0)return X+"[]";for(let te=0;te<G.length;++te){const Q=G[te],pe=typeof Q=="object"&&typeof Q.value<"u"?Q.value:U[Q];if(d&&pe===null)continue;const qe=v&&h?Q.replace(/\./g,"%2E"):Q,ft=Rt(U)?typeof a=="function"?a(X,qe):X:X+(v?"."+qe:"["+qe+"]");N.set(i,D);const ve=new WeakMap;ve.set(Fd,N),z0(K,P0(pe,ft,a,r,o,u,d,h,a==="comma"&&R&&Rt(U)?null:m,g,y,v,x,w,S,R,E,ve))}return K}function TA(i=rt){if(typeof i.allowEmptyArrays<"u"&&typeof i.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof i.encodeDotInKeys<"u"&&typeof i.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(i.encoder!==null&&typeof i.encoder<"u"&&typeof i.encoder!="function")throw new TypeError("Encoder has to be a function.");const n=i.charset||rt.charset;if(typeof i.charset<"u"&&i.charset!=="utf-8"&&i.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let a=M0;if(typeof i.format<"u"){if(!mf(Xy,i.format))throw new TypeError("Unknown format option provided.");a=i.format}const r=Xy[a];let o=rt.filter;(typeof i.filter=="function"||Rt(i.filter))&&(o=i.filter);let u;if(i.arrayFormat&&i.arrayFormat in L0?u=i.arrayFormat:"indices"in i?u=i.indices?"indices":"repeat":u=rt.arrayFormat,"commaRoundTrip"in i&&typeof i.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=typeof i.allowDots>"u"?i.encodeDotInKeys?!0:rt.allowDots:!!i.allowDots;return{addQueryPrefix:typeof i.addQueryPrefix=="boolean"?i.addQueryPrefix:rt.addQueryPrefix,allowDots:d,allowEmptyArrays:typeof i.allowEmptyArrays=="boolean"?!!i.allowEmptyArrays:rt.allowEmptyArrays,arrayFormat:u,charset:n,charsetSentinel:typeof i.charsetSentinel=="boolean"?i.charsetSentinel:rt.charsetSentinel,commaRoundTrip:!!i.commaRoundTrip,delimiter:typeof i.delimiter>"u"?rt.delimiter:i.delimiter,encode:typeof i.encode=="boolean"?i.encode:rt.encode,encodeDotInKeys:typeof i.encodeDotInKeys=="boolean"?i.encodeDotInKeys:rt.encodeDotInKeys,encoder:typeof i.encoder=="function"?i.encoder:rt.encoder,encodeValuesOnly:typeof i.encodeValuesOnly=="boolean"?i.encodeValuesOnly:rt.encodeValuesOnly,filter:o,format:a,formatter:r,serializeDate:typeof i.serializeDate=="function"?i.serializeDate:rt.serializeDate,skipNulls:typeof i.skipNulls=="boolean"?i.skipNulls:rt.skipNulls,sort:typeof i.sort=="function"?i.sort:null,strictNullHandling:typeof i.strictNullHandling=="boolean"?i.strictNullHandling:rt.strictNullHandling}}function OA(i,n={}){let a=i;const r=TA(n);let o,u;typeof r.filter=="function"?(u=r.filter,a=u("",a)):Rt(r.filter)&&(u=r.filter,o=u);const d=[];if(typeof a!="object"||a===null)return"";const h=L0[r.arrayFormat],m=h==="comma"&&r.commaRoundTrip;o||(o=Object.keys(a)),r.sort&&o.sort(r.sort);const g=new WeakMap;for(let x=0;x<o.length;++x){const w=o[x];r.skipNulls&&a[w]===null||z0(d,P0(a[w],w,h,m,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,g))}const y=d.join(r.delimiter);let v=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),y.length>0?v+y:""}function RA(i){let n=0;for(const o of i)n+=o.length;const a=new Uint8Array(n);let r=0;for(const o of i)a.set(o,r),r+=o.length;return a}let Jy;function Bf(i){let n;return(Jy??(n=new globalThis.TextEncoder,Jy=n.encode.bind(n)))(i)}let Zy;function Wy(i){let n;return(Zy??(n=new globalThis.TextDecoder,Zy=n.decode.bind(n)))(i)}var It,Ft;class iu{constructor(){It.set(this,void 0),Ft.set(this,void 0),de(this,It,new Uint8Array),de(this,Ft,null)}decode(n){if(n==null)return[];const a=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Bf(n):n;de(this,It,RA([z(this,It,"f"),a]));const r=[];let o;for(;(o=kA(z(this,It,"f"),z(this,Ft,"f")))!=null;){if(o.carriage&&z(this,Ft,"f")==null){de(this,Ft,o.index);continue}if(z(this,Ft,"f")!=null&&(o.index!==z(this,Ft,"f")+1||o.carriage)){r.push(Wy(z(this,It,"f").subarray(0,z(this,Ft,"f")-1))),de(this,It,z(this,It,"f").subarray(z(this,Ft,"f"))),de(this,Ft,null);continue}const u=z(this,Ft,"f")!==null?o.preceding-1:o.preceding,d=Wy(z(this,It,"f").subarray(0,u));r.push(d),de(this,It,z(this,It,"f").subarray(o.index)),de(this,Ft,null)}return r}flush(){return z(this,It,"f").length?this.decode(`
`):[]}}It=new WeakMap,Ft=new WeakMap;iu.NEWLINE_CHARS=new Set([`
`,"\r"]);iu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function kA(i,n){for(let o=n??0;o<i.length;o++){if(i[o]===10)return{preceding:o,index:o+1,carriage:!1};if(i[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function $A(i){for(let r=0;r<i.length-1;r++){if(i[r]===10&&i[r+1]===10||i[r]===13&&i[r+1]===13)return r+2;if(i[r]===13&&i[r+1]===10&&r+3<i.length&&i[r+2]===13&&i[r+3]===10)return r+4}return-1}class En{constructor(n,a){this.iterator=n,this.controller=a}static fromSSEResponse(n,a){let r=!1;async function*o(){if(r)throw new ce("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let u=!1;try{for await(const d of UA(n,a))if(!u){if(d.data.startsWith("[DONE]")){u=!0;continue}if(d.event===null||d.event.startsWith("response.")||d.event.startsWith("transcript.")){let h;try{h=JSON.parse(d.data)}catch(m){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),m}if(h&&h.error)throw new yt(void 0,h.error,void 0,n.headers);yield h}else{let h;try{h=JSON.parse(d.data)}catch(m){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),m}if(d.event=="error")throw new yt(void 0,h.error,h.message,void 0);yield{event:d.event,data:h}}}u=!0}catch(d){if(ff(d))return;throw d}finally{u||a.abort()}}return new En(o,a)}static fromReadableStream(n,a){let r=!1;async function*o(){const d=new iu,h=U0(n);for await(const m of h)for(const g of d.decode(m))yield g;for(const m of d.flush())yield m}async function*u(){if(r)throw new ce("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let d=!1;try{for await(const h of o())d||h&&(yield JSON.parse(h));d=!0}catch(h){if(ff(h))return;throw h}finally{d||a.abort()}}return new En(u,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],a=[],r=this.iterator(),o=u=>({next:()=>{if(u.length===0){const d=r.next();n.push(d),a.push(d)}return u.shift()}});return[new En(()=>o(n),this.controller),new En(()=>o(a),this.controller)]}toReadableStream(){const n=this;let a;return k0({async start(){a=n[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:u}=await a.next();if(u)return r.close();const d=Bf(JSON.stringify(o)+`
`);r.enqueue(d)}catch(o){r.error(o)}},async cancel(){var r;await((r=a.return)==null?void 0:r.call(a))}})}}async function*UA(i,n){if(!i.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ce("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ce("Attempted to iterate over a response with no body");const a=new DA,r=new iu,o=U0(i.body);for await(const u of MA(o))for(const d of r.decode(u)){const h=a.decode(d);h&&(yield h)}for(const u of r.flush()){const d=a.decode(u);d&&(yield d)}}async function*MA(i){let n=new Uint8Array;for await(const a of i){if(a==null)continue;const r=a instanceof ArrayBuffer?new Uint8Array(a):typeof a=="string"?Bf(a):a;let o=new Uint8Array(n.length+r.length);o.set(n),o.set(r,n.length),n=o;let u;for(;(u=$A(n))!==-1;)yield n.slice(0,u),n=n.slice(u)}n.length>0&&(yield n)}class DA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(n),n.startsWith(":"))return null;let[a,r,o]=LA(n,":");return o.startsWith(" ")&&(o=o.substring(1)),a==="event"?this.event=o:a==="data"&&this.data.push(o),null}}function LA(i,n){const a=i.indexOf(n);return a!==-1?[i.substring(0,a),n,i.substring(a+n.length)]:[i,"",""]}const Fo={off:0,error:200,warn:300,info:400,debug:500},eb=(i,n,a)=>{if(i){if(mA(Fo,i))return i;wt(a).warn(`${n} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Fo))}`)}};function xi(){}function bo(i,n,a){return!n||Fo[i]>Fo[a]?xi:n[i].bind(n)}const zA={error:xi,warn:xi,info:xi,debug:xi};let tb=new WeakMap;function wt(i){const n=i.logger,a=i.logLevel??"off";if(!n)return zA;const r=tb.get(n);if(r&&r[0]===a)return r[1];const o={error:bo("error",n,a),warn:bo("warn",n,a),info:bo("info",n,a),debug:bo("debug",n,a)};return tb.set(n,[a,o]),o}const Xa=i=>(i.options&&(i.options={...i.options},delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([n,a])=>[n,n.toLowerCase()==="authorization"||n.toLowerCase()==="cookie"||n.toLowerCase()==="set-cookie"?"***":a]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);async function q0(i,n){const{response:a,requestLogID:r,retryOfRequestLogID:o,startTime:u}=n,d=await(async()=>{var v;if(n.options.stream)return wt(i).debug("response",a.status,a.url,a.headers,a.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(a,n.controller):En.fromSSEResponse(a,n.controller);if(a.status===204)return null;if(n.options.__binaryResponse)return a;const h=a.headers.get("content-type"),m=(v=h==null?void 0:h.split(";")[0])==null?void 0:v.trim();if((m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))){const x=await a.json();return B0(x,a)}return await a.text()})();return wt(i).debug(`[${r}] response parsed`,Xa({retryOfRequestLogID:o,url:a.url,status:a.status,body:d,durationMs:Date.now()-u})),d}function B0(i,n){return!i||typeof i!="object"||Array.isArray(i)?i:Object.defineProperty(i,"_request_id",{value:n.headers.get("x-request-id"),enumerable:!1})}var wi;class lu extends Promise{constructor(n,a,r=q0){super(o=>{o(null)}),this.responsePromise=a,this.parseResponse=r,wi.set(this,void 0),de(this,wi,n)}_thenUnwrap(n){return new lu(z(this,wi,"f"),this.responsePromise,async(a,r)=>B0(n(await this.parseResponse(a,r),r),r.response))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,a]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:a,request_id:a.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(n=>this.parseResponse(z(this,wi,"f"),n))),this.parsedPromise}then(n,a){return this.parse().then(n,a)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}wi=new WeakMap;var vo;class H0{constructor(n,a,r,o){vo.set(this,void 0),de(this,vo,n),this.options=o,this.response=a,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const n=this.nextPageRequestOptions();if(!n)throw new ce("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await z(this,vo,"f").requestAPIList(this.constructor,n)}async*iterPages(){let n=this;for(yield n;n.hasNextPage();)n=await n.getNextPage(),yield n}async*[(vo=new WeakMap,Symbol.asyncIterator)](){for await(const n of this.iterPages())for(const a of n.getPaginatedItems())yield a}}class PA extends lu{constructor(n,a,r){super(n,a,async(o,u)=>new r(o,u.response,await q0(o,u),u.options))}async*[Symbol.asyncIterator](){const n=await this;for await(const a of n)yield a}}class ou extends H0{constructor(n,a,r,o){super(n,a,r,o),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Ze extends H0{constructor(n,a,r,o){super(n,a,r,o),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const n=this.getPaginatedItems(),a=(r=n[n.length-1])==null?void 0:r.id;return a?{...this.options,query:{...fA(this.options.query),after:a}}:null}}const I0=()=>{var i;if(typeof File>"u"){const{process:n}=globalThis,a=typeof((i=n==null?void 0:n.versions)==null?void 0:i.node)=="string"&&parseInt(n.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(a?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function $i(i,n,a){return I0(),new File(i,n??"unknown_file",a)}function To(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const F0=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function",er=async(i,n)=>({...i,body:await BA(i.body,n)}),nb=new WeakMap;function qA(i){const n=typeof i=="function"?i:i.fetch,a=nb.get(n);if(a)return a;const r=(async()=>{try{const o="Response"in n?n.Response:(await n("data:,")).constructor,u=new FormData;return u.toString()!==await new o(u).text()}catch{return!0}})();return nb.set(n,r),r}const BA=async(i,n)=>{if(!await qA(n))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const a=new FormData;return await Promise.all(Object.entries(i||{}).map(([r,o])=>pf(a,r,o))),a},HA=i=>i instanceof Blob&&"name"in i,pf=async(i,n,a)=>{if(a!==void 0){if(a==null)throw new TypeError(`Received null for "${n}"; to pass null in FormData, you must use the string 'null'`);if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")i.append(n,String(a));else if(a instanceof Response)i.append(n,$i([await a.blob()],To(a)));else if(F0(a))i.append(n,$i([await new Response($0(a)).blob()],To(a)));else if(HA(a))i.append(n,a,To(a));else if(Array.isArray(a))await Promise.all(a.map(r=>pf(i,n+"[]",r)));else if(typeof a=="object")await Promise.all(Object.entries(a).map(([r,o])=>pf(i,`${n}[${r}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${a} instead`)}},G0=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",IA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&G0(i),FA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function GA(i,n,a){if(I0(),i=await i,IA(i))return i instanceof File?i:$i([await i.arrayBuffer()],i.name);if(FA(i)){const o=await i.blob();return n||(n=new URL(i.url).pathname.split(/[\\/]/).pop()),$i(await gf(o),n,a)}const r=await gf(i);if(n||(n=To(i)),!(a!=null&&a.type)){const o=r.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(a={...a,type:o})}return $i(r,n,a)}async function gf(i){var a;let n=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)n.push(i);else if(G0(i))n.push(i instanceof Blob?i:await i.arrayBuffer());else if(F0(i))for await(const r of i)n.push(...await gf(r));else{const r=(a=i==null?void 0:i.constructor)==null?void 0:a.name;throw new Error(`Unexpected data type: ${typeof i}${r?`; constructor: ${r}`:""}${YA(i)}`)}return n}function YA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(a=>`"${a}"`).join(", ")}]`}class he{constructor(n){this._client=n}}function Y0(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const VA=(i=Y0)=>function(a,...r){if(a.length===1)return a[0];let o=!1;const u=a.reduce((y,v,x)=>(/[?#]/.test(v)&&(o=!0),y+v+(x===r.length?"":(o?encodeURIComponent:i)(String(r[x])))),""),d=u.split(/[?#]/,1)[0],h=[],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=m.exec(d))!==null;)h.push({start:g.index,length:g[0].length});if(h.length>0){let y=0;const v=h.reduce((x,w)=>{const S=" ".repeat(w.start-y),R="^".repeat(w.length);return y=w.start+w.length,x+S+R},"");throw new ce(`Path parameters result in path with invalid segments:
${u}
${v}`)}return u},W=VA(Y0);let V0=class extends he{list(n,a={},r){return this._client.getAPIList(W`/chat/completions/${n}/messages`,Ze,{query:a,...r})}};function XA(i){return typeof i.parse=="function"}const Go=i=>(i==null?void 0:i.role)==="assistant",X0=i=>(i==null?void 0:i.role)==="tool";var yf,Oo,Ro,Si,Ei,ko,Ai,Fn,ji,Yo,Vo,ss,Q0;class Hf{constructor(){yf.add(this),this.controller=new AbortController,Oo.set(this,void 0),Ro.set(this,()=>{}),Si.set(this,()=>{}),Ei.set(this,void 0),ko.set(this,()=>{}),Ai.set(this,()=>{}),Fn.set(this,{}),ji.set(this,!1),Yo.set(this,!1),Vo.set(this,!1),ss.set(this,!1),de(this,Oo,new Promise((n,a)=>{de(this,Ro,n,"f"),de(this,Si,a,"f")})),de(this,Ei,new Promise((n,a)=>{de(this,ko,n,"f"),de(this,Ai,a,"f")})),z(this,Oo,"f").catch(()=>{}),z(this,Ei,"f").catch(()=>{})}_run(n){setTimeout(()=>{n().then(()=>{this._emitFinal(),this._emit("end")},z(this,yf,"m",Q0).bind(this))},0)}_connected(){this.ended||(z(this,Ro,"f").call(this),this._emit("connect"))}get ended(){return z(this,ji,"f")}get errored(){return z(this,Yo,"f")}get aborted(){return z(this,Vo,"f")}abort(){this.controller.abort()}on(n,a){return(z(this,Fn,"f")[n]||(z(this,Fn,"f")[n]=[])).push({listener:a}),this}off(n,a){const r=z(this,Fn,"f")[n];if(!r)return this;const o=r.findIndex(u=>u.listener===a);return o>=0&&r.splice(o,1),this}once(n,a){return(z(this,Fn,"f")[n]||(z(this,Fn,"f")[n]=[])).push({listener:a,once:!0}),this}emitted(n){return new Promise((a,r)=>{de(this,ss,!0),n!=="error"&&this.once("error",r),this.once(n,a)})}async done(){de(this,ss,!0),await z(this,Ei,"f")}_emit(n,...a){if(z(this,ji,"f"))return;n==="end"&&(de(this,ji,!0),z(this,ko,"f").call(this));const r=z(this,Fn,"f")[n];if(r&&(z(this,Fn,"f")[n]=r.filter(o=>!o.once),r.forEach(({listener:o})=>o(...a))),n==="abort"){const o=a[0];!z(this,ss,"f")&&!(r!=null&&r.length)&&Promise.reject(o),z(this,Si,"f").call(this,o),z(this,Ai,"f").call(this,o),this._emit("end");return}if(n==="error"){const o=a[0];!z(this,ss,"f")&&!(r!=null&&r.length)&&Promise.reject(o),z(this,Si,"f").call(this,o),z(this,Ai,"f").call(this,o),this._emit("end")}}_emitFinal(){}}Oo=new WeakMap,Ro=new WeakMap,Si=new WeakMap,Ei=new WeakMap,ko=new WeakMap,Ai=new WeakMap,Fn=new WeakMap,ji=new WeakMap,Yo=new WeakMap,Vo=new WeakMap,ss=new WeakMap,yf=new WeakSet,Q0=function(n){if(de(this,Yo,!0),n instanceof Error&&n.name==="AbortError"&&(n=new tn),n instanceof tn)return de(this,Vo,!0),this._emit("abort",n);if(n instanceof ce)return this._emit("error",n);if(n instanceof Error){const a=new ce(n.message);return a.cause=n,this._emit("error",a)}return this._emit("error",new ce(String(n)))};function If(i){return(i==null?void 0:i.$brand)==="auto-parseable-response-format"}function Yi(i){return(i==null?void 0:i.$brand)==="auto-parseable-tool"}function QA(i,n){return!n||!K0(n)?{...i,choices:i.choices.map(a=>({...a,message:{...a.message,parsed:null,...a.message.tool_calls?{tool_calls:a.message.tool_calls}:void 0}}))}:Ff(i,n)}function Ff(i,n){const a=i.choices.map(r=>{var o;if(r.finish_reason==="length")throw new O0;if(r.finish_reason==="content_filter")throw new R0;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((o=r.message.tool_calls)==null?void 0:o.map(u=>JA(n,u)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?KA(n,r.message.content):null}}});return{...i,choices:a}}function KA(i,n){var a,r;return((a=i.response_format)==null?void 0:a.type)!=="json_schema"?null:((r=i.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in i.response_format?i.response_format.$parseRaw(n):JSON.parse(n):null}function JA(i,n){var r;const a=(r=i.tools)==null?void 0:r.find(o=>{var u;return((u=o.function)==null?void 0:u.name)===n.function.name});return{...n,function:{...n.function,parsed_arguments:Yi(a)?a.$parseRaw(n.function.arguments):a!=null&&a.function.strict?JSON.parse(n.function.arguments):null}}}function ZA(i,n){var r;if(!i)return!1;const a=(r=i.tools)==null?void 0:r.find(o=>{var u;return((u=o.function)==null?void 0:u.name)===n.function.name});return Yi(a)||(a==null?void 0:a.function.strict)||!1}function K0(i){var n;return If(i.response_format)?!0:((n=i.tools)==null?void 0:n.some(a=>Yi(a)||a.type==="function"&&a.function.strict===!0))??!1}function WA(i){for(const n of i??[]){if(n.type!=="function")throw new ce(`Currently only \`function\` tool types support auto-parsing; Received \`${n.type}\``);if(n.function.strict!==!0)throw new ce(`The \`${n.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Et,bf,Xo,vf,_f,xf,J0,Z0;const ej=10;class W0 extends Hf{constructor(){super(...arguments),Et.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(n){var r;this._chatCompletions.push(n),this._emit("chatCompletion",n);const a=(r=n.choices[0])==null?void 0:r.message;return a&&this._addMessage(a),n}_addMessage(n,a=!0){if("content"in n||(n.content=null),this.messages.push(n),a){if(this._emit("message",n),X0(n)&&n.content)this._emit("functionToolCallResult",n.content);else if(Go(n)&&n.tool_calls)for(const r of n.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const n=this._chatCompletions[this._chatCompletions.length-1];if(!n)throw new ce("stream ended without producing a ChatCompletion");return n}async finalContent(){return await this.done(),z(this,Et,"m",bf).call(this)}async finalMessage(){return await this.done(),z(this,Et,"m",Xo).call(this)}async finalFunctionToolCall(){return await this.done(),z(this,Et,"m",vf).call(this)}async finalFunctionToolCallResult(){return await this.done(),z(this,Et,"m",_f).call(this)}async totalUsage(){return await this.done(),z(this,Et,"m",xf).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const n=this._chatCompletions[this._chatCompletions.length-1];n&&this._emit("finalChatCompletion",n);const a=z(this,Et,"m",Xo).call(this);a&&this._emit("finalMessage",a);const r=z(this,Et,"m",bf).call(this);r&&this._emit("finalContent",r);const o=z(this,Et,"m",vf).call(this);o&&this._emit("finalFunctionToolCall",o);const u=z(this,Et,"m",_f).call(this);u!=null&&this._emit("finalFunctionToolCallResult",u),this._chatCompletions.some(d=>d.usage)&&this._emit("totalUsage",z(this,Et,"m",xf).call(this))}async _createChatCompletion(n,a,r){const o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),z(this,Et,"m",J0).call(this,a);const u=await n.chat.completions.create({...a,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Ff(u,a))}async _runChatCompletion(n,a,r){for(const o of a.messages)this._addMessage(o,!1);return await this._createChatCompletion(n,a,r)}async _runTools(n,a,r){var w,S,R;const o="tool",{tool_choice:u="auto",stream:d,...h}=a,m=typeof u!="string"&&((w=u==null?void 0:u.function)==null?void 0:w.name),{maxChatCompletions:g=ej}=r||{},y=a.tools.map(E=>{if(Yi(E)){if(!E.$callback)throw new ce("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:E.$callback,name:E.function.name,description:E.function.description||"",parameters:E.function.parameters,parse:E.$parseRaw,strict:!0}}}return E}),v={};for(const E of y)E.type==="function"&&(v[E.function.name||E.function.function.name]=E.function);const x="tools"in a?y.map(E=>E.type==="function"?{type:"function",function:{name:E.function.name||E.function.function.name,parameters:E.function.parameters,description:E.function.description,strict:E.function.strict}}:E):void 0;for(const E of a.messages)this._addMessage(E,!1);for(let E=0;E<g;++E){const U=(S=(await this._createChatCompletion(n,{...h,tool_choice:u,tools:x,messages:[...this.messages]},r)).choices[0])==null?void 0:S.message;if(!U)throw new ce("missing message in ChatCompletion response");if(!((R=U.tool_calls)!=null&&R.length))return;for(const C of U.tool_calls){if(C.type!=="function")continue;const D=C.id,{name:F,arguments:K}=C.function,G=v[F];if(G){if(m&&m!==F){const Q=`Invalid tool_call: ${JSON.stringify(F)}. ${JSON.stringify(m)} requested. Please try again`;this._addMessage({role:o,tool_call_id:D,content:Q});continue}}else{const Q=`Invalid tool_call: ${JSON.stringify(F)}. Available options are: ${Object.keys(v).map(pe=>JSON.stringify(pe)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:D,content:Q});continue}let me;try{me=XA(G)?await G.parse(K):K}catch(Q){const pe=Q instanceof Error?Q.message:String(Q);this._addMessage({role:o,tool_call_id:D,content:pe});continue}const X=await G.function(me,this),te=z(this,Et,"m",Z0).call(this,X);if(this._addMessage({role:o,tool_call_id:D,content:te}),m)return}}}}Et=new WeakSet,bf=function(){return z(this,Et,"m",Xo).call(this).content??null},Xo=function(){let n=this.messages.length;for(;n-- >0;){const a=this.messages[n];if(Go(a))return{...a,content:a.content??null,refusal:a.refusal??null}}throw new ce("stream ended without producing a ChatCompletionMessage with role=assistant")},vf=function(){var n,a;for(let r=this.messages.length-1;r>=0;r--){const o=this.messages[r];if(Go(o)&&((n=o==null?void 0:o.tool_calls)!=null&&n.length))return(a=o.tool_calls.at(-1))==null?void 0:a.function}},_f=function(){for(let n=this.messages.length-1;n>=0;n--){const a=this.messages[n];if(X0(a)&&a.content!=null&&typeof a.content=="string"&&this.messages.some(r=>{var o;return r.role==="assistant"&&((o=r.tool_calls)==null?void 0:o.some(u=>u.type==="function"&&u.id===a.tool_call_id))}))return a.content}},xf=function(){const n={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:a}of this._chatCompletions)a&&(n.completion_tokens+=a.completion_tokens,n.prompt_tokens+=a.prompt_tokens,n.total_tokens+=a.total_tokens);return n},J0=function(n){if(n.n!=null&&n.n>1)throw new ce("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Z0=function(n){return typeof n=="string"?n:n===void 0?"undefined":JSON.stringify(n)};class Gf extends W0{static runTools(n,a,r){const o=new Gf,u={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(n,a,u)),o}_addMessage(n,a=!0){super._addMessage(n,a),Go(n)&&n.content&&this._emit("content",n.content)}}const ev=1,tv=2,nv=4,av=8,rv=16,sv=32,iv=64,lv=128,ov=256,uv=lv|ov,cv=rv|sv|uv|iv,dv=ev|tv|cv,fv=nv|av,tj=dv|fv,ct={STR:ev,NUM:tv,ARR:nv,OBJ:av,NULL:rv,BOOL:sv,NAN:iv,INFINITY:lv,MINUS_INFINITY:ov,INF:uv,SPECIAL:cv,ATOM:dv,COLLECTION:fv,ALL:tj};class nj extends Error{}class aj extends Error{}function rj(i,n=ct.ALL){if(typeof i!="string")throw new TypeError(`expecting str, got ${typeof i}`);if(!i.trim())throw new Error(`${i} is empty`);return sj(i.trim(),n)}const sj=(i,n)=>{const a=i.length;let r=0;const o=x=>{throw new nj(`${x} at position ${r}`)},u=x=>{throw new aj(`${x} at position ${r}`)},d=()=>(v(),r>=a&&o("Unexpected end of input"),i[r]==='"'?h():i[r]==="{"?m():i[r]==="["?g():i.substring(r,r+4)==="null"||ct.NULL&n&&a-r<4&&"null".startsWith(i.substring(r))?(r+=4,null):i.substring(r,r+4)==="true"||ct.BOOL&n&&a-r<4&&"true".startsWith(i.substring(r))?(r+=4,!0):i.substring(r,r+5)==="false"||ct.BOOL&n&&a-r<5&&"false".startsWith(i.substring(r))?(r+=5,!1):i.substring(r,r+8)==="Infinity"||ct.INFINITY&n&&a-r<8&&"Infinity".startsWith(i.substring(r))?(r+=8,1/0):i.substring(r,r+9)==="-Infinity"||ct.MINUS_INFINITY&n&&1<a-r&&a-r<9&&"-Infinity".startsWith(i.substring(r))?(r+=9,-1/0):i.substring(r,r+3)==="NaN"||ct.NAN&n&&a-r<3&&"NaN".startsWith(i.substring(r))?(r+=3,NaN):y()),h=()=>{const x=r;let w=!1;for(r++;r<a&&(i[r]!=='"'||w&&i[r-1]==="\\");)w=i[r]==="\\"?!w:!1,r++;if(i.charAt(r)=='"')try{return JSON.parse(i.substring(x,++r-Number(w)))}catch(S){u(String(S))}else if(ct.STR&n)try{return JSON.parse(i.substring(x,r-Number(w))+'"')}catch{return JSON.parse(i.substring(x,i.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},m=()=>{r++,v();const x={};try{for(;i[r]!=="}";){if(v(),r>=a&&ct.OBJ&n)return x;const w=h();v(),r++;try{const S=d();Object.defineProperty(x,w,{value:S,writable:!0,enumerable:!0,configurable:!0})}catch(S){if(ct.OBJ&n)return x;throw S}v(),i[r]===","&&r++}}catch{if(ct.OBJ&n)return x;o("Expected '}' at end of object")}return r++,x},g=()=>{r++;const x=[];try{for(;i[r]!=="]";)x.push(d()),v(),i[r]===","&&r++}catch{if(ct.ARR&n)return x;o("Expected ']' at end of array")}return r++,x},y=()=>{if(r===0){i==="-"&&ct.NUM&n&&o("Not sure what '-' is");try{return JSON.parse(i)}catch(w){if(ct.NUM&n)try{return i[i.length-1]==="."?JSON.parse(i.substring(0,i.lastIndexOf("."))):JSON.parse(i.substring(0,i.lastIndexOf("e")))}catch{}u(String(w))}}const x=r;for(i[r]==="-"&&r++;i[r]&&!",]}".includes(i[r]);)r++;r==a&&!(ct.NUM&n)&&o("Unterminated number literal");try{return JSON.parse(i.substring(x,r))}catch{i.substring(x,r)==="-"&&ct.NUM&n&&o("Not sure what '-' is");try{return JSON.parse(i.substring(x,i.lastIndexOf("e")))}catch(S){u(String(S))}}},v=()=>{for(;r<a&&` 
\r	`.includes(i[r]);)r++};return d()},ab=i=>rj(i,ct.ALL^ct.NUM);var at,Hn,es,wa,Gd,_o,Yd,Vd,Xd,xo,Qd,rb;class zi extends W0{constructor(n){super(),at.add(this),Hn.set(this,void 0),es.set(this,void 0),wa.set(this,void 0),de(this,Hn,n),de(this,es,[])}get currentChatCompletionSnapshot(){return z(this,wa,"f")}static fromReadableStream(n){const a=new zi(null);return a._run(()=>a._fromReadableStream(n)),a}static createChatCompletion(n,a,r){const o=new zi(a);return o._run(()=>o._runChatCompletion(n,{...a,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createChatCompletion(n,a,r){var d;super._createChatCompletion;const o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),z(this,at,"m",Gd).call(this);const u=await n.chat.completions.create({...a,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const h of u)z(this,at,"m",Yd).call(this,h);if((d=u.controller.signal)!=null&&d.aborted)throw new tn;return this._addChatCompletion(z(this,at,"m",xo).call(this))}async _fromReadableStream(n,a){var d;const r=a==null?void 0:a.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),z(this,at,"m",Gd).call(this),this._connected();const o=En.fromReadableStream(n,this.controller);let u;for await(const h of o)u&&u!==h.id&&this._addChatCompletion(z(this,at,"m",xo).call(this)),z(this,at,"m",Yd).call(this,h),u=h.id;if((d=o.controller.signal)!=null&&d.aborted)throw new tn;return this._addChatCompletion(z(this,at,"m",xo).call(this))}[(Hn=new WeakMap,es=new WeakMap,wa=new WeakMap,at=new WeakSet,Gd=function(){this.ended||de(this,wa,void 0)},_o=function(a){let r=z(this,es,"f")[a.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},z(this,es,"f")[a.index]=r,r)},Yd=function(a){var o,u,d,h,m,g,y,v,x,w,S,R,E,N,U;if(this.ended)return;const r=z(this,at,"m",rb).call(this,a);this._emit("chunk",a,r);for(const C of a.choices){const D=r.choices[C.index];C.delta.content!=null&&((o=D.message)==null?void 0:o.role)==="assistant"&&((u=D.message)!=null&&u.content)&&(this._emit("content",C.delta.content,D.message.content),this._emit("content.delta",{delta:C.delta.content,snapshot:D.message.content,parsed:D.message.parsed})),C.delta.refusal!=null&&((d=D.message)==null?void 0:d.role)==="assistant"&&((h=D.message)!=null&&h.refusal)&&this._emit("refusal.delta",{delta:C.delta.refusal,snapshot:D.message.refusal}),((m=C.logprobs)==null?void 0:m.content)!=null&&((g=D.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(y=C.logprobs)==null?void 0:y.content,snapshot:((v=D.logprobs)==null?void 0:v.content)??[]}),((x=C.logprobs)==null?void 0:x.refusal)!=null&&((w=D.message)==null?void 0:w.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(S=C.logprobs)==null?void 0:S.refusal,snapshot:((R=D.logprobs)==null?void 0:R.refusal)??[]});const F=z(this,at,"m",_o).call(this,D);D.finish_reason&&(z(this,at,"m",Xd).call(this,D),F.current_tool_call_index!=null&&z(this,at,"m",Vd).call(this,D,F.current_tool_call_index));for(const K of C.delta.tool_calls??[])F.current_tool_call_index!==K.index&&(z(this,at,"m",Xd).call(this,D),F.current_tool_call_index!=null&&z(this,at,"m",Vd).call(this,D,F.current_tool_call_index)),F.current_tool_call_index=K.index;for(const K of C.delta.tool_calls??[]){const G=(E=D.message.tool_calls)==null?void 0:E[K.index];G!=null&&G.type&&((G==null?void 0:G.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(N=G.function)==null?void 0:N.name,index:K.index,arguments:G.function.arguments,parsed_arguments:G.function.parsed_arguments,arguments_delta:((U=K.function)==null?void 0:U.arguments)??""}):(G==null||G.type,void 0))}}},Vd=function(a,r){var d,h,m;if(z(this,at,"m",_o).call(this,a).done_tool_calls.has(r))return;const u=(d=a.message.tool_calls)==null?void 0:d[r];if(!u)throw new Error("no tool call snapshot");if(!u.type)throw new Error("tool call snapshot missing `type`");if(u.type==="function"){const g=(m=(h=z(this,Hn,"f"))==null?void 0:h.tools)==null?void 0:m.find(y=>y.type==="function"&&y.function.name===u.function.name);this._emit("tool_calls.function.arguments.done",{name:u.function.name,index:r,arguments:u.function.arguments,parsed_arguments:Yi(g)?g.$parseRaw(u.function.arguments):g!=null&&g.function.strict?JSON.parse(u.function.arguments):null})}else u.type},Xd=function(a){var o,u;const r=z(this,at,"m",_o).call(this,a);if(a.message.content&&!r.content_done){r.content_done=!0;const d=z(this,at,"m",Qd).call(this);this._emit("content.done",{content:a.message.content,parsed:d?d.$parseRaw(a.message.content):null})}a.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:a.message.refusal})),(o=a.logprobs)!=null&&o.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:a.logprobs.content})),(u=a.logprobs)!=null&&u.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:a.logprobs.refusal}))},xo=function(){if(this.ended)throw new ce("stream has ended, this shouldn't happen");const a=z(this,wa,"f");if(!a)throw new ce("request ended without sending any chunks");return de(this,wa,void 0),de(this,es,[]),ij(a,z(this,Hn,"f"))},Qd=function(){var r;const a=(r=z(this,Hn,"f"))==null?void 0:r.response_format;return If(a)?a:null},rb=function(a){var r,o,u,d;let h=z(this,wa,"f");const{choices:m,...g}=a;h?Object.assign(h,g):h=de(this,wa,{...g,choices:[]});for(const{delta:y,finish_reason:v,index:x,logprobs:w=null,...S}of a.choices){let R=h.choices[x];if(R||(R=h.choices[x]={finish_reason:v,index:x,message:{},logprobs:w,...S}),w)if(!R.logprobs)R.logprobs=Object.assign({},w);else{const{content:K,refusal:G,...me}=w;Object.assign(R.logprobs,me),K&&((r=R.logprobs).content??(r.content=[]),R.logprobs.content.push(...K)),G&&((o=R.logprobs).refusal??(o.refusal=[]),R.logprobs.refusal.push(...G))}if(v&&(R.finish_reason=v,z(this,Hn,"f")&&K0(z(this,Hn,"f")))){if(v==="length")throw new O0;if(v==="content_filter")throw new R0}if(Object.assign(R,S),!y)continue;const{content:E,refusal:N,function_call:U,role:C,tool_calls:D,...F}=y;if(Object.assign(R.message,F),N&&(R.message.refusal=(R.message.refusal||"")+N),C&&(R.message.role=C),U&&(R.message.function_call?(U.name&&(R.message.function_call.name=U.name),U.arguments&&((u=R.message.function_call).arguments??(u.arguments=""),R.message.function_call.arguments+=U.arguments)):R.message.function_call=U),E&&(R.message.content=(R.message.content||"")+E,!R.message.refusal&&z(this,at,"m",Qd).call(this)&&(R.message.parsed=ab(R.message.content))),D){R.message.tool_calls||(R.message.tool_calls=[]);for(const{index:K,id:G,type:me,function:X,...te}of D){const Q=(d=R.message.tool_calls)[K]??(d[K]={});Object.assign(Q,te),G&&(Q.id=G),me&&(Q.type=me),X&&(Q.function??(Q.function={name:X.name??"",arguments:""})),X!=null&&X.name&&(Q.function.name=X.name),X!=null&&X.arguments&&(Q.function.arguments+=X.arguments,ZA(z(this,Hn,"f"),Q)&&(Q.function.parsed_arguments=ab(Q.function.arguments)))}}}return h},Symbol.asyncIterator)](){const n=[],a=[];let r=!1;return this.on("chunk",o=>{const u=a.shift();u?u.resolve(o):n.push(o)}),this.on("end",()=>{r=!0;for(const o of a)o.resolve(void 0);a.length=0}),this.on("abort",o=>{r=!0;for(const u of a)u.reject(o);a.length=0}),this.on("error",o=>{r=!0;for(const u of a)u.reject(o);a.length=0}),{next:async()=>n.length?{value:n.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((u,d)=>a.push({resolve:u,reject:d})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new En(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function ij(i,n){const{id:a,choices:r,created:o,model:u,system_fingerprint:d,...h}=i,m={...h,id:a,choices:r.map(({message:g,finish_reason:y,index:v,logprobs:x,...w})=>{if(!y)throw new ce(`missing finish_reason for choice ${v}`);const{content:S=null,function_call:R,tool_calls:E,...N}=g,U=g.role;if(!U)throw new ce(`missing role for choice ${v}`);if(R){const{arguments:C,name:D}=R;if(C==null)throw new ce(`missing function_call.arguments for choice ${v}`);if(!D)throw new ce(`missing function_call.name for choice ${v}`);return{...w,message:{content:S,function_call:{arguments:C,name:D},role:U,refusal:g.refusal??null},finish_reason:y,index:v,logprobs:x}}return E?{...w,index:v,finish_reason:y,logprobs:x,message:{...N,role:U,content:S,refusal:g.refusal??null,tool_calls:E.map((C,D)=>{const{function:F,type:K,id:G,...me}=C,{arguments:X,name:te,...Q}=F||{};if(G==null)throw new ce(`missing choices[${v}].tool_calls[${D}].id
${wo(i)}`);if(K==null)throw new ce(`missing choices[${v}].tool_calls[${D}].type
${wo(i)}`);if(te==null)throw new ce(`missing choices[${v}].tool_calls[${D}].function.name
${wo(i)}`);if(X==null)throw new ce(`missing choices[${v}].tool_calls[${D}].function.arguments
${wo(i)}`);return{...me,id:G,type:K,function:{...Q,name:te,arguments:X}}})}}:{...w,message:{...N,content:S,role:U,refusal:g.refusal??null},finish_reason:y,index:v,logprobs:x}}),created:o,model:u,object:"chat.completion",...d?{system_fingerprint:d}:{}};return QA(m,n)}function wo(i){return JSON.stringify(i)}class Qo extends zi{static fromReadableStream(n){const a=new Qo(null);return a._run(()=>a._fromReadableStream(n)),a}static runTools(n,a,r){const o=new Qo(a),u={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(n,a,u)),o}}let Yf=class extends he{constructor(){super(...arguments),this.messages=new V0(this._client)}create(n,a){return this._client.post("/chat/completions",{body:n,...a,stream:n.stream??!1})}retrieve(n,a){return this._client.get(W`/chat/completions/${n}`,a)}update(n,a,r){return this._client.post(W`/chat/completions/${n}`,{body:a,...r})}list(n={},a){return this._client.getAPIList("/chat/completions",Ze,{query:n,...a})}delete(n,a){return this._client.delete(W`/chat/completions/${n}`,a)}parse(n,a){return WA(n.tools),this._client.chat.completions.create(n,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>Ff(r,n))}runTools(n,a){return n.stream?Qo.runTools(this._client,n,a):Gf.runTools(this._client,n,a)}stream(n,a){return zi.createChatCompletion(this._client,n,a)}};Yf.Messages=V0;class Vf extends he{constructor(){super(...arguments),this.completions=new Yf(this._client)}}Vf.Completions=Yf;const hv=Symbol("brand.privateNullableHeaders");function*lj(i){if(!i)return;if(hv in i){const{values:r,nulls:o}=i;yield*r.entries();for(const u of o)yield[u,null];return}let n=!1,a;i instanceof Headers?a=i.entries():Fy(i)?a=i:(n=!0,a=Object.entries(i??{}));for(let r of a){const o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=Fy(r[1])?r[1]:[r[1]];let d=!1;for(const h of u)h!==void 0&&(n&&!d&&(d=!0,yield[o,null]),yield[o,h])}}const re=i=>{const n=new Headers,a=new Set;for(const r of i){const o=new Set;for(const[u,d]of lj(r)){const h=u.toLowerCase();o.has(h)||(n.delete(u),o.add(h)),d===null?(n.delete(u),a.add(h)):(n.append(u,d),a.delete(h))}}return{[hv]:!0,values:n,nulls:a}};class mv extends he{create(n,a){return this._client.post("/audio/speech",{body:n,...a,headers:re([{Accept:"application/octet-stream"},a==null?void 0:a.headers]),__binaryResponse:!0})}}class pv extends he{create(n,a){return this._client.post("/audio/transcriptions",er({body:n,...a,stream:n.stream??!1,__metadata:{model:n.model}},this._client))}}class gv extends he{create(n,a){return this._client.post("/audio/translations",er({body:n,...a,__metadata:{model:n.model}},this._client))}}class Vi extends he{constructor(){super(...arguments),this.transcriptions=new pv(this._client),this.translations=new gv(this._client),this.speech=new mv(this._client)}}Vi.Transcriptions=pv;Vi.Translations=gv;Vi.Speech=mv;class yv extends he{create(n,a){return this._client.post("/batches",{body:n,...a})}retrieve(n,a){return this._client.get(W`/batches/${n}`,a)}list(n={},a){return this._client.getAPIList("/batches",Ze,{query:n,...a})}cancel(n,a){return this._client.post(W`/batches/${n}/cancel`,a)}}class bv extends he{create(n,a){return this._client.post("/assistants",{body:n,...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}retrieve(n,a){return this._client.get(W`/assistants/${n}`,{...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}update(n,a,r){return this._client.post(W`/assistants/${n}`,{body:a,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(n={},a){return this._client.getAPIList("/assistants",Ze,{query:n,...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}delete(n,a){return this._client.delete(W`/assistants/${n}`,{...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}}class vv extends he{create(n,a){return this._client.post("/realtime/sessions",{body:n,...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}}class _v extends he{create(n,a){return this._client.post("/realtime/transcription_sessions",{body:n,...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}}class uu extends he{constructor(){super(...arguments),this.sessions=new vv(this._client),this.transcriptionSessions=new _v(this._client)}}uu.Sessions=vv;uu.TranscriptionSessions=_v;class xv extends he{create(n,a,r){return this._client.post(W`/threads/${n}/messages`,{body:a,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(n,a,r){const{thread_id:o}=a;return this._client.get(W`/threads/${o}/messages/${n}`,{...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(n,a,r){const{thread_id:o,...u}=a;return this._client.post(W`/threads/${o}/messages/${n}`,{body:u,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(n,a={},r){return this._client.getAPIList(W`/threads/${n}/messages`,Ze,{query:a,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(n,a,r){const{thread_id:o}=a;return this._client.delete(W`/threads/${o}/messages/${n}`,{...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class wv extends he{retrieve(n,a,r){const{thread_id:o,run_id:u,...d}=a;return this._client.get(W`/threads/${o}/runs/${u}/steps/${n}`,{query:d,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(n,a,r){const{thread_id:o,...u}=a;return this._client.getAPIList(W`/threads/${o}/runs/${n}/steps`,Ze,{query:u,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const oj=i=>{if(typeof Buffer<"u"){const n=Buffer.from(i,"base64");return Array.from(new Float32Array(n.buffer,n.byteOffset,n.length/Float32Array.BYTES_PER_ELEMENT))}else{const n=atob(i),a=n.length,r=new Uint8Array(a);for(let o=0;o<a;o++)r[o]=n.charCodeAt(o);return Array.from(new Float32Array(r.buffer))}};var Kd={};const ts=i=>{var n,a,r,o;if(typeof globalThis.process<"u")return((n=Kd==null?void 0:Kd[i])==null?void 0:n.trim())??void 0;if(typeof globalThis.Deno<"u")return(o=(r=(a=globalThis.Deno.env)==null?void 0:a.get)==null?void 0:r.call(a,i))==null?void 0:o.trim()};var gt,Ja,wf,wn,$o,ln,Za,ls,Ka,Ko,Gt,Uo,Mo,Ui,Ci,Ni,sb,ib,lb,ob,ub,cb,db;class Mi extends Hf{constructor(){super(...arguments),gt.add(this),wf.set(this,[]),wn.set(this,{}),$o.set(this,{}),ln.set(this,void 0),Za.set(this,void 0),ls.set(this,void 0),Ka.set(this,void 0),Ko.set(this,void 0),Gt.set(this,void 0),Uo.set(this,void 0),Mo.set(this,void 0),Ui.set(this,void 0)}[(wf=new WeakMap,wn=new WeakMap,$o=new WeakMap,ln=new WeakMap,Za=new WeakMap,ls=new WeakMap,Ka=new WeakMap,Ko=new WeakMap,Gt=new WeakMap,Uo=new WeakMap,Mo=new WeakMap,Ui=new WeakMap,gt=new WeakSet,Symbol.asyncIterator)](){const n=[],a=[];let r=!1;return this.on("event",o=>{const u=a.shift();u?u.resolve(o):n.push(o)}),this.on("end",()=>{r=!0;for(const o of a)o.resolve(void 0);a.length=0}),this.on("abort",o=>{r=!0;for(const u of a)u.reject(o);a.length=0}),this.on("error",o=>{r=!0;for(const u of a)u.reject(o);a.length=0}),{next:async()=>n.length?{value:n.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((u,d)=>a.push({resolve:u,reject:d})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(n){const a=new Ja;return a._run(()=>a._fromReadableStream(n)),a}async _fromReadableStream(n,a){var u;const r=a==null?void 0:a.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const o=En.fromReadableStream(n,this.controller);for await(const d of o)z(this,gt,"m",Ci).call(this,d);if((u=o.controller.signal)!=null&&u.aborted)throw new tn;return this._addRun(z(this,gt,"m",Ni).call(this))}toReadableStream(){return new En(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(n,a,r,o){const u=new Ja;return u._run(()=>u._runToolAssistantStream(n,a,r,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createToolAssistantStream(n,a,r,o){var m;const u=o==null?void 0:o.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const d={...r,stream:!0},h=await n.submitToolOutputs(a,d,{...o,signal:this.controller.signal});this._connected();for await(const g of h)z(this,gt,"m",Ci).call(this,g);if((m=h.controller.signal)!=null&&m.aborted)throw new tn;return this._addRun(z(this,gt,"m",Ni).call(this))}static createThreadAssistantStream(n,a,r){const o=new Ja;return o._run(()=>o._threadAssistantStream(n,a,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),o}static createAssistantStream(n,a,r,o){const u=new Ja;return u._run(()=>u._runAssistantStream(n,a,r,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),u}currentEvent(){return z(this,Uo,"f")}currentRun(){return z(this,Mo,"f")}currentMessageSnapshot(){return z(this,ln,"f")}currentRunStepSnapshot(){return z(this,Ui,"f")}async finalRunSteps(){return await this.done(),Object.values(z(this,wn,"f"))}async finalMessages(){return await this.done(),Object.values(z(this,$o,"f"))}async finalRun(){if(await this.done(),!z(this,Za,"f"))throw Error("Final run was not received.");return z(this,Za,"f")}async _createThreadAssistantStream(n,a,r){var h;const o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const u={...a,stream:!0},d=await n.createAndRun(u,{...r,signal:this.controller.signal});this._connected();for await(const m of d)z(this,gt,"m",Ci).call(this,m);if((h=d.controller.signal)!=null&&h.aborted)throw new tn;return this._addRun(z(this,gt,"m",Ni).call(this))}async _createAssistantStream(n,a,r,o){var m;const u=o==null?void 0:o.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const d={...r,stream:!0},h=await n.create(a,d,{...o,signal:this.controller.signal});this._connected();for await(const g of h)z(this,gt,"m",Ci).call(this,g);if((m=h.controller.signal)!=null&&m.aborted)throw new tn;return this._addRun(z(this,gt,"m",Ni).call(this))}static accumulateDelta(n,a){for(const[r,o]of Object.entries(a)){if(!n.hasOwnProperty(r)){n[r]=o;continue}let u=n[r];if(u==null){n[r]=o;continue}if(r==="index"||r==="type"){n[r]=o;continue}if(typeof u=="string"&&typeof o=="string")u+=o;else if(typeof u=="number"&&typeof o=="number")u+=o;else if(Hd(u)&&Hd(o))u=this.accumulateDelta(u,o);else if(Array.isArray(u)&&Array.isArray(o)){if(u.every(d=>typeof d=="string"||typeof d=="number")){u.push(...o);continue}for(const d of o){if(!Hd(d))throw new Error(`Expected array delta entry to be an object but got: ${d}`);const h=d.index;if(h==null)throw console.error(d),new Error("Expected array delta entry to have an `index` property");if(typeof h!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${h}`);const m=u[h];m==null?u.push(d):u[h]=this.accumulateDelta(m,d)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${o}, accValue: ${u}`);n[r]=u}return n}_addRun(n){return n}async _threadAssistantStream(n,a,r){return await this._createThreadAssistantStream(a,n,r)}async _runAssistantStream(n,a,r,o){return await this._createAssistantStream(a,n,r,o)}async _runToolAssistantStream(n,a,r,o){return await this._createToolAssistantStream(a,n,r,o)}}Ja=Mi,Ci=function(n){if(!this.ended)switch(de(this,Uo,n),z(this,gt,"m",lb).call(this,n),n.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":z(this,gt,"m",db).call(this,n);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":z(this,gt,"m",ib).call(this,n);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":z(this,gt,"m",sb).call(this,n);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Ni=function(){if(this.ended)throw new ce("stream has ended, this shouldn't happen");if(!z(this,Za,"f"))throw Error("Final run has not been received");return z(this,Za,"f")},sb=function(n){const[a,r]=z(this,gt,"m",ub).call(this,n,z(this,ln,"f"));de(this,ln,a),z(this,$o,"f")[a.id]=a;for(const o of r){const u=a.content[o.index];(u==null?void 0:u.type)=="text"&&this._emit("textCreated",u.text)}switch(n.event){case"thread.message.created":this._emit("messageCreated",n.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",n.data.delta,a),n.data.delta.content)for(const o of n.data.delta.content){if(o.type=="text"&&o.text){let u=o.text,d=a.content[o.index];if(d&&d.type=="text")this._emit("textDelta",u,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=z(this,ls,"f")){if(z(this,Ka,"f"))switch(z(this,Ka,"f").type){case"text":this._emit("textDone",z(this,Ka,"f").text,z(this,ln,"f"));break;case"image_file":this._emit("imageFileDone",z(this,Ka,"f").image_file,z(this,ln,"f"));break}de(this,ls,o.index)}de(this,Ka,a.content[o.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(z(this,ls,"f")!==void 0){const o=n.data.content[z(this,ls,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,z(this,ln,"f"));break;case"text":this._emit("textDone",o.text,z(this,ln,"f"));break}}z(this,ln,"f")&&this._emit("messageDone",n.data),de(this,ln,void 0)}},ib=function(n){const a=z(this,gt,"m",ob).call(this,n);switch(de(this,Ui,a),n.event){case"thread.run.step.created":this._emit("runStepCreated",n.data);break;case"thread.run.step.delta":const r=n.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&a.step_details.type=="tool_calls")for(const u of r.step_details.tool_calls)u.index==z(this,Ko,"f")?this._emit("toolCallDelta",u,a.step_details.tool_calls[u.index]):(z(this,Gt,"f")&&this._emit("toolCallDone",z(this,Gt,"f")),de(this,Ko,u.index),de(this,Gt,a.step_details.tool_calls[u.index]),z(this,Gt,"f")&&this._emit("toolCallCreated",z(this,Gt,"f")));this._emit("runStepDelta",n.data.delta,a);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":de(this,Ui,void 0),n.data.step_details.type=="tool_calls"&&z(this,Gt,"f")&&(this._emit("toolCallDone",z(this,Gt,"f")),de(this,Gt,void 0)),this._emit("runStepDone",n.data,a);break}},lb=function(n){z(this,wf,"f").push(n),this._emit("event",n)},ob=function(n){switch(n.event){case"thread.run.step.created":return z(this,wn,"f")[n.data.id]=n.data,n.data;case"thread.run.step.delta":let a=z(this,wn,"f")[n.data.id];if(!a)throw Error("Received a RunStepDelta before creation of a snapshot");let r=n.data;if(r.delta){const o=Ja.accumulateDelta(a,r.delta);z(this,wn,"f")[n.data.id]=o}return z(this,wn,"f")[n.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":z(this,wn,"f")[n.data.id]=n.data;break}if(z(this,wn,"f")[n.data.id])return z(this,wn,"f")[n.data.id];throw new Error("No snapshot available")},ub=function(n,a){let r=[];switch(n.event){case"thread.message.created":return[n.data,r];case"thread.message.delta":if(!a)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=n.data;if(o.delta.content)for(const u of o.delta.content)if(u.index in a.content){let d=a.content[u.index];a.content[u.index]=z(this,gt,"m",cb).call(this,u,d)}else a.content[u.index]=u,r.push(u);return[a,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(a)return[a,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},cb=function(n,a){return Ja.accumulateDelta(a,n)},db=function(n){switch(de(this,Mo,n.data),n.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":de(this,Za,n.data),z(this,Gt,"f")&&(this._emit("toolCallDone",z(this,Gt,"f")),de(this,Gt,void 0));break}};let Xf=class extends he{constructor(){super(...arguments),this.steps=new wv(this._client)}create(n,a,r){const{include:o,...u}=a;return this._client.post(W`/threads/${n}/runs`,{query:{include:o},body:u,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:a.stream??!1})}retrieve(n,a,r){const{thread_id:o}=a;return this._client.get(W`/threads/${o}/runs/${n}`,{...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(n,a,r){const{thread_id:o,...u}=a;return this._client.post(W`/threads/${o}/runs/${n}`,{body:u,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(n,a={},r){return this._client.getAPIList(W`/threads/${n}/runs`,Ze,{query:a,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(n,a,r){const{thread_id:o}=a;return this._client.post(W`/threads/${o}/runs/${n}/cancel`,{...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(n,a,r){const o=await this.create(n,a,r);return await this.poll(o.id,{thread_id:n},r)}createAndStream(n,a,r){return Mi.createAssistantStream(n,this._client.beta.threads.runs,a,r)}async poll(n,a,r){var u;const o=re([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((u=r==null?void 0:r.pollIntervalMs)==null?void 0:u.toString())??void 0}]);for(;;){const{data:d,response:h}=await this.retrieve(n,a,{...r,headers:{...r==null?void 0:r.headers,...o}}).withResponse();switch(d.status){case"queued":case"in_progress":case"cancelling":let m=5e3;if(r!=null&&r.pollIntervalMs)m=r.pollIntervalMs;else{const g=h.headers.get("openai-poll-after-ms");if(g){const y=parseInt(g);isNaN(y)||(m=y)}}await Gi(m);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return d}}}stream(n,a,r){return Mi.createAssistantStream(n,this._client.beta.threads.runs,a,r)}submitToolOutputs(n,a,r){const{thread_id:o,...u}=a;return this._client.post(W`/threads/${o}/runs/${n}/submit_tool_outputs`,{body:u,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:a.stream??!1})}async submitToolOutputsAndPoll(n,a,r){const o=await this.submitToolOutputs(n,a,r);return await this.poll(o.id,a,r)}submitToolOutputsStream(n,a,r){return Mi.createToolAssistantStream(n,this._client.beta.threads.runs,a,r)}};Xf.Steps=wv;class cu extends he{constructor(){super(...arguments),this.runs=new Xf(this._client),this.messages=new xv(this._client)}create(n={},a){return this._client.post("/threads",{body:n,...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}retrieve(n,a){return this._client.get(W`/threads/${n}`,{...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}update(n,a,r){return this._client.post(W`/threads/${n}`,{body:a,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(n,a){return this._client.delete(W`/threads/${n}`,{...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}createAndRun(n,a){return this._client.post("/threads/runs",{body:n,...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers]),stream:n.stream??!1})}async createAndRunPoll(n,a){const r=await this.createAndRun(n,a);return await this.runs.poll(r.id,{thread_id:r.thread_id},a)}createAndRunStream(n,a){return Mi.createThreadAssistantStream(n,this._client.beta.threads,a)}}cu.Runs=Xf;cu.Messages=xv;class Xi extends he{constructor(){super(...arguments),this.realtime=new uu(this._client),this.assistants=new bv(this._client),this.threads=new cu(this._client)}}Xi.Realtime=uu;Xi.Assistants=bv;Xi.Threads=cu;class Sv extends he{create(n,a){return this._client.post("/completions",{body:n,...a,stream:n.stream??!1})}}class Ev extends he{retrieve(n,a,r){const{container_id:o}=a;return this._client.get(W`/containers/${o}/files/${n}/content`,{...r,headers:re([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let Qf=class extends he{constructor(){super(...arguments),this.content=new Ev(this._client)}create(n,a,r){return this._client.post(W`/containers/${n}/files`,er({body:a,...r},this._client))}retrieve(n,a,r){const{container_id:o}=a;return this._client.get(W`/containers/${o}/files/${n}`,r)}list(n,a={},r){return this._client.getAPIList(W`/containers/${n}/files`,Ze,{query:a,...r})}delete(n,a,r){const{container_id:o}=a;return this._client.delete(W`/containers/${o}/files/${n}`,{...r,headers:re([{Accept:"*/*"},r==null?void 0:r.headers])})}};Qf.Content=Ev;class Kf extends he{constructor(){super(...arguments),this.files=new Qf(this._client)}create(n,a){return this._client.post("/containers",{body:n,...a})}retrieve(n,a){return this._client.get(W`/containers/${n}`,a)}list(n={},a){return this._client.getAPIList("/containers",Ze,{query:n,...a})}delete(n,a){return this._client.delete(W`/containers/${n}`,{...a,headers:re([{Accept:"*/*"},a==null?void 0:a.headers])})}}Kf.Files=Qf;class Av extends he{create(n,a){const r=!!n.encoding_format;let o=r?n.encoding_format:"base64";r&&wt(this._client).debug("embeddings/user defined encoding_format:",n.encoding_format);const u=this._client.post("/embeddings",{body:{...n,encoding_format:o},...a});return r?u:(wt(this._client).debug("embeddings/decoding base64 embeddings from base64"),u._thenUnwrap(d=>(d&&d.data&&d.data.forEach(h=>{const m=h.embedding;h.embedding=oj(m)}),d)))}}class jv extends he{retrieve(n,a,r){const{eval_id:o,run_id:u}=a;return this._client.get(W`/evals/${o}/runs/${u}/output_items/${n}`,r)}list(n,a,r){const{eval_id:o,...u}=a;return this._client.getAPIList(W`/evals/${o}/runs/${n}/output_items`,Ze,{query:u,...r})}}class Jf extends he{constructor(){super(...arguments),this.outputItems=new jv(this._client)}create(n,a,r){return this._client.post(W`/evals/${n}/runs`,{body:a,...r})}retrieve(n,a,r){const{eval_id:o}=a;return this._client.get(W`/evals/${o}/runs/${n}`,r)}list(n,a={},r){return this._client.getAPIList(W`/evals/${n}/runs`,Ze,{query:a,...r})}delete(n,a,r){const{eval_id:o}=a;return this._client.delete(W`/evals/${o}/runs/${n}`,r)}cancel(n,a,r){const{eval_id:o}=a;return this._client.post(W`/evals/${o}/runs/${n}`,r)}}Jf.OutputItems=jv;class Zf extends he{constructor(){super(...arguments),this.runs=new Jf(this._client)}create(n,a){return this._client.post("/evals",{body:n,...a})}retrieve(n,a){return this._client.get(W`/evals/${n}`,a)}update(n,a,r){return this._client.post(W`/evals/${n}`,{body:a,...r})}list(n={},a){return this._client.getAPIList("/evals",Ze,{query:n,...a})}delete(n,a){return this._client.delete(W`/evals/${n}`,a)}}Zf.Runs=Jf;let Cv=class extends he{create(n,a){return this._client.post("/files",er({body:n,...a},this._client))}retrieve(n,a){return this._client.get(W`/files/${n}`,a)}list(n={},a){return this._client.getAPIList("/files",Ze,{query:n,...a})}delete(n,a){return this._client.delete(W`/files/${n}`,a)}content(n,a){return this._client.get(W`/files/${n}/content`,{...a,headers:re([{Accept:"application/binary"},a==null?void 0:a.headers]),__binaryResponse:!0})}async waitForProcessing(n,{pollInterval:a=5e3,maxWait:r=30*60*1e3}={}){const o=new Set(["processed","error","deleted"]),u=Date.now();let d=await this.retrieve(n);for(;!d.status||!o.has(d.status);)if(await Gi(a),d=await this.retrieve(n),Date.now()-u>r)throw new qf({message:`Giving up on waiting for file ${n} to finish processing after ${r} milliseconds.`});return d}};class Nv extends he{}let Tv=class extends he{run(n,a){return this._client.post("/fine_tuning/alpha/graders/run",{body:n,...a})}validate(n,a){return this._client.post("/fine_tuning/alpha/graders/validate",{body:n,...a})}};class Wf extends he{constructor(){super(...arguments),this.graders=new Tv(this._client)}}Wf.Graders=Tv;class Ov extends he{create(n,a,r){return this._client.getAPIList(W`/fine_tuning/checkpoints/${n}/permissions`,ou,{body:a,method:"post",...r})}retrieve(n,a={},r){return this._client.get(W`/fine_tuning/checkpoints/${n}/permissions`,{query:a,...r})}delete(n,a,r){const{fine_tuned_model_checkpoint:o}=a;return this._client.delete(W`/fine_tuning/checkpoints/${o}/permissions/${n}`,r)}}let eh=class extends he{constructor(){super(...arguments),this.permissions=new Ov(this._client)}};eh.Permissions=Ov;class Rv extends he{list(n,a={},r){return this._client.getAPIList(W`/fine_tuning/jobs/${n}/checkpoints`,Ze,{query:a,...r})}}class th extends he{constructor(){super(...arguments),this.checkpoints=new Rv(this._client)}create(n,a){return this._client.post("/fine_tuning/jobs",{body:n,...a})}retrieve(n,a){return this._client.get(W`/fine_tuning/jobs/${n}`,a)}list(n={},a){return this._client.getAPIList("/fine_tuning/jobs",Ze,{query:n,...a})}cancel(n,a){return this._client.post(W`/fine_tuning/jobs/${n}/cancel`,a)}listEvents(n,a={},r){return this._client.getAPIList(W`/fine_tuning/jobs/${n}/events`,Ze,{query:a,...r})}pause(n,a){return this._client.post(W`/fine_tuning/jobs/${n}/pause`,a)}resume(n,a){return this._client.post(W`/fine_tuning/jobs/${n}/resume`,a)}}th.Checkpoints=Rv;class hs extends he{constructor(){super(...arguments),this.methods=new Nv(this._client),this.jobs=new th(this._client),this.checkpoints=new eh(this._client),this.alpha=new Wf(this._client)}}hs.Methods=Nv;hs.Jobs=th;hs.Checkpoints=eh;hs.Alpha=Wf;class kv extends he{}class nh extends he{constructor(){super(...arguments),this.graderModels=new kv(this._client)}}nh.GraderModels=kv;class $v extends he{createVariation(n,a){return this._client.post("/images/variations",er({body:n,...a},this._client))}edit(n,a){return this._client.post("/images/edits",er({body:n,...a},this._client))}generate(n,a){return this._client.post("/images/generations",{body:n,...a})}}class Uv extends he{retrieve(n,a){return this._client.get(W`/models/${n}`,a)}list(n){return this._client.getAPIList("/models",ou,n)}delete(n,a){return this._client.delete(W`/models/${n}`,a)}}class Mv extends he{create(n,a){return this._client.post("/moderations",{body:n,...a})}}function uj(i,n){return!n||!dj(n)?{...i,output_parsed:null,output:i.output.map(a=>a.type==="function_call"?{...a,parsed_arguments:null}:a.type==="message"?{...a,content:a.content.map(r=>({...r,parsed:null}))}:a)}:Dv(i,n)}function Dv(i,n){const a=i.output.map(o=>{if(o.type==="function_call")return{...o,parsed_arguments:mj(n,o)};if(o.type==="message"){const u=o.content.map(d=>d.type==="output_text"?{...d,parsed:cj(n,d.text)}:d);return{...o,content:u}}return o}),r=Object.assign({},i,{output:a});return Object.getOwnPropertyDescriptor(i,"output_text")||Sf(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const o of r.output)if(o.type==="message"){for(const u of o.content)if(u.type==="output_text"&&u.parsed!==null)return u.parsed}return null}}),r}function cj(i,n){var a,r,o,u;return((r=(a=i.text)==null?void 0:a.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((o=i.text)==null?void 0:o.format)?((u=i.text)==null?void 0:u.format).$parseRaw(n):JSON.parse(n)}function dj(i){var n;return!!If((n=i.text)==null?void 0:n.format)}function fj(i){return(i==null?void 0:i.$brand)==="auto-parseable-tool"}function hj(i,n){return i.find(a=>a.type==="function"&&a.name===n)}function mj(i,n){const a=hj(i.tools??[],n.name);return{...n,...n,parsed_arguments:fj(a)?a.$parseRaw(n.arguments):a!=null&&a.strict?JSON.parse(n.arguments):null}}function Sf(i){const n=[];for(const a of i.output)if(a.type==="message")for(const r of a.content)r.type==="output_text"&&n.push(r.text);i.output_text=n.join("")}var ns,So,Sa,Eo,fb,hb,mb,pb;class ah extends Hf{constructor(n){super(),ns.add(this),So.set(this,void 0),Sa.set(this,void 0),Eo.set(this,void 0),de(this,So,n)}static createResponse(n,a,r){const o=new ah(a);return o._run(()=>o._createOrRetrieveResponse(n,a,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createOrRetrieveResponse(n,a,r){var h;const o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),z(this,ns,"m",fb).call(this);let u,d=null;"response_id"in a?(u=await n.responses.retrieve(a.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),d=a.starting_after??null):u=await n.responses.create({...a,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const m of u)z(this,ns,"m",hb).call(this,m,d);if((h=u.controller.signal)!=null&&h.aborted)throw new tn;return z(this,ns,"m",mb).call(this)}[(So=new WeakMap,Sa=new WeakMap,Eo=new WeakMap,ns=new WeakSet,fb=function(){this.ended||de(this,Sa,void 0)},hb=function(a,r){if(this.ended)return;const o=(d,h)=>{(r==null||h.sequence_number>r)&&this._emit(d,h)},u=z(this,ns,"m",pb).call(this,a);switch(o("event",a),a.type){case"response.output_text.delta":{const d=u.output[a.output_index];if(!d)throw new ce(`missing output at index ${a.output_index}`);if(d.type==="message"){const h=d.content[a.content_index];if(!h)throw new ce(`missing content at index ${a.content_index}`);if(h.type!=="output_text")throw new ce(`expected content to be 'output_text', got ${h.type}`);o("response.output_text.delta",{...a,snapshot:h.text})}break}case"response.function_call_arguments.delta":{const d=u.output[a.output_index];if(!d)throw new ce(`missing output at index ${a.output_index}`);d.type==="function_call"&&o("response.function_call_arguments.delta",{...a,snapshot:d.arguments});break}default:o(a.type,a);break}},mb=function(){if(this.ended)throw new ce("stream has ended, this shouldn't happen");const a=z(this,Sa,"f");if(!a)throw new ce("request ended without sending any events");de(this,Sa,void 0);const r=pj(a,z(this,So,"f"));return de(this,Eo,r),r},pb=function(a){let r=z(this,Sa,"f");if(!r){if(a.type!=="response.created")throw new ce(`When snapshot hasn't been set yet, expected 'response.created' event, got ${a.type}`);return r=de(this,Sa,a.response),r}switch(a.type){case"response.output_item.added":{r.output.push(a.item);break}case"response.content_part.added":{const o=r.output[a.output_index];if(!o)throw new ce(`missing output at index ${a.output_index}`);o.type==="message"&&o.content.push(a.part);break}case"response.output_text.delta":{const o=r.output[a.output_index];if(!o)throw new ce(`missing output at index ${a.output_index}`);if(o.type==="message"){const u=o.content[a.content_index];if(!u)throw new ce(`missing content at index ${a.content_index}`);if(u.type!=="output_text")throw new ce(`expected content to be 'output_text', got ${u.type}`);u.text+=a.delta}break}case"response.function_call_arguments.delta":{const o=r.output[a.output_index];if(!o)throw new ce(`missing output at index ${a.output_index}`);o.type==="function_call"&&(o.arguments+=a.delta);break}case"response.completed":{de(this,Sa,a.response);break}}return r},Symbol.asyncIterator)](){const n=[],a=[];let r=!1;return this.on("event",o=>{const u=a.shift();u?u.resolve(o):n.push(o)}),this.on("end",()=>{r=!0;for(const o of a)o.resolve(void 0);a.length=0}),this.on("abort",o=>{r=!0;for(const u of a)u.reject(o);a.length=0}),this.on("error",o=>{r=!0;for(const u of a)u.reject(o);a.length=0}),{next:async()=>n.length?{value:n.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((u,d)=>a.push({resolve:u,reject:d})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const n=z(this,Eo,"f");if(!n)throw new ce("stream ended without producing a ChatCompletion");return n}}function pj(i,n){return uj(i,n)}class Lv extends he{list(n,a={},r){return this._client.getAPIList(W`/responses/${n}/input_items`,Ze,{query:a,...r})}}class rh extends he{constructor(){super(...arguments),this.inputItems=new Lv(this._client)}create(n,a){return this._client.post("/responses",{body:n,...a,stream:n.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Sf(r),r))}retrieve(n,a={},r){return this._client.get(W`/responses/${n}`,{query:a,...r,stream:(a==null?void 0:a.stream)??!1})._thenUnwrap(o=>("object"in o&&o.object==="response"&&Sf(o),o))}delete(n,a){return this._client.delete(W`/responses/${n}`,{...a,headers:re([{Accept:"*/*"},a==null?void 0:a.headers])})}parse(n,a){return this._client.responses.create(n,a)._thenUnwrap(r=>Dv(r,n))}stream(n,a){return ah.createResponse(this._client,n,a)}cancel(n,a){return this._client.post(W`/responses/${n}/cancel`,a)}}rh.InputItems=Lv;class zv extends he{create(n,a,r){return this._client.post(W`/uploads/${n}/parts`,er({body:a,...r},this._client))}}class sh extends he{constructor(){super(...arguments),this.parts=new zv(this._client)}create(n,a){return this._client.post("/uploads",{body:n,...a})}cancel(n,a){return this._client.post(W`/uploads/${n}/cancel`,a)}complete(n,a,r){return this._client.post(W`/uploads/${n}/complete`,{body:a,...r})}}sh.Parts=zv;const gj=async i=>{const n=await Promise.allSettled(i),a=n.filter(o=>o.status==="rejected");if(a.length){for(const o of a)console.error(o.reason);throw new Error(`${a.length} promise(s) failed - see the above errors`)}const r=[];for(const o of n)o.status==="fulfilled"&&r.push(o.value);return r};class Pv extends he{create(n,a,r){return this._client.post(W`/vector_stores/${n}/file_batches`,{body:a,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(n,a,r){const{vector_store_id:o}=a;return this._client.get(W`/vector_stores/${o}/file_batches/${n}`,{...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(n,a,r){const{vector_store_id:o}=a;return this._client.post(W`/vector_stores/${o}/file_batches/${n}/cancel`,{...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(n,a,r){const o=await this.create(n,a);return await this.poll(n,o.id,r)}listFiles(n,a,r){const{vector_store_id:o,...u}=a;return this._client.getAPIList(W`/vector_stores/${o}/file_batches/${n}/files`,Ze,{query:u,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(n,a,r){var u;const o=re([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((u=r==null?void 0:r.pollIntervalMs)==null?void 0:u.toString())??void 0}]);for(;;){const{data:d,response:h}=await this.retrieve(a,{vector_store_id:n},{...r,headers:o}).withResponse();switch(d.status){case"in_progress":let m=5e3;if(r!=null&&r.pollIntervalMs)m=r.pollIntervalMs;else{const g=h.headers.get("openai-poll-after-ms");if(g){const y=parseInt(g);isNaN(y)||(m=y)}}await Gi(m);break;case"failed":case"cancelled":case"completed":return d}}}async uploadAndPoll(n,{files:a,fileIds:r=[]},o){if(a==null||a.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const u=(o==null?void 0:o.maxConcurrency)??5,d=Math.min(u,a.length),h=this._client,m=a.values(),g=[...r];async function y(x){for(let w of x){const S=await h.files.create({file:w,purpose:"assistants"},o);g.push(S.id)}}const v=Array(d).fill(m).map(y);return await gj(v),await this.createAndPoll(n,{file_ids:g})}}class qv extends he{create(n,a,r){return this._client.post(W`/vector_stores/${n}/files`,{body:a,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(n,a,r){const{vector_store_id:o}=a;return this._client.get(W`/vector_stores/${o}/files/${n}`,{...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(n,a,r){const{vector_store_id:o,...u}=a;return this._client.post(W`/vector_stores/${o}/files/${n}`,{body:u,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(n,a={},r){return this._client.getAPIList(W`/vector_stores/${n}/files`,Ze,{query:a,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(n,a,r){const{vector_store_id:o}=a;return this._client.delete(W`/vector_stores/${o}/files/${n}`,{...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(n,a,r){const o=await this.create(n,a,r);return await this.poll(n,o.id,r)}async poll(n,a,r){var u;const o=re([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((u=r==null?void 0:r.pollIntervalMs)==null?void 0:u.toString())??void 0}]);for(;;){const d=await this.retrieve(a,{vector_store_id:n},{...r,headers:o}).withResponse(),h=d.data;switch(h.status){case"in_progress":let m=5e3;if(r!=null&&r.pollIntervalMs)m=r.pollIntervalMs;else{const g=d.response.headers.get("openai-poll-after-ms");if(g){const y=parseInt(g);isNaN(y)||(m=y)}}await Gi(m);break;case"failed":case"completed":return h}}}async upload(n,a,r){const o=await this._client.files.create({file:a,purpose:"assistants"},r);return this.create(n,{file_id:o.id},r)}async uploadAndPoll(n,a,r){const o=await this.upload(n,a,r);return await this.poll(n,o.id,r)}content(n,a,r){const{vector_store_id:o}=a;return this._client.getAPIList(W`/vector_stores/${o}/files/${n}/content`,ou,{...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class du extends he{constructor(){super(...arguments),this.files=new qv(this._client),this.fileBatches=new Pv(this._client)}create(n,a){return this._client.post("/vector_stores",{body:n,...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}retrieve(n,a){return this._client.get(W`/vector_stores/${n}`,{...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}update(n,a,r){return this._client.post(W`/vector_stores/${n}`,{body:a,...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(n={},a){return this._client.getAPIList("/vector_stores",Ze,{query:n,...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}delete(n,a){return this._client.delete(W`/vector_stores/${n}`,{...a,headers:re([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])})}search(n,a,r){return this._client.getAPIList(W`/vector_stores/${n}/search`,ou,{body:a,method:"post",...r,headers:re([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}du.Files=qv;du.FileBatches=Pv;var is,Bv,Do;class Hv extends he{constructor(){super(...arguments),is.add(this)}async unwrap(n,a,r=this._client.webhookSecret,o=300){return await this.verifySignature(n,a,r,o),JSON.parse(n)}async verifySignature(n,a,r=this._client.webhookSecret,o=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");z(this,is,"m",Bv).call(this,r);const u=re([a]).values,d=z(this,is,"m",Do).call(this,u,"webhook-signature"),h=z(this,is,"m",Do).call(this,u,"webhook-timestamp"),m=z(this,is,"m",Do).call(this,u,"webhook-id"),g=parseInt(h,10);if(isNaN(g))throw new _i("Invalid webhook timestamp format");const y=Math.floor(Date.now()/1e3);if(y-g>o)throw new _i("Webhook timestamp is too old");if(g>y+o)throw new _i("Webhook timestamp is too new");const v=d.split(" ").map(R=>R.startsWith("v1,")?R.substring(3):R),x=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),w=m?`${m}.${h}.${n}`:`${h}.${n}`,S=await crypto.subtle.importKey("raw",x,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const R of v)try{const E=Buffer.from(R,"base64");if(await crypto.subtle.verify("HMAC",S,E,new TextEncoder().encode(w)))return}catch{continue}throw new _i("The given webhook signature does not match the expected signature")}}is=new WeakSet,Bv=function(n){if(typeof n!="string"||n.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Do=function(n,a){if(!n)throw new Error("Headers are required");const r=n.get(a);if(r==null)throw new Error(`Missing required header: ${a}`);return r};var Ef,ih,Lo,Iv;class Ae{constructor({baseURL:n=ts("OPENAI_BASE_URL"),apiKey:a=ts("OPENAI_API_KEY"),organization:r=ts("OPENAI_ORG_ID")??null,project:o=ts("OPENAI_PROJECT_ID")??null,webhookSecret:u=ts("OPENAI_WEBHOOK_SECRET")??null,...d}={}){if(Ef.add(this),Lo.set(this,void 0),this.completions=new Sv(this),this.chat=new Vf(this),this.embeddings=new Av(this),this.files=new Cv(this),this.images=new $v(this),this.audio=new Vi(this),this.moderations=new Mv(this),this.models=new Uv(this),this.fineTuning=new hs(this),this.graders=new nh(this),this.vectorStores=new du(this),this.webhooks=new Hv(this),this.beta=new Xi(this),this.batches=new yv(this),this.uploads=new sh(this),this.responses=new rh(this),this.evals=new Zf(this),this.containers=new Kf(this),a===void 0)throw new ce("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const h={apiKey:a,organization:r,project:o,webhookSecret:u,...d,baseURL:n||"https://api.openai.com/v1"};if(!h.dangerouslyAllowBrowser&&yA())throw new ce(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=h.baseURL,this.timeout=h.timeout??ih.DEFAULT_TIMEOUT,this.logger=h.logger??console;const m="warn";this.logLevel=m,this.logLevel=eb(h.logLevel,"ClientOptions.logLevel",this)??eb(ts("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??m,this.fetchOptions=h.fetchOptions,this.maxRetries=h.maxRetries??2,this.fetch=h.fetch??wA(),de(this,Lo,EA),this._options=h,this.apiKey=a,this.organization=r,this.project=o,this.webhookSecret=u}withOptions(n){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...n})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:a}){}authHeaders(n){return re([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(n){return OA(n,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${rs}`}defaultIdempotencyKey(){return`stainless-node-retry-${x0()}`}makeStatusError(n,a,r,o){return yt.generate(n,a,r,o)}buildURL(n,a,r){const o=!z(this,Ef,"m",Iv).call(this)&&r||this.baseURL,u=dA(n)?new URL(n):new URL(o+(o.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),d=this.defaultQuery();return hA(d)||(a={...d,...a}),typeof a=="object"&&a&&!Array.isArray(a)&&(u.search=this.stringifyQuery(a)),u.toString()}async prepareOptions(n){}async prepareRequest(n,{url:a,options:r}){}get(n,a){return this.methodRequest("get",n,a)}post(n,a){return this.methodRequest("post",n,a)}patch(n,a){return this.methodRequest("patch",n,a)}put(n,a){return this.methodRequest("put",n,a)}delete(n,a){return this.methodRequest("delete",n,a)}methodRequest(n,a,r){return this.request(Promise.resolve(r).then(o=>({method:n,path:a,...o})))}request(n,a=null){return new lu(this,this.makeRequest(n,a,void 0))}async makeRequest(n,a,r){var N,U;const o=await n,u=o.maxRetries??this.maxRetries;a==null&&(a=u),await this.prepareOptions(o);const{req:d,url:h,timeout:m}=this.buildRequest(o,{retryCount:u-a});await this.prepareRequest(d,{url:h,options:o});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(wt(this).debug(`[${g}] sending request`,Xa({retryOfRequestLogID:r,method:o.method,url:h,options:o,headers:d.headers})),(N=o.signal)!=null&&N.aborted)throw new tn;const x=new AbortController,w=await this.fetchWithTimeout(h,d,m,x).catch(hf),S=Date.now();if(w instanceof Error){const C=`retrying, ${a} attempts remaining`;if((U=o.signal)!=null&&U.aborted)throw new tn;const D=ff(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(a)return wt(this).info(`[${g}] connection ${D?"timed out":"failed"} - ${C}`),wt(this).debug(`[${g}] connection ${D?"timed out":"failed"} (${C})`,Xa({retryOfRequestLogID:r,url:h,durationMs:S-v,message:w.message})),this.retryRequest(o,a,r??g);throw wt(this).info(`[${g}] connection ${D?"timed out":"failed"} - error; no more retries left`),wt(this).debug(`[${g}] connection ${D?"timed out":"failed"} (error; no more retries left)`,Xa({retryOfRequestLogID:r,url:h,durationMs:S-v,message:w.message})),D?new qf:new su({cause:w})}const R=[...w.headers.entries()].filter(([C])=>C==="x-request-id").map(([C,D])=>", "+C+": "+JSON.stringify(D)).join(""),E=`[${g}${y}${R}] ${d.method} ${h} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${S-v}ms`;if(!w.ok){const C=this.shouldRetry(w);if(a&&C){const X=`retrying, ${a} attempts remaining`;return await SA(w.body),wt(this).info(`${E} - ${X}`),wt(this).debug(`[${g}] response error (${X})`,Xa({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:S-v})),this.retryRequest(o,a,r??g,w.headers)}const D=C?"error; no more retries left":"error; not retryable";wt(this).info(`${E} - ${D}`);const F=await w.text().catch(X=>hf(X).message),K=gA(F),G=K?void 0:F;throw wt(this).debug(`[${g}] response error (${D})`,Xa({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,message:G,durationMs:Date.now()-v})),this.makeStatusError(w.status,K,G,w.headers)}return wt(this).info(E),wt(this).debug(`[${g}] response start`,Xa({retryOfRequestLogID:r,url:w.url,status:w.status,headers:w.headers,durationMs:S-v})),{response:w,options:o,controller:x,requestLogID:g,retryOfRequestLogID:r,startTime:v}}getAPIList(n,a,r){return this.requestAPIList(a,{method:"get",path:n,...r})}requestAPIList(n,a){const r=this.makeRequest(a,null,void 0);return new PA(this,r,n)}async fetchWithTimeout(n,a,r,o){const{signal:u,method:d,...h}=a||{};u&&u.addEventListener("abort",()=>o.abort());const m=setTimeout(()=>o.abort(),r),g=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,y={signal:o.signal,...g?{duplex:"half"}:{},method:"GET",...h};d&&(y.method=d.toUpperCase());try{return await this.fetch.call(void 0,n,y)}finally{clearTimeout(m)}}shouldRetry(n){const a=n.headers.get("x-should-retry");return a==="true"?!0:a==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,a,r,o){let u;const d=o==null?void 0:o.get("retry-after-ms");if(d){const m=parseFloat(d);Number.isNaN(m)||(u=m)}const h=o==null?void 0:o.get("retry-after");if(h&&!u){const m=parseFloat(h);Number.isNaN(m)?u=Date.parse(h)-Date.now():u=m*1e3}if(!(u&&0<=u&&u<60*1e3)){const m=n.maxRetries??this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(a,m)}return await Gi(u),this.makeRequest(n,a-1,r)}calculateDefaultRetryTimeoutMillis(n,a){const u=a-n,d=Math.min(.5*Math.pow(2,u),8),h=1-Math.random()*.25;return d*h*1e3}buildRequest(n,{retryCount:a=0}={}){const r={...n},{method:o,path:u,query:d,defaultBaseURL:h}=r,m=this.buildURL(u,d,h);"timeout"in r&&pA("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:g,body:y}=this.buildBody({options:r}),v=this.buildHeaders({options:n,method:o,bodyHeaders:g,retryCount:a});return{req:{method:o,headers:v,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"},...y&&{body:y},...this.fetchOptions??{},...r.fetchOptions??{}},url:m,timeout:r.timeout}}buildHeaders({options:n,method:a,bodyHeaders:r,retryCount:o}){let u={};this.idempotencyHeader&&a!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=n.idempotencyKey);const d=re([u,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o),...n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{},...xA(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},this.authHeaders(n),this._options.defaultHeaders,r,n.headers]);return this.validateHeaders(d),d.values}buildBody({options:{body:n,headers:a}}){if(!n)return{bodyHeaders:void 0,body:void 0};const r=re([a]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&r.values.has("content-type")||n instanceof Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:$0(n)}:z(this,Lo,"f").call(this,{body:n,headers:r})}}ih=Ae,Lo=new WeakMap,Ef=new WeakSet,Iv=function(){return this.baseURL!=="https://api.openai.com/v1"};Ae.OpenAI=ih;Ae.DEFAULT_TIMEOUT=6e5;Ae.OpenAIError=ce;Ae.APIError=yt;Ae.APIConnectionError=su;Ae.APIConnectionTimeoutError=qf;Ae.APIUserAbortError=tn;Ae.NotFoundError=A0;Ae.ConflictError=j0;Ae.RateLimitError=N0;Ae.BadRequestError=w0;Ae.AuthenticationError=S0;Ae.InternalServerError=T0;Ae.PermissionDeniedError=E0;Ae.UnprocessableEntityError=C0;Ae.InvalidWebhookSignatureError=_i;Ae.toFile=GA;Ae.Completions=Sv;Ae.Chat=Vf;Ae.Embeddings=Av;Ae.Files=Cv;Ae.Images=$v;Ae.Audio=Vi;Ae.Moderations=Mv;Ae.Models=Uv;Ae.FineTuning=hs;Ae.Graders=nh;Ae.VectorStores=du;Ae.Webhooks=Hv;Ae.Beta=Xi;Ae.Batches=yv;Ae.Uploads=sh;Ae.Responses=rh;Ae.Evals=Zf;Ae.Containers=Kf;console.log("🔧 OpenAI Module Loading...");console.log("🌍 Environment:",{isDev:!1,mode:"production",host:window.location.host,protocol:window.location.protocol});const yj=au(),Jo=ru();console.log("🔧 API Environment:",yj);console.log("🔧 OpenAI Configuration:",Jo);const xn="YOUR_OPENAI_API_KEY_HERE";console.log("🔑 API Key Check:",{hasApiKey:!0,keyLength:(xn==null?void 0:xn.length)||0,keyPrefix:(xn==null?void 0:xn.substring(0,8))||"none",keyValid:(xn==null?void 0:xn.startsWith("sk-"))||!1});const zo=Jo.canUseOpenAI?new Ae({apiKey:xn,dangerouslyAllowBrowser:!0}):null;console.log("🤖 OpenAI Client:",{initialized:!!zo,canUseOpenAI:Jo.canUseOpenAI,reason:Jo.reason,timestamp:new Date().toISOString()});async function bj(i){var n,a,r,o,u;if(console.log("📤 Sending message to OpenAI...",{timestamp:new Date().toISOString(),messageCount:i.length,hasOpenAI:!!zo,location:window.location.href}),!zo){console.warn("⚠️ No OpenAI client available");const d=ru();return d.reason==="GitHub Pages CORS restrictions"?`I'm StudyPal AI! 🤖

⚠️ **Running on GitHub Pages**

Due to browser security restrictions, I can't make direct API calls to OpenAI from GitHub Pages. This works fine in development but requires a backend server in production.

**Solutions:**
1. Use Supabase Edge Functions (recommended)
2. Deploy with a backend server
3. Use a CORS proxy service

**For now, I'm in demo mode.** I can help you with:
- Study planning and organization
- Academic questions and explanations
- Learning strategies and tips
- Research assistance

To enable full AI capabilities, please implement one of the solutions above.`:`I'm StudyPal AI! 🤖

⚠️ **Configuration Issue**

Reason: ${d.reason}
Suggestion: ${d.suggestion}

For now, I'm running in demo mode. I can help you with:
- Study planning and organization
- Academic questions and explanations
- Learning strategies and tips
- Research assistance

To get started with full AI capabilities, please fix the configuration issue above.`}try{console.log("🔄 Making OpenAI API request...");const h=[{role:"system",content:`You are StudyPal AI, a helpful study assistant. You help students with:
- Answering academic questions
- Explaining concepts clearly
- Providing study tips and strategies
- Helping with homework and assignments
- Breaking down complex topics into understandable parts

Be friendly, encouraging, and educational in your responses. Keep answers concise but thorough.`},...i].map(y=>({role:y.role,content:y.content}));console.log("📝 Prepared messages for OpenAI:",{totalMessages:h.length,userMessages:i.filter(y=>y.role==="user").length,assistantMessages:i.filter(y=>y.role==="assistant").length});const m=await zo.chat.completions.create({model:"gpt-3.5-turbo",messages:h,max_tokens:500,temperature:.7,stream:!1});console.log("✅ OpenAI API response received:",{timestamp:new Date().toISOString(),hasResponse:!!((a=(n=m.choices[0])==null?void 0:n.message)!=null&&a.content),usage:m.usage});const g=(o=(r=m.choices[0])==null?void 0:r.message)==null?void 0:o.content;if(!g)throw console.error("❌ No response content from OpenAI"),new Error("No response from OpenAI");return console.log("📨 OpenAI response ready:",{responseLength:g.length,timestamp:new Date().toISOString()}),g}catch(d){if(console.error("❌ OpenAI API Error:",{error:d,timestamp:new Date().toISOString(),errorType:(u=d==null?void 0:d.constructor)==null?void 0:u.name,errorMessage:d instanceof Error?d.message:"Unknown error",location:window.location.href}),d instanceof Error){if(d.message.includes("API key"))throw console.error("🔑 API Key Error detected"),new Error("OpenAI API key is invalid or missing. Please check your environment variables.");if(d.message.includes("quota"))throw console.error("💰 Quota Error detected"),new Error("OpenAI API quota exceeded. Please check your usage or billing.");if(d.message.includes("rate limit"))throw console.error("⏱️ Rate Limit Error detected"),new Error("OpenAI API rate limit exceeded. Please try again in a moment.");if(d.message.includes("CORS")||d.message.includes("network"))throw console.error("🌐 Network/CORS Error detected"),new Error("Network error: Unable to connect to OpenAI. This may be due to CORS restrictions on GitHub Pages.")}throw new Error("Failed to get response from AI. Please try again.")}}function vj(){console.log("🔍 Validating OpenAI configuration...");const i=ru();return i.canUseOpenAI?(console.log("✅ OpenAI configuration is valid"),{valid:!0}):(console.error("❌ OpenAI configuration invalid:",i.reason),{valid:!1,error:`${i.reason}. ${i.suggestion}`})}async function _j(i){console.log("🧠 AI Service: Determining best approach...",{timestamp:new Date().toISOString(),messageCount:i.length,location:window.location.href});const n=au(),a=ru();if(console.log("🔍 AI Service Analysis:",{environment:n,openaiConfig:a,hasSupabase:un()}),n.isGitHubPages&&un()){console.log("🌐 Using Supabase Edge Function strategy for GitHub Pages...");try{return await gb(i)}catch(r){throw console.error("❌ Supabase Edge Function failed:",r),new Error(`Edge Function error: ${r instanceof Error?r.message:"Unknown error"}. Please check your Supabase Edge Function deployment.`)}}if(a.canUseOpenAI&&!n.isGitHubPages)return console.log("🚀 Using direct OpenAI call strategy..."),await bj(i);if(un()){console.log("🆘 Using Supabase Edge Function as fallback...");try{return await gb(i)}catch(r){throw console.error("❌ Supabase fallback failed:",r),new Error("All AI service strategies failed. Please check your configuration.")}}return console.warn("⚠️ All strategies unavailable, using demo mode"),xj()}async function gb(i){if(!fe)throw new Error("Supabase not configured");console.log("📡 Calling Supabase Edge Function...");const{data:n,error:a}=await fe.functions.invoke("chat-with-ai",{body:{messages:i}});if(a)throw console.error("❌ Supabase Edge Function error:",a),new Error(`Edge Function error: ${a.message}`);if(!(n!=null&&n.response))throw console.error("❌ No response from Edge Function:",n),new Error("No response from AI service");return console.log("✅ Supabase Edge Function response received:",{responseLength:n.response.length,timestamp:n.timestamp||new Date().toISOString()}),n.response}function xj(){const i=au(),n=["I'm StudyPal AI! 🤖 I'd love to help you study, but I'm currently in demo mode.","Hello! I'm your study companion. To enable full AI responses, please configure the OpenAI integration.","Hi there! I'm StudyPal AI. While I'm in demo mode, I can still offer some study tips: break down complex topics into smaller parts!","Greetings! I'm here to help with your studies. For full AI capabilities, please set up the proper configuration."],a=n[Math.floor(Math.random()*n.length)];let r="";return i.isGitHubPages&&(r=`

🌐 **Running on GitHub Pages**: For full functionality, consider setting up Supabase Edge Functions.`),a+r+`

💡 **Study Tip**: Always review your notes within 24 hours to improve retention!`}async function wj(i){try{const{userId:n,planType:a}=i;if(!fe)return{success:!1,error:"Database connection not available"};if(!n||!a)return{success:!1,error:"User ID and plan type are required"};if(!["gold","diamond"].includes(a))return{success:!1,error:"Invalid plan type"};const{data:r,error:o}=await fe.from("profiles").update({plan_type:a,updated_at:new Date().toISOString()}).eq("id",n).select("*").single();if(o){if(o.code==="PGRST116"){console.log("User profile not found during update, creating new profile...");const u=await Pi(n,i.userEmail);if(!u.success)return u;const{data:d,error:h}=await fe.from("profiles").update({plan_type:a,updated_at:new Date().toISOString()}).eq("id",n).select("*").single();return h?(console.error("Error updating user plan after creation:",h),{success:!1,error:h.message||"Failed to update user plan"}):{success:!0,user:{id:d.id,email:d.email,plan_type:d.plan_type,updated_at:d.updated_at}}}return console.error("Error updating user plan:",o),{success:!1,error:o.message||"Failed to update user plan"}}return r?(console.log("✅ User plan updated successfully:",r),{success:!0,user:{id:r.id,email:r.email,plan_type:r.plan_type,updated_at:r.updated_at}}):{success:!1,error:"User not found"}}catch(n){return console.error("Unexpected error updating user plan:",n),{success:!1,error:n instanceof Error?n.message:"An unexpected error occurred"}}}async function Pi(i,n){if(!fe)return{success:!1,error:"Database connection not available"};try{const{data:a,error:r}=await fe.from("profiles").insert({id:i,email:n||"",plan_type:"free",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("*").single();return r?(console.error("Error creating user profile:",r),{success:!1,error:r.message||"Failed to create user profile"}):(console.log("✅ User profile created:",a),{success:!0,user:{id:a.id,email:a.email,plan_type:a.plan_type||"free",updated_at:a.updated_at}})}catch(a){return console.error("Unexpected error creating user profile:",a),{success:!1,error:a instanceof Error?a.message:"An unexpected error occurred"}}}async function lh(i,n){try{if(!i)return{success:!1,error:"User ID is required"};if(!fe)return{success:!1,error:"Database connection not available"};const{data:a,error:r}=await fe.from("profiles").select("id, email, plan_type, updated_at").eq("id",i).single();return r?r.code==="PGRST116"?(console.log("User profile not found, creating new profile..."),await Pi(i,n)):(console.error("Error fetching user plan:",r),{success:!1,error:r.message||"Failed to fetch user plan"}):a?{success:!0,user:{id:a.id,email:a.email,plan_type:a.plan_type||"free",updated_at:a.updated_at}}:(console.log("User profile data is null, creating new profile..."),await Pi(i,n))}catch(a){return console.error("Unexpected error fetching user plan:",a),{success:!1,error:a instanceof Error?a.message:"An unexpected error occurred"}}}function Sj(i){switch(i){case"gold":return"Gold Member";case"diamond":return"Diamond Member";case"free":default:return"Free Member"}}async function Ej(i,n){try{if(!fe)return{success:!1,error:"Database connection not available"};if(!i)return{success:!1,error:"User ID is required"};const{data:a,error:r}=await fe.from("profiles").update({plan_type:"free",updated_at:new Date().toISOString()}).eq("id",i).select("*").single();if(r){if(r.code==="PGRST116"){console.log("User profile not found during downgrade, creating new profile...");const o=await Pi(i,n);return o.success,o}return console.error("Error downgrading user plan:",r),{success:!1,error:r.message||"Failed to downgrade user plan"}}return a?(console.log("✅ User plan downgraded to free successfully:",a),{success:!0,user:{id:a.id,email:a.email,plan_type:a.plan_type,updated_at:a.updated_at}}):{success:!1,error:"User not found"}}catch(a){return console.error("Unexpected error downgrading user plan:",a),{success:!1,error:a instanceof Error?a.message:"An unexpected error occurred"}}}async function Aj(i,n){try{if(!fe)return{success:!1,error:"Database connection not available"};if(!i)return{success:!1,error:"User ID is required"};const{data:a,error:r}=await fe.from("profiles").update({plan_type:"gold",updated_at:new Date().toISOString()}).eq("id",i).select("*").single();if(r){if(r.code==="PGRST116"){console.log("User profile not found during downgrade, creating new profile...");const o=await Pi(i,n);if(!o.success)return o;const{data:u,error:d}=await fe.from("profiles").update({plan_type:"gold",updated_at:new Date().toISOString()}).eq("id",i).select("*").single();return d?(console.error("Error updating user plan to gold after creation:",d),{success:!1,error:d.message||"Failed to update user plan to gold"}):{success:!0,user:{id:u.id,email:u.email,plan_type:u.plan_type,updated_at:u.updated_at}}}return console.error("Error downgrading user plan to gold:",r),{success:!1,error:r.message||"Failed to downgrade user plan to gold"}}return a?(console.log("✅ User plan downgraded to gold successfully:",a),{success:!0,user:{id:a.id,email:a.email,plan_type:a.plan_type,updated_at:a.updated_at}}):{success:!1,error:"User not found"}}catch(a){return console.error("Unexpected error downgrading user plan to gold:",a),{success:!1,error:a instanceof Error?a.message:"An unexpected error occurred"}}}function Sn(i){switch(i){case"free":return 5;case"gold":return 10;case"diamond":return 15;default:return 5}}function oh(){return new Date().toISOString().split("T")[0]}async function yb(i,n){try{if(!fe)return{success:!1,error:"Database connection not available"};if(!i)return{success:!1,error:"User ID is required"};const a=oh(),r=Sn(n),{data:o,error:u}=await fe.from("daily_usage").select("*").eq("user_id",i).eq("date",a).single();if(u&&u.code!=="PGRST116")return console.error("Error checking daily usage:",u),{success:!1,error:u.message||"Failed to check daily usage"};if(!o)return{success:!0,canAsk:!0,remaining:r,limit:r,usage:{id:"",user_id:i,date:a,questions_asked:0,plan_type:n,created_at:"",updated_at:""}};const d=o.questions_asked,h=d<r,m=Math.max(0,r-d);return{success:!0,canAsk:h,remaining:m,limit:r,usage:{id:o.id,user_id:o.user_id,date:o.date,questions_asked:o.questions_asked,plan_type:o.plan_type,created_at:o.created_at,updated_at:o.updated_at}}}catch(a){return console.error("Unexpected error checking daily usage:",a),{success:!1,error:a instanceof Error?a.message:"An unexpected error occurred"}}}async function jj(i,n){try{if(!fe)return{success:!1,error:"Database connection not available"};if(!i)return{success:!1,error:"User ID is required"};const a=oh(),r=Sn(n),{data:o,error:u}=await fe.rpc("increment_daily_usage",{p_user_id:i,p_date:a,p_plan_type:n,p_limit:r});if(u)return console.error("Error recording question:",u),u.code==="42883"?await Cj(i,n):{success:!1,error:u.message||"Failed to record question"};if(!o||o.length===0)return{success:!1,error:"Daily limit exceeded"};const d=o[0];return{success:!0,usage:{id:d.id,user_id:d.user_id,date:d.date,questions_asked:d.questions_asked,plan_type:d.plan_type,created_at:d.created_at,updated_at:d.updated_at}}}catch(a){return console.error("Unexpected error recording question:",a),{success:!1,error:a instanceof Error?a.message:"An unexpected error occurred"}}}async function Cj(i,n){try{if(!fe)return{success:!1,error:"Database connection not available"};const a=oh(),r=Sn(n),{data:o,error:u}=await fe.from("daily_usage").select("*").eq("user_id",i).eq("date",a).single();if(u&&u.code!=="PGRST116")return console.error("Error fetching existing usage:",u),{success:!1,error:u.message||"Failed to fetch existing usage"};if(o){if(o.questions_asked>=r)return{success:!1,error:"Daily limit exceeded"};const{data:d,error:h}=await fe.from("daily_usage").update({questions_asked:o.questions_asked+1,plan_type:n,updated_at:new Date().toISOString()}).eq("id",o.id).select("*").single();return h?(console.error("Error updating daily usage:",h),{success:!1,error:h.message||"Failed to update daily usage"}):{success:!0,usage:{id:d.id,user_id:d.user_id,date:d.date,questions_asked:d.questions_asked,plan_type:d.plan_type,created_at:d.created_at,updated_at:d.updated_at}}}else{const{data:d,error:h}=await fe.from("daily_usage").insert({user_id:i,date:a,questions_asked:1,plan_type:n,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("*").single();return h?(console.error("Error creating daily usage record:",h),{success:!1,error:h.message||"Failed to create daily usage record"}):{success:!0,usage:{id:d.id,user_id:d.user_id,date:d.date,questions_asked:d.questions_asked,plan_type:d.plan_type,created_at:d.created_at,updated_at:d.updated_at}}}}catch(a){return console.error("Unexpected error recording question:",a),{success:!1,error:a instanceof Error?a.message:"An unexpected error occurred"}}}function bb(){const[i,n]=O.useState(""),[a,r]=O.useState([]),[o,u]=O.useState(!1),[d,h]=O.useState(!1),[m,g]=O.useState("free"),[y,v]=O.useState({questionsAsked:0,limit:5,remaining:5}),x=O.useRef(null),w=jn(),{user:S,signOut:R}=rr(),{isDarkMode:E}=dn(),N=fn(E),U=()=>{if(!S)return"U";const X=S.user_metadata;return X!=null&&X.firstName&&(X!=null&&X.lastName)?`${X.firstName.charAt(0)}${X.lastName.charAt(0)}`.toUpperCase():S.email?S.email.charAt(0).toUpperCase():"U"};O.useEffect(()=>{if(!d)return;function X(te){x.current&&!x.current.contains(te.target)&&h(!1)}return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[d]),O.useEffect(()=>{S!=null&&S.id?lh(S.id,S.email).then(X=>{if(X.success&&X.user){const te=X.user.plan_type;g(te),yb(S.id,te).then(Q=>{var pe,qe;console.log("📊 Initial Usage Check:",{planType:te,usageResult:Q,questionsAsked:((pe=Q.usage)==null?void 0:pe.questions_asked)||0,limit:Q.limit||Sn(te),remaining:Q.remaining||Sn(te)}),Q.success&&v({questionsAsked:((qe=Q.usage)==null?void 0:qe.questions_asked)||0,limit:Q.limit||Sn(te),remaining:Q.remaining||Sn(te)})})}}):(g("free"),v({questionsAsked:0,limit:5,remaining:5}))},[S==null?void 0:S.id,S==null?void 0:S.email]);const C=O.useRef(null);O.useEffect(()=>{var X;(X=C.current)==null||X.scrollIntoView({behavior:"smooth"})},[a]);async function D(){var qe,ft,ve,q,J;const X=i.trim();if(!X)return;if(S!=null&&S.id){const V=await yb(S.id,m);if(!V.success){const j={role:"assistant",content:`⚠️ Unable to check usage limit: ${V.error}`};r(B=>[...B,j]);return}if(!V.canAsk){const j={role:"assistant",content:`⚠️ Daily limit reached! You've used all ${V.limit} questions for today. ${m==="free"?"Upgrade to Gold (10 questions) or Diamond (15 questions) for more daily questions!":m==="gold"?"Upgrade to Diamond (15 questions) for more daily questions!":"Your limit will reset tomorrow."}`};r(B=>[...B,j]);return}const oe=await jj(S.id,m);if(!oe.success){const j={role:"assistant",content:`⚠️ Unable to record usage: ${oe.error}`};r(B=>[...B,j]);return}console.log("🔢 Usage Update:",{before:y,recordResult:oe.usage,newQuestionsAsked:((qe=oe.usage)==null?void 0:qe.questions_asked)||0,newRemaining:Math.max(0,Sn(m)-(((ft=oe.usage)==null?void 0:ft.questions_asked)||0))}),v({questionsAsked:((ve=oe.usage)==null?void 0:ve.questions_asked)||0,limit:Sn(m),remaining:Math.max(0,Sn(m)-(((q=oe.usage)==null?void 0:q.questions_asked)||0))})}console.log("💬 Sending message:",{messageText:X,timestamp:new Date().toISOString(),userPlan:m,currentUsage:y,userId:S==null?void 0:S.id});const te=vj();if(console.log("⚙️ Config check result:",te),!te.valid){console.warn("⚠️ OpenAI configuration invalid:",te.error);const V={role:"assistant",content:`⚠️ ${te.error||"OpenAI configuration error"}`};r(oe=>[...oe,V]);return}const Q={role:"user",content:X};r(V=>[...V,Q]),n(""),u(!0);const pe=Date.now();try{console.log("🚀 Calling OpenAI API...");const V=await _j([...a,Q]);console.log("✅ Received OpenAI response:",{responseLength:(V==null?void 0:V.length)||0,timestamp:new Date().toISOString()});const oe=Date.now()-pe,j=2e3;oe<j&&await new Promise(ee=>setTimeout(ee,j-oe));const B={role:"assistant",content:V};r(ee=>[...ee,B])}catch(V){console.error("❌ Chat Error:",{error:V,timestamp:new Date().toISOString(),errorType:(J=V==null?void 0:V.constructor)==null?void 0:J.name,errorMessage:V instanceof Error?V.message:"Unknown error",location:window.location.href});const oe=Date.now()-pe,j=2e3;oe<j&&await new Promise(Z=>setTimeout(Z,j-oe));const ee={role:"assistant",content:`⚠️ ${V instanceof Error?V.message:"Something went wrong with the AI service. Please try again."}`};r(Z=>[...Z,ee])}finally{u(!1)}}function F(X){X.key==="Enter"&&!X.shiftKey&&(X.preventDefault(),D())}function K(){h(!1),w("/login")}function G(){h(!1),R()}function me(){h(!1),w("/premium")}return p.jsxs("div",{className:`mobile-full-height w-full ${N.bgPrimary} ${N.textPrimary} flex flex-col`,children:[p.jsxs("header",{className:`flex-shrink-0 flex items-center justify-between px-4 sm:px-6 py-3 border-b ${N.borderPrimary} ${N.bgPrimary} z-10 relative`,children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-base sm:text-lg font-semibold",children:"StudyPal"}),p.jsx("img",{src:uA,alt:"StudyPal Icon",className:"h-6 w-6 sm:h-7 sm:w-7 object-contain"}),p.jsx("button",{onClick:()=>r([]),className:`ml-2 flex items-center justify-center w-6 h-6 sm:w-7 sm:h-7 rounded-full ${N.bgSecondary} ${N.bgHover} transition cursor-pointer`,title:"New Chat",type:"button",children:p.jsx("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"sm:w-4 sm:h-4",children:p.jsx("path",{d:"M8 3.333v9.334M3.333 8h9.334",stroke:E?"#fff":"#333",strokeWidth:"2",strokeLinecap:"round"})})})]}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 relative",children:[S&&p.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${y.remaining===0?"bg-red-100 text-red-800 border-red-200":N.bgSecondary+" "+N.textSecondary+" border "+N.borderPrimary}`,children:y.remaining===0?`${y.questionsAsked}/${y.limit} used`:`${y.remaining}/${y.limit} left`}),p.jsx("button",{className:"border border-[#4285F4] text-[#4285F4] bg-transparent px-3 py-1 rounded-full text-sm transition-all duration-200 cursor-pointer hover:bg-[#4285F4] hover:text-white",onClick:me,children:"Upgrade"}),p.jsxs("div",{className:"relative",ref:x,children:[p.jsx("div",{className:`h-7 w-7 sm:h-8 sm:w-8 rounded-full cursor-pointer border-2 border-transparent hover:border-[#4285F4] transition ${N.bgSecondary} flex items-center justify-center`,onClick:()=>h(X=>!X),children:S?p.jsx("span",{className:`${N.textPrimary} text-xs font-medium`,children:U()}):p.jsx(sr,{size:16,className:N.textSecondary})}),d&&p.jsxs("div",{className:`absolute right-0 mt-2 w-36 sm:w-40 ${N.bgSecondary} border ${N.borderPrimary} rounded-lg shadow-lg z-50`,children:[!S&&p.jsxs(p.Fragment,{children:[p.jsx("button",{className:`block w-full text-left px-4 py-2.5 text-sm ${N.bgHoverSecondary} ${N.textPrimary} transition-all duration-200 cursor-pointer rounded-t-lg`,onClick:K,children:"Login"}),p.jsx("button",{className:`block w-full text-left px-4 py-2.5 text-sm ${N.bgHoverSecondary} ${N.textPrimary} transition-all duration-200 cursor-pointer`,onClick:()=>{h(!1),w("/signup")},children:"Sign Up"})]}),S&&p.jsx("button",{className:`block w-full text-left px-4 py-2.5 text-sm ${N.bgHoverSecondary} ${N.textPrimary} transition-all duration-200 cursor-pointer rounded-t-lg`,onClick:()=>{h(!1),w("/profile")},children:"Profile"}),p.jsx("button",{className:`block w-full text-left px-4 py-2.5 text-sm ${N.bgHoverSecondary} ${N.textPrimary} transition-all duration-200 cursor-pointer ${S?"":"rounded-t-lg"}`,onClick:me,children:"Upgrade"}),p.jsx("button",{className:`block w-full text-left px-4 py-2.5 text-sm ${N.bgHoverSecondary} ${N.textPrimary} transition-all duration-200 cursor-pointer ${S?"":"rounded-b-lg"}`,onClick:()=>{h(!1),w("/")},children:"Chat"}),S&&p.jsx("button",{className:`block w-full text-left px-4 py-2.5 text-sm text-red-400 ${N.bgHoverSecondary} hover:text-red-300 transition-all duration-200 cursor-pointer rounded-b-lg`,onClick:G,children:"Logout"})]})]})]})]}),p.jsx("div",{className:"flex-1 flex flex-col overflow-hidden min-h-0",children:a.length===0?p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center px-4 sm:px-6 min-h-0",children:[p.jsx("h2",{className:"text-xl sm:text-3xl font-medium px-2 max-w-md mb-6 sm:mb-8",children:"How can I help you?"}),p.jsx("div",{className:"w-full max-w-2xl px-2",children:p.jsx("form",{onSubmit:X=>{X.preventDefault(),D()},className:"w-full",children:p.jsxs("div",{className:`flex items-center ${N.bgSecondary} rounded-full px-4 py-2.5 sm:px-5 sm:py-2.5 shadow-lg`,children:[p.jsx("input",{value:i,onChange:X=>n(X.target.value),onKeyDown:F,type:"text",placeholder:"Type a question",className:`flex-1 bg-transparent border-none focus:outline-none ${N.textPrimary} ${N.inputPlaceholder} text-base min-w-0`}),p.jsx("button",{type:"submit",className:"bg-[#4285F4] p-2 rounded-full disabled:opacity-40 ml-2 sm:ml-3 flex-shrink-0 hover:bg-[#3367d6] transition-colors cursor-pointer disabled:cursor-not-allowed",disabled:!i.trim()||o||!!S&&y.remaining<=0,title:S&&y.remaining<=0?`Daily limit reached (${y.limit} questions)`:void 0,children:p.jsx(df,{size:18,className:"text-white sm:w-5 sm:h-5"})})]})})})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-3 space-y-3 sm:space-y-4 min-h-0",children:[a.map((X,te)=>p.jsx("div",{className:`max-w-[85%] sm:max-w-lg whitespace-pre-wrap leading-relaxed text-base ${X.role==="user"?`ml-auto ${N.bgTertiary} rounded-2xl px-4 py-2.5`:"mr-auto bg-[#3b87f6] rounded-2xl px-4 py-2.5"}`,children:X.content},te)),o&&p.jsx("div",{className:"mr-auto max-w-[85%] sm:max-w-lg px-4 py-2.5",children:p.jsxs("div",{className:`flex items-center gap-2 ${N.textSecondary} italic text-sm`,children:[p.jsx("span",{children:"Thinking"}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("div",{className:`w-1 h-1 ${E?"bg-gray-400":"bg-gray-600"} rounded-full animate-bounce`,style:{animationDelay:"0ms"}}),p.jsx("div",{className:`w-1 h-1 ${E?"bg-gray-400":"bg-gray-600"} rounded-full animate-bounce`,style:{animationDelay:"150ms"}}),p.jsx("div",{className:`w-1 h-1 ${E?"bg-gray-400":"bg-gray-600"} rounded-full animate-bounce`,style:{animationDelay:"300ms"}})]})]})}),p.jsx("div",{ref:C})]}),p.jsx("div",{className:`flex-shrink-0 ${N.bgPrimary} border-t ${N.borderPrimary} px-4 sm:px-6 py-3 sm:py-4`,children:p.jsx("form",{onSubmit:X=>{X.preventDefault(),D()},className:"w-full max-w-4xl mx-auto",children:p.jsxs("div",{className:`flex items-center ${N.bgSecondary} rounded-full px-4 py-2.5 sm:px-5 sm:py-2.5 shadow-lg`,children:[p.jsx("input",{value:i,onChange:X=>n(X.target.value),onKeyDown:F,type:"text",placeholder:"Type a question",className:`flex-1 bg-transparent border-none focus:outline-none ${N.textPrimary} ${N.inputPlaceholder} text-base min-w-0`}),p.jsx("button",{type:"submit",className:"bg-[#4285F4] p-2 rounded-full disabled:opacity-40 ml-2 sm:ml-3 flex-shrink-0 hover:bg-[#3367d6] transition-colors cursor-pointer disabled:cursor-not-allowed",disabled:!i.trim()||o||!!S&&y.remaining<=0,title:S&&y.remaining<=0?`Daily limit reached (${y.limit} questions)`:void 0,children:p.jsx(df,{size:18,className:"text-white sm:w-5 sm:h-5"})})]})})})]})}),p.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 hidden",id:"premiumFeatures",children:[p.jsx("div",{className:"flex justify-end p-4",children:p.jsx("button",{onClick:()=>{var X;return(X=document.getElementById("premiumFeatures"))==null?void 0:X.classList.add("hidden")},className:"text-white hover:text-gray-300 transition cursor-pointer p-2 hover:bg-gray-800 rounded-full",children:p.jsx(Kn,{size:24})})}),p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsxs("div",{className:"max-w-3xl w-full px-4 sm:px-6 py-8 rounded-lg bg-[#1e1e1e] border border-[#333333]",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Upgrade to Premium"}),p.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Unlock the full potential of StudyPal with our premium features."})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[p.jsxs("div",{className:"bg-[#2a1052]/80 p-4 rounded-lg sm:rounded-xl md:rounded-2xl border border-purple-500/30 backdrop-blur-sm flex flex-col",children:[p.jsxs("div",{className:"flex items-center mb-3",children:[p.jsx("div",{className:"bg-[#8C52FF] w-10 h-10 flex items-center justify-center rounded-lg md:rounded-xl mr-3",children:p.jsx(Yn,{size:20,className:"text-white"})}),p.jsx("h3",{className:"text-lg font-bold text-white",children:"Free Plan"})]}),p.jsxs("ul",{className:"space-y-2 text-gray-300 flex-1",children:[p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"10 Requests/Daily"]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"30 Requests/Monthly"]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"Free Forever"]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"No Credit Card Required"]})]})]}),p.jsxs("div",{className:"bg-[#2a1052]/80 p-4 rounded-lg sm:rounded-xl md:rounded-2xl border border-purple-500/30 backdrop-blur-sm flex flex-col",children:[p.jsxs("div",{className:"flex items-center mb-3",children:[p.jsx("div",{className:"bg-[#8C52FF] w-10 h-10 flex items-center justify-center rounded-lg md:rounded-xl mr-3",children:p.jsx(KE,{size:20,className:"text-white"})}),p.jsx("h3",{className:"text-lg font-bold text-white",children:"Gold Plan"})]}),p.jsxs("ul",{className:"space-y-2 text-gray-300 flex-1",children:[p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"50 Requests/Daily"]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"1.5K Requests/Monthly"]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"Email Support"]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"Chat Support"]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"24/7 Available"]})]})]}),p.jsxs("div",{className:"bg-[#2a1052]/80 p-4 rounded-lg sm:rounded-xl md:rounded-2xl border border-purple-500/30 backdrop-blur-sm flex flex-col",children:[p.jsxs("div",{className:"flex items-center mb-3",children:[p.jsx("div",{className:"bg-[#8C52FF] w-10 h-10 flex items-center justify-center rounded-lg md:rounded-xl mr-3",children:p.jsx(Wa,{size:20,className:"text-white"})}),p.jsx("h3",{className:"text-lg font-bold text-white",children:"Diamond Plan"})]}),p.jsxs("ul",{className:"space-y-2 text-gray-300 flex-1",children:[p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"150 Requests/Daily"]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"4.5K Requests/Monthly"]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"Email Support"]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-[#8C52FF] mr-2"}),"Export History"]})]})]})]}),p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsx("button",{className:"w-full p-3 sm:p-4 rounded-xl bg-[#8C52FF] text-white font-bold shadow-lg shadow-purple-500/30 hover:bg-[#7a4ae6] transition-colors text-sm sm:text-base cursor-pointer",children:"Get Now"}),p.jsx("p",{className:"text-center text-xs sm:text-sm text-gray-400 mt-2",children:"7-day free trial, then $9.99/month"}),p.jsx("button",{onClick:()=>w("/chat"),className:"w-full mt-3 p-3 sm:p-4 rounded-xl bg-transparent border-2 border-[#8C52FF] text-[#8C52FF] font-bold hover:bg-[#8C52FF] hover:text-white transition-colors text-sm sm:text-base cursor-pointer",children:"Try Chat Now"})]})]})})]})]})}function Nj(){var S,R,E;const i=jn(),{user:n,signOut:a}=rr(),{isDarkMode:r,toggleTheme:o}=dn(),[u,d]=O.useState(!1),[h,m]=O.useState("free"),g=O.useRef(null),y=fn(r);O.useEffect(()=>{n!=null&&n.id&&lh(n.id,n.email).then(N=>{N.success&&N.user?m(N.user.plan_type):console.error("Failed to get user plan:",N.error)})},[n==null?void 0:n.id,n==null?void 0:n.email]);const v=()=>{if(!n)return"U";const N=n.user_metadata;return N!=null&&N.firstName&&(N!=null&&N.lastName)?`${N.firstName.charAt(0)}${N.lastName.charAt(0)}`.toUpperCase():n.email?n.email.charAt(0).toUpperCase():"U"};O.useEffect(()=>{if(!u)return;function N(U){g.current&&!g.current.contains(U.target)&&d(!1)}return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[u]);const x=()=>{d(!1),a()},w=()=>{o()};return p.jsxs("div",{className:`flex flex-col min-h-screen ${y.bgPrimary} ${y.textPrimary}`,children:[p.jsxs("div",{className:`flex items-center justify-between px-4 sm:px-6 py-3 border-b ${y.borderPrimary} relative z-50`,children:[p.jsx("button",{onClick:()=>i(-1),className:`p-2 ${r?"hover:bg-gray-800":"hover:bg-gray-200"} rounded-full`,children:p.jsx(Kn,{size:24})}),p.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 font-bold text-lg",children:"PROFILE"}),p.jsxs("div",{ref:g,className:"relative",children:[p.jsx("div",{className:`h-8 w-8 rounded-full cursor-pointer border-2 border-transparent hover:border-[#4285F4] transition ${y.bgTertiary} flex items-center justify-center`,onClick:()=>d(N=>!N),children:n?p.jsx("span",{className:`${y.textPrimary} text-xs font-medium`,children:v()}):p.jsx(sr,{size:16,className:y.textSecondary})}),u&&p.jsxs("div",{className:`absolute right-0 mt-2 w-40 ${y.bgSecondary} border ${y.borderPrimary} rounded-lg shadow-lg`,children:[n&&p.jsx("button",{onClick:()=>d(!1),className:`block w-full px-4 py-2 text-left ${y.bgHoverSecondary} rounded-t-lg ${y.bgTertiary}`,children:"Profile"}),!n&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>{d(!1),i("/login")},className:`block w-full px-4 py-2 text-left ${y.bgHoverSecondary} rounded-t-lg`,children:"Login"}),p.jsx("button",{onClick:()=>{d(!1),i("/signup")},className:`block w-full px-4 py-2 text-left ${y.bgHoverSecondary}`,children:"Sign Up"})]}),p.jsx("button",{onClick:()=>{d(!1),i("/premium")},className:`block w-full px-4 py-2 text-left ${y.bgHoverSecondary} `,children:"Upgrade"}),p.jsx("button",{onClick:()=>{d(!1),i("/")},className:`block w-full px-4 py-2 text-left ${y.bgHoverSecondary} ${n?"":"rounded-b-lg"}`,children:"Chat"}),n&&p.jsx("button",{onClick:x,className:`block w-full px-4 py-2 text-left text-red-400 ${y.bgHoverSecondary} hover:text-red-300 rounded-b-lg`,children:"Logout"})]})]})]}),p.jsxs("div",{className:`flex flex-col items-center p-6 border-b ${y.borderPrimary}`,children:[p.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-[#8C52FF] to-[#5CE1E6] flex items-center justify-center mb-4",children:p.jsx("span",{className:"text-4xl font-bold text-white",children:v()})}),p.jsx("h2",{className:"text-xl font-bold",children:(S=n==null?void 0:n.user_metadata)!=null&&S.firstName&&((R=n==null?void 0:n.user_metadata)!=null&&R.lastName)?`${n.user_metadata.firstName} ${n.user_metadata.lastName}`:((E=n==null?void 0:n.email)==null?void 0:E.split("@")[0])||"User"}),p.jsx("p",{className:y.textSecondary,children:(n==null?void 0:n.email)||"No email available"}),p.jsxs("div",{className:`mt-4 flex items-center ${y.bgSecondary} px-4 py-2 rounded-full`,children:[p.jsx(Wa,{size:16,className:`mr-2 ${h==="diamond"?"text-purple-500":h==="gold"?"text-yellow-500":"text-gray-400"}`}),p.jsx("span",{className:"text-sm font-medium",children:Sj(h)})]})]}),p.jsxs("div",{className:"p-4 space-y-4",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Activity"}),p.jsxs("button",{onClick:()=>i("/mission"),className:`w-full ${y.bgSecondary} p-4 rounded-lg flex items-center ${y.bgHover} transition cursor-pointer`,children:[p.jsx("div",{className:`w-10 h-10 rounded-full ${y.bgTertiary} flex items-center justify-center mr-4`,children:p.jsx(_E,{size:20,className:"text-[#8C52FF]"})}),p.jsxs("div",{className:"text-left",children:[p.jsx("h4",{className:"font-medium",children:"Mission Statement"}),p.jsx("p",{className:`text-sm ${y.textSecondary}`,children:"Learn about our purpose and goals"})]})]}),p.jsxs("button",{onClick:()=>i("/contact"),className:`w-full ${y.bgSecondary} p-4 rounded-lg flex items-center ${y.bgHover} transition cursor-pointer`,children:[p.jsx("div",{className:`w-10 h-10 rounded-full ${y.bgTertiary} flex items-center justify-center mr-4`,children:p.jsx(y0,{size:20,className:"text-[#8C52FF]"})}),p.jsxs("div",{className:"text-left",children:[p.jsx("h4",{className:"font-medium",children:"Contact Us"}),p.jsx("p",{className:`text-sm ${y.textSecondary}`,children:"Get in touch with our support team"})]})]}),p.jsxs("button",{onClick:w,className:`w-full ${y.bgSecondary} p-4 rounded-lg flex items-center ${y.bgHover} transition cursor-pointer`,children:[p.jsx("div",{className:"mr-4 ml-1",children:p.jsx("div",{className:`relative w-8 h-4 rounded-full transition-colors duration-200 ${r?"bg-[#8C52FF]":"bg-gray-400"}`,children:p.jsx("div",{className:`absolute top-0.5 left-0.5 w-3 h-3 bg-white rounded-full shadow-md transform transition-transform duration-200 flex items-center justify-center ${r?"translate-x-4":"translate-x-0"}`,children:r?p.jsx(GE,{size:8,className:"text-[#8C52FF]"}):p.jsx(ZE,{size:8,className:"text-yellow-500"})})})}),p.jsxs("div",{className:"text-left",children:[p.jsx("h4",{className:"font-medium",children:"Dark & Light Mode"}),p.jsx("p",{className:`text-sm ${y.textSecondary}`,children:"Toggle between light and dark themes"})]})]})]})]})}var Jd={exports:{}},Zd,vb;function Tj(){if(vb)return Zd;vb=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zd=i,Zd}var Wd,_b;function Oj(){if(_b)return Wd;_b=1;var i=Tj();function n(){}function a(){}return a.resetWarningCache=n,Wd=function(){function r(d,h,m,g,y,v){if(v!==i){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function o(){return r}var u={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:a,resetWarningCache:n};return u.PropTypes=u,u},Wd}var xb;function Rj(){return xb||(xb=1,Jd.exports=Oj()()),Jd.exports}var kj=Rj();const Fe=Zo(kj);function wb(i,n){var a=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),a.push.apply(a,r)}return a}function Sb(i){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?wb(Object(a),!0).forEach(function(r){Fv(i,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):wb(Object(a)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(a,r))})}return i}function Po(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Po=function(n){return typeof n}:Po=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Po(i)}function Fv(i,n,a){return n in i?Object.defineProperty(i,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[n]=a,i}function $j(i,n){if(i==null)return{};var a={},r=Object.keys(i),o,u;for(u=0;u<r.length;u++)o=r[u],!(n.indexOf(o)>=0)&&(a[o]=i[o]);return a}function Uj(i,n){if(i==null)return{};var a=$j(i,n),r,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)r=u[o],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(a[r]=i[r])}return a}function Gv(i,n){return Mj(i)||Dj(i,n)||Lj(i,n)||zj()}function Mj(i){if(Array.isArray(i))return i}function Dj(i,n){var a=i&&(typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"]);if(a!=null){var r=[],o=!0,u=!1,d,h;try{for(a=a.call(i);!(o=(d=a.next()).done)&&(r.push(d.value),!(n&&r.length===n));o=!0);}catch(m){u=!0,h=m}finally{try{!o&&a.return!=null&&a.return()}finally{if(u)throw h}}return r}}function Lj(i,n){if(i){if(typeof i=="string")return Eb(i,n);var a=Object.prototype.toString.call(i).slice(8,-1);if(a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set")return Array.from(i);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Eb(i,n)}}function Eb(i,n){(n==null||n>i.length)&&(n=i.length);for(var a=0,r=new Array(n);a<n;a++)r[a]=i[a];return r}function zj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ht=function(n,a,r){var o=!!r,u=Me.useRef(r);Me.useEffect(function(){u.current=r},[r]),Me.useEffect(function(){if(!o||!n)return function(){};var d=function(){u.current&&u.current.apply(u,arguments)};return n.on(a,d),function(){n.off(a,d)}},[o,a,n,u])},Af=function(n){var a=Me.useRef(n);return Me.useEffect(function(){a.current=n},[n]),a.current},cs=function(n){return n!==null&&Po(n)==="object"},Pj=function(n){return cs(n)&&typeof n.then=="function"},qj=function(n){return cs(n)&&typeof n.elements=="function"&&typeof n.createToken=="function"&&typeof n.createPaymentMethod=="function"&&typeof n.confirmCardPayment=="function"},Ab="[object Object]",Bj=function i(n,a){if(!cs(n)||!cs(a))return n===a;var r=Array.isArray(n),o=Array.isArray(a);if(r!==o)return!1;var u=Object.prototype.toString.call(n)===Ab,d=Object.prototype.toString.call(a)===Ab;if(u!==d)return!1;if(!u&&!r)return n===a;var h=Object.keys(n),m=Object.keys(a);if(h.length!==m.length)return!1;for(var g={},y=0;y<h.length;y+=1)g[h[y]]=!0;for(var v=0;v<m.length;v+=1)g[m[v]]=!0;var x=Object.keys(g);if(x.length!==h.length)return!1;var w=n,S=a,R=function(N){return i(w[N],S[N])};return x.every(R)},Yv=function(n,a,r){return cs(n)?Object.keys(n).reduce(function(o,u){var d=!cs(a)||!Bj(n[u],a[u]);return r.includes(u)?(d&&console.warn("Unsupported prop change: options.".concat(u," is not a mutable property.")),o):d?Sb(Sb({},o||{}),{},Fv({},u,n[u])):o},null):null},Vv="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",jb=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vv;if(n===null||qj(n))return n;throw new Error(a)},Hj=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vv;if(Pj(n))return{tag:"async",stripePromise:Promise.resolve(n).then(function(o){return jb(o,a)})};var r=jb(n,a);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Ij=function(n){!n||!n._registerWrapper||!n.registerAppInfo||(n._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),n.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},fu=Me.createContext(null);fu.displayName="ElementsContext";var Xv=function(n,a){if(!n)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(a," in an <Elements> provider."));return n},Qv=function(n){var a=n.stripe,r=n.options,o=n.children,u=Me.useMemo(function(){return Hj(a)},[a]),d=Me.useState(function(){return{stripe:u.tag==="sync"?u.stripe:null,elements:u.tag==="sync"?u.stripe.elements(r):null}}),h=Gv(d,2),m=h[0],g=h[1];Me.useEffect(function(){var x=!0,w=function(R){g(function(E){return E.stripe?E:{stripe:R,elements:R.elements(r)}})};return u.tag==="async"&&!m.stripe?u.stripePromise.then(function(S){S&&x&&w(S)}):u.tag==="sync"&&!m.stripe&&w(u.stripe),function(){x=!1}},[u,m,r]);var y=Af(a);Me.useEffect(function(){y!==null&&y!==a&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[y,a]);var v=Af(r);return Me.useEffect(function(){if(m.elements){var x=Yv(r,v,["clientSecret","fonts"]);x&&m.elements.update(x)}},[r,v,m.elements]),Me.useEffect(function(){Ij(m.stripe)},[m.stripe]),Me.createElement(fu.Provider,{value:m},o)};Qv.propTypes={stripe:Fe.any,options:Fe.object};var Fj=function(n){var a=Me.useContext(fu);return Xv(a,n)},Gj=function(){var n=Fj("calls useElements()"),a=n.elements;return a};Fe.func.isRequired;var Kv=Me.createContext(null);Kv.displayName="CheckoutSdkContext";var Yj=function(n,a){if(!n)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(a," in an <CheckoutProvider> provider."));return n},Vj=Me.createContext(null);Vj.displayName="CheckoutContext";Fe.any,Fe.shape({fetchClientSecret:Fe.func.isRequired,elementsOptions:Fe.object}).isRequired;var jf=function(n){var a=Me.useContext(Kv),r=Me.useContext(fu);if(a&&r)throw new Error("You cannot wrap the part of your app that ".concat(n," in both <CheckoutProvider> and <Elements> providers."));return a?Yj(a,n):Xv(r,n)},Xj=["mode"],Qj=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},We=function(n,a){var r="".concat(Qj(n),"Element"),o=function(m){var g=m.id,y=m.className,v=m.options,x=v===void 0?{}:v,w=m.onBlur,S=m.onFocus,R=m.onReady,E=m.onChange,N=m.onEscape,U=m.onClick,C=m.onLoadError,D=m.onLoaderStart,F=m.onNetworksChange,K=m.onConfirm,G=m.onCancel,me=m.onShippingAddressChange,X=m.onShippingRateChange,te=jf("mounts <".concat(r,">")),Q="elements"in te?te.elements:null,pe="checkoutSdk"in te?te.checkoutSdk:null,qe=Me.useState(null),ft=Gv(qe,2),ve=ft[0],q=ft[1],J=Me.useRef(null),V=Me.useRef(null);Ht(ve,"blur",w),Ht(ve,"focus",S),Ht(ve,"escape",N),Ht(ve,"click",U),Ht(ve,"loaderror",C),Ht(ve,"loaderstart",D),Ht(ve,"networkschange",F),Ht(ve,"confirm",K),Ht(ve,"cancel",G),Ht(ve,"shippingaddresschange",me),Ht(ve,"shippingratechange",X),Ht(ve,"change",E);var oe;R&&(n==="expressCheckout"?oe=R:oe=function(){R(ve)}),Ht(ve,"ready",oe),Me.useLayoutEffect(function(){if(J.current===null&&V.current!==null&&(Q||pe)){var B=null;if(pe)switch(n){case"payment":B=pe.createPaymentElement(x);break;case"address":if("mode"in x){var ee=x.mode,Z=Uj(x,Xj);if(ee==="shipping")B=pe.createShippingAddressElement(Z);else if(ee==="billing")B=pe.createBillingAddressElement(Z);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":B=pe.createExpressCheckoutElement(x);break;case"currencySelector":B=pe.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else Q&&(B=Q.create(n,x));J.current=B,q(B),B&&B.mount(V.current)}},[Q,pe,x]);var j=Af(x);return Me.useEffect(function(){if(J.current){var B=Yv(x,j,["paymentRequest"]);B&&"update"in J.current&&J.current.update(B)}},[x,j]),Me.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),Me.createElement("div",{id:g,className:y,ref:V})},u=function(m){jf("mounts <".concat(r,">"));var g=m.id,y=m.className;return Me.createElement("div",{id:g,className:y})},d=a?u:o;return d.propTypes={id:Fe.string,className:Fe.string,onChange:Fe.func,onBlur:Fe.func,onFocus:Fe.func,onReady:Fe.func,onEscape:Fe.func,onClick:Fe.func,onLoadError:Fe.func,onLoaderStart:Fe.func,onNetworksChange:Fe.func,onConfirm:Fe.func,onCancel:Fe.func,onShippingAddressChange:Fe.func,onShippingRateChange:Fe.func,options:Fe.object},d.displayName=r,d.__elementType=n,d},et=typeof window>"u",Kj=Me.createContext(null);Kj.displayName="EmbeddedCheckoutProviderContext";var Jj=function(){var n=jf("calls useStripe()"),a=n.stripe;return a};We("auBankAccount",et);var Cb=We("card",et);We("cardNumber",et);We("cardExpiry",et);We("cardCvc",et);We("fpxBank",et);We("iban",et);We("idealBank",et);We("p24Bank",et);We("epsBank",et);We("payment",et);We("expressCheckout",et);We("currencySelector",et);We("paymentRequestButton",et);We("linkAuthentication",et);We("address",et);We("shippingAddress",et);We("paymentMethodMessaging",et);We("affirmMessage",et);We("afterpayClearpayMessage",et);var Jv="basil",Zj=function(n){return n===3?"v3":n},Zv="https://js.stripe.com",Wj="".concat(Zv,"/").concat(Jv,"/stripe.js"),eC=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,tC=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var nC=function(n){return eC.test(n)||tC.test(n)},aC=function(){for(var n=document.querySelectorAll('script[src^="'.concat(Zv,'"]')),a=0;a<n.length;a++){var r=n[a];if(nC(r.src))return r}return null},Nb=function(n){var a="",r=document.createElement("script");r.src="".concat(Wj).concat(a);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r},rC=function(n,a){!n||!n._registerWrapper||n._registerWrapper({name:"stripe-js",version:"7.4.0",startTime:a})},yi=null,Ao=null,jo=null,sC=function(n){return function(a){n(new Error("Failed to load Stripe.js",{cause:a}))}},iC=function(n,a){return function(){window.Stripe?n(window.Stripe):a(new Error("Stripe.js not available"))}},lC=function(n){return yi!==null?yi:(yi=new Promise(function(a,r){if(typeof window>"u"||typeof document>"u"){a(null);return}if(window.Stripe){a(window.Stripe);return}try{var o=aC();if(!(o&&n)){if(!o)o=Nb(n);else if(o&&jo!==null&&Ao!==null){var u;o.removeEventListener("load",jo),o.removeEventListener("error",Ao),(u=o.parentNode)===null||u===void 0||u.removeChild(o),o=Nb(n)}}jo=iC(a,r),Ao=sC(r),o.addEventListener("load",jo),o.addEventListener("error",Ao)}catch(d){r(d);return}}),yi.catch(function(a){return yi=null,Promise.reject(a)}))},oC=function(n,a,r){if(n===null)return null;var o=a[0],u=o.match(/^pk_test/),d=Zj(n.version),h=Jv;u&&d!==h&&console.warn("Stripe.js@".concat(d," was loaded on the page, but @stripe/stripe-js@").concat("7.4.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var m=n.apply(void 0,a);return rC(m,r),m},bi,Wv=!1,e_=function(){return bi||(bi=lC(null).catch(function(n){return bi=null,Promise.reject(n)}),bi)};Promise.resolve().then(function(){return e_()}).catch(function(i){Wv||console.warn(i)});var uC=function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];Wv=!0;var o=Date.now();return e_().then(function(u){return oC(u,a,o)})};const t_=uC("pk_live_YOUR_LIVE_PUBLISHABLE_KEY_HERE"),Cf={currency:"usd",plans:{gold:{name:"Gold Plan",price:999,priceId:"price_YOUR_LIVE_GOLD_PRICE_ID_HERE",features:["50 Requests/Daily","1.5K Requests/Monthly","Email Support","Chat Support","24/7 Available"]},diamond:{name:"Diamond Plan",price:1999,priceId:"price_YOUR_LIVE_DIAMOND_PRICE_ID_HERE",features:["150 Requests/Daily","4.5K Requests/Monthly","Email Support","Export History","Priority Support"]}}};function cC(i){return!i.planType||!["gold","diamond"].includes(i.planType)?"Invalid plan type":i.userEmail&&!/\S+@\S+\.\S+/.test(i.userEmail)?"Invalid email format":null}async function dC(i){try{const n=cC(i);if(n)return{success:!1,error:n};const a=Cf.plans[i.planType],r=await fetch("/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:a.price,currency:Cf.currency,planType:i.planType,userEmail:i.userEmail,userId:i.userId})});if(!r.ok){const u=await r.json().catch(()=>({}));throw new Error(u.error||`HTTP ${r.status}: ${r.statusText}`)}return{success:!0,paymentIntent:await r.json()}}catch(n){return console.error("Error creating payment intent:",n),{success:!1,error:n instanceof Error&&n.message.includes("network")?"Network error. Please check your connection and try again.":"Unable to process payment request. Please try again later."}}}async function fC(i,n){try{const a=await t_;if(!a)throw new Error("Payment system not available");if(!i||!n)throw new Error("Invalid payment information");const{error:r,paymentIntent:o}=await a.confirmCardPayment(i,{payment_method:n});if(r){let u="Payment failed. Please try again.";switch(r.type){case"card_error":u=r.message||"Your card was declined.";break;case"validation_error":u="Please check your payment information.";break;case"api_connection_error":u="Network error. Please try again.";break;case"rate_limit_error":u="Too many requests. Please wait a moment and try again.";break;default:u="Payment failed. Please try again later."}return{success:!1,error:u}}return{success:!0,paymentIntent:o}}catch(a){return console.error("Error confirming payment:",a),{success:!1,error:"Payment confirmation failed. Please try again."}}}function Nf(i){return Cf.plans[i]}function os(i){return`$${(i/100).toFixed(2)}`}const hC={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}},hidePostalCode:!1,disableLink:!0};function mC({planType:i,onSuccess:n,onCancel:a}){const r=Jj(),o=Gj(),{user:u}=rr(),{isDarkMode:d}=dn(),h=fn(d),[m,g]=O.useState(!1),[y,v]=O.useState(null),[x,w]=O.useState(!1),S=Nf(i),R=async E=>{if(E.preventDefault(),!r||!o)return;g(!0),v(null);const N=o.getElement(Cb);if(!N){v("Card element not found"),g(!1);return}try{const U=await dC({planType:i,userEmail:u==null?void 0:u.email,userId:u==null?void 0:u.id});if(!U.success||!U.paymentIntent)throw new Error(U.error||"Failed to create payment intent");const{error:C,paymentMethod:D}=await r.createPaymentMethod({type:"card",card:N,billing_details:{email:u==null?void 0:u.email}});if(C)throw new Error(C.message);const F=await fC(U.paymentIntent.client_secret,D.id);if(!F.success)throw new Error(F.error||"Payment failed");w(!0),n()}catch(U){v(U instanceof Error?U.message:"An unexpected error occurred")}finally{g(!1)}};return x?p.jsxs("div",{className:`${h.bgSecondary} p-8 rounded-lg border ${h.borderPrimary} text-center`,children:[p.jsx(Io,{size:48,className:"text-green-500 mx-auto mb-4"}),p.jsx("h3",{className:`text-xl font-bold ${h.textPrimary} mb-2`,children:"Payment Successful!"}),p.jsxs("p",{className:h.textSecondary,children:["Welcome to ",S.name,"! Your subscription is now active."]})]}):p.jsxs("div",{className:`${h.bgSecondary} p-8 rounded-lg border ${h.borderPrimary}`,children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("h3",{className:`text-xl font-bold ${h.textPrimary} mb-2`,children:["Subscribe to ",S.name]}),p.jsxs("p",{className:`text-2xl font-bold ${h.textPrimary}`,children:[os(S.price),"/month"]}),p.jsxs("p",{className:`text-sm ${h.textSecondary} mt-2`,children:["7-day free trial, then ",os(S.price)," per month"]})]}),p.jsxs("form",{onSubmit:R,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsxs("label",{className:`block text-sm font-medium ${h.textPrimary} mb-2`,children:[p.jsx(AE,{size:16,className:"inline mr-2"}),"Card Information"]}),p.jsx("div",{className:`p-4 border ${h.borderPrimary} rounded-lg ${h.bgPrimary}`,children:p.jsx(Cb,{options:{...hC,hidePostalCode:!1,disableLink:!0}})})]}),y&&p.jsxs("div",{className:"flex items-center p-4 bg-red-50 border border-red-200 rounded-lg",children:[p.jsx(SE,{size:20,className:"text-red-500 mr-2"}),p.jsx("span",{className:"text-red-700 text-sm",children:y})]}),p.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[p.jsx(qE,{size:16,className:"mr-2"}),"Your payment information is secure and encrypted"]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("button",{type:"button",onClick:a,className:`flex-1 px-6 py-3 border ${h.borderPrimary} rounded-lg ${h.textPrimary} ${h.bgHover} transition-all duration-200 hover:shadow-md hover:scale-105 hover:border-gray-400 cursor-pointer`,children:"Cancel"}),p.jsx("button",{type:"submit",disabled:!r||m,className:"flex-1 bg-gradient-to-r from-[#8C52FF] to-[#5CE1E6] text-white px-6 py-3 rounded-lg font-semibold hover:opacity-90 hover:shadow-lg hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none cursor-pointer",children:m?"Processing...":`Subscribe ${os(S.price)}/month`})]})]}),p.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[p.jsx("h4",{className:`font-medium ${h.textPrimary} mb-3`,children:"What's included:"}),p.jsx("ul",{className:"space-y-2",children:S.features.map((E,N)=>p.jsxs("li",{className:`flex items-center text-sm ${h.textSecondary}`,children:[p.jsx(Io,{size:16,className:"text-green-500 mr-2"}),E]},N))})]})]})}function pC({planType:i,onSuccess:n,onCancel:a}){return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsx("div",{className:"max-w-md w-full max-h-[90vh] overflow-y-auto",children:p.jsx(Qv,{stripe:t_,children:p.jsx(mC,{planType:i,onSuccess:n,onCancel:a})})})})}function gC({isOpen:i,onClose:n,planType:a}){const{isDarkMode:r}=dn(),o=fn(r),u=jn(),{user:d}=rr();if(!i)return null;O.useEffect(()=>{i&&(d!=null&&d.id)&&a&&wj({userId:d.id,planType:a,userEmail:d.email}).then(v=>{v.success?console.log("✅ User plan updated to:",a):console.error("❌ Failed to update user plan:",v.error)})},[i,d==null?void 0:d.id,a]);const h=()=>{n(),u("/")},g={gold:{name:"Gold Plan",icon:Yn,color:"text-yellow-500",bgColor:"bg-yellow-500",features:["50 Requests/Daily","1.5K Requests/Monthly","Email Support"]},diamond:{name:"Diamond Plan",icon:Wa,color:"text-purple-500",bgColor:"bg-purple-500",features:["150 Requests/Daily","4.5K Requests/Monthly","Priority Support"]}}[a],y=g.icon;return p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:`${o.bgPrimary} rounded-2xl shadow-2xl max-w-md w-full mx-4 border ${o.borderPrimary} overflow-hidden`,children:[p.jsx("div",{className:"relative p-6 pb-4",children:p.jsx("button",{onClick:n,className:`absolute top-4 right-4 p-1 rounded-full ${o.textSecondary} hover:${o.bgHover} transition-colors`,children:p.jsx(Kn,{size:20})})}),p.jsxs("div",{className:"px-6 pb-6 text-center",children:[p.jsxs("div",{className:"relative mb-6",children:[p.jsx("div",{className:"mx-auto w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mb-4",children:p.jsx(Io,{size:40,className:"text-white"})}),p.jsx("div",{className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-8 h-8 ${g.bgColor} rounded-full flex items-center justify-center border-4 ${o.bgPrimary}`,children:p.jsx(y,{size:16,className:"text-white"})})]}),p.jsx("h2",{className:`text-2xl font-bold ${o.textPrimary} mb-2`,children:"Payment Successful! 🎉"}),p.jsxs("p",{className:`text-lg ${o.textSecondary} mb-6`,children:["Welcome to your ",p.jsx("span",{className:`font-semibold ${g.color}`,children:g.name}),"!",p.jsx("br",{}),p.jsxs("span",{className:`text-sm ${o.textMuted}`,children:["Your status has been updated to ",g.name.replace(" Plan"," Member")]})]}),p.jsxs("div",{className:`${o.bgSecondary} rounded-lg p-4 mb-6`,children:[p.jsx("h3",{className:`font-semibold ${o.textPrimary} mb-3`,children:"You now have access to:"}),p.jsx("ul",{className:"space-y-2",children:g.features.map((v,x)=>p.jsxs("li",{className:`flex items-center ${o.textSecondary} text-sm`,children:[p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3 flex-shrink-0"}),v]},x))})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("button",{onClick:h,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold py-3 px-6 rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all duration-200 shadow-lg",children:"Start Using Your Plan"}),p.jsx("button",{onClick:n,className:`w-full ${o.textSecondary} hover:${o.textPrimary} transition-colors text-sm`,children:"Close"})]})]})]})})}function yC({isOpen:i,onClose:n,fromPlan:a,toPlan:r}){const{isDarkMode:o}=dn(),u=fn(o),d=jn();if(!i)return null;const h=()=>{n(),d("/")},m=x=>{switch(x){case"free":return"Free Plan";case"gold":return"Gold Plan";case"diamond":return"Diamond Plan";default:return"Plan"}},g=x=>{switch(x){case"diamond":return Wa;case"gold":case"free":default:return Yn}},y=g(a),v=g(r);return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:`${u.bgPrimary} rounded-2xl shadow-2xl max-w-md w-full mx-auto relative border ${u.borderPrimary}`,children:[p.jsx("button",{onClick:n,className:`absolute top-4 right-4 ${u.textSecondary} hover:${u.textPrimary} transition-colors`,children:p.jsx(Kn,{size:24})}),p.jsxs("div",{className:"p-8 text-center",children:[p.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mb-6",children:p.jsx(Io,{size:32,className:"text-white"})}),p.jsx("h2",{className:`text-2xl font-bold ${u.textPrimary} mb-4`,children:"Plan Changed Successfully!"}),p.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mb-2",children:p.jsx(y,{size:24,className:"text-white"})}),p.jsx("span",{className:`text-sm ${u.textSecondary}`,children:m(a)})]}),p.jsx("div",{className:`text-2xl ${u.textSecondary}`,children:"→"}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"w-12 h-12 bg-gray-500 rounded-full flex items-center justify-center mb-2",children:p.jsx(v,{size:24,className:"text-white"})}),p.jsx("span",{className:`text-sm ${u.textSecondary}`,children:m(r)})]})]}),p.jsxs("div",{className:`${u.bgSecondary} rounded-lg p-4 mb-6`,children:[p.jsx("p",{className:`text-sm ${u.textPrimary} mb-2`,children:p.jsxs("strong",{children:["You've been successfully downgraded to the ",m(r),"!"]})}),p.jsxs("p",{className:`text-sm ${u.textSecondary}`,children:["You'll continue to have access to your ",m(a)," features until the end of your current billing cycle.",r==="gold"&&a==="diamond"&&p.jsx("span",{className:"block mt-2 font-medium",children:"Starting next cycle, you'll be billed for the Gold Plan."}),r==="free"&&p.jsx("span",{className:"block mt-2 font-medium",children:"No further charges will be made to your account."})]})]}),p.jsx("button",{onClick:h,className:"w-full bg-gradient-to-r from-[#8C52FF] to-[#5CE1E6] text-white font-bold py-3 px-6 rounded-lg hover:opacity-90 transition-opacity",children:"Continue to Chat"})]})]})})}function bC(){const i=jn(),[n,a]=O.useState(!1),[r,o]=O.useState(!1),[u,d]=O.useState(!1),[h,m]=O.useState(!1),[g,y]=O.useState(null),[v,x]=O.useState(null),[w,S]=O.useState("free"),R=O.useRef(null),{user:E,signOut:N}=rr(),{isDarkMode:U}=dn(),C=fn(U),D=()=>{if(!E)return"U";const V=E.user_metadata;return V!=null&&V.firstName&&(V!=null&&V.lastName)?`${V.firstName.charAt(0)}${V.lastName.charAt(0)}`.toUpperCase():E.email?E.email.charAt(0).toUpperCase():"U"};O.useEffect(()=>{if(!n)return;function V(oe){R.current&&!R.current.contains(oe.target)&&a(!1)}return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[n]),O.useEffect(()=>{E!=null&&E.id&&lh(E.id,E.email).then(V=>{V.success&&V.user&&S(V.user.plan_type)})},[E==null?void 0:E.id,E==null?void 0:E.email]);function F(){a(!1),i("/login")}function K(){a(!1),i("/signup")}function G(){a(!1),N()}function me(){a(!1),i("/")}function X(V){if(!E){i("/login");return}y(V),o(!0)}function te(){if(!E){i("/login");return}w!=="free"&&Ej(E.id,E.email).then(V=>{V.success?(console.log("✅ User downgraded to free plan successfully"),S("free"),x({from:w,to:"free"}),m(!0)):console.error("❌ Failed to downgrade user to free plan:",V.error)})}function Q(){if(!E){i("/login");return}w==="diamond"?Aj(E.id,E.email).then(V=>{V.success?(console.log("✅ User downgraded to gold plan successfully"),S("gold"),x({from:"diamond",to:"gold"}),m(!0)):console.error("❌ Failed to downgrade user to gold plan:",V.error)}):X("gold")}function pe(){o(!1),d(!0)}function qe(){o(!1),y(null)}function ft(){d(!1),g&&S(g),y(null)}function ve(){m(!1),x(null)}const q=Nf("gold"),J=Nf("diamond");return p.jsxs("div",{className:`min-h-screen ${C.bgPrimary} ${C.textPrimary} relative overflow-hidden flex flex-col`,children:[p.jsxs("div",{className:`flex items-center justify-between px-4 sm:px-6 py-3 relative z-50 border-b ${C.borderPrimary}`,children:[p.jsx("button",{onClick:()=>i("/"),className:`${C.textPrimary} ${C.textSecondary} transition cursor-pointer p-2 ${C.bgHover} rounded-full`,children:p.jsx(Kn,{size:24})}),p.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 font-bold text-lg",children:"PREMIUM"}),p.jsxs("div",{className:"relative",ref:R,children:[p.jsx("div",{className:`h-7 w-7 sm:h-8 sm:w-8 rounded-full cursor-pointer border-2 border-transparent hover:border-[#4285F4] transition ${C.bgSecondary} flex items-center justify-center`,onClick:()=>a(V=>!V),children:E?p.jsx("span",{className:`${C.textPrimary} text-xs font-medium`,children:D()}):p.jsx(sr,{size:16,className:C.textSecondary})}),n&&p.jsxs("div",{className:`absolute right-0 mt-2 w-36 sm:w-40 ${C.bgSecondary} border ${C.borderPrimary} rounded-lg shadow-lg z-50`,children:[!E&&p.jsxs(p.Fragment,{children:[p.jsx("button",{className:`block w-full text-left px-4 py-2.5 text-sm ${C.bgHoverSecondary} ${C.textPrimary} transition-all duration-200 cursor-pointer rounded-t-lg`,onClick:F,children:"Login"}),p.jsx("button",{className:`block w-full text-left px-4 py-2.5 text-sm ${C.bgHoverSecondary} ${C.textPrimary} transition-all duration-200 cursor-pointer`,onClick:K,children:"Sign Up"})]}),E&&p.jsx("button",{className:`block w-full text-left px-4 py-2.5 text-sm ${C.bgHoverSecondary} ${C.textPrimary} transition-all duration-200 cursor-pointer rounded-t-lg`,onClick:()=>{a(!1),i("/profile")},children:"Profile"}),p.jsx("button",{className:`block w-full text-left px-4 py-2.5 text-sm ${C.bgHoverSecondary} ${C.textPrimary} transition-all duration-200 cursor-pointer ${E?"":"rounded-t-lg"}`,onClick:()=>a(!1),children:"Upgrade"}),p.jsx("button",{className:`block w-full text-left px-4 py-2.5 text-sm ${C.bgHoverSecondary} ${C.textPrimary} transition-all duration-200 cursor-pointer ${E?"":"rounded-b-lg"}`,onClick:me,children:"Chat"}),E&&p.jsx("button",{className:`block w-full text-left px-4 py-2.5 text-sm text-red-400 ${C.bgHoverSecondary} hover:text-red-300 transition-all duration-200 cursor-pointer rounded-b-lg`,onClick:G,children:"Logout"})]})]})]}),p.jsx("div",{className:"flex-1 flex items-center justify-center",children:p.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto w-full px-3 sm:px-6 md:px-8 pb-[13px] sm:pb-0",children:[p.jsxs("div",{className:"text-center mb-4 sm:mb-6 md:mb-8 pb-2",children:[p.jsx("h1",{className:"text-xl sm:text-2xl md:text-4xl font-bold mb-2 md:mb-4",children:"StudyPal: AI Homework Helper"}),p.jsx("p",{className:`text-sm sm:text-base md:text-lg ${C.textSecondary} max-w-2xl mx-auto px-2`,children:"Saves time and stress while ensuring clarity and quality in your homework, making it the smart choice for tackling assignments with ease."})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-4 md:gap-6 mb-4 sm:mb-6 pt-2 items-stretch",children:[p.jsxs("div",{className:`${U?"bg-[#2a1052]/80":"bg-purple-50/80"} p-1.5 sm:p-3 md:p-4 rounded-lg sm:rounded-xl md:rounded-2xl border ${U?"border-purple-500/30":"border-purple-200"} backdrop-blur-sm flex flex-col relative`,children:[p.jsxs("div",{className:"bg-[#8C52FF] w-5 h-5 sm:w-8 sm:h-8 md:w-10 md:h-10 flex items-center justify-center rounded-lg md:rounded-xl mb-1 sm:mb-2 md:mb-3",children:[p.jsx(Yn,{size:10,className:"text-white sm:hidden"}),p.jsx(Yn,{size:16,className:"text-white hidden sm:block md:hidden"}),p.jsx(Yn,{size:20,className:"text-white hidden md:block"})]}),p.jsx("h3",{className:"text-xs sm:text-sm md:text-lg font-bold mb-1 sm:mb-2 md:mb-3",children:"Free Plan"}),p.jsxs("ul",{className:`space-y-0.5 sm:space-y-1.5 md:space-y-2 ${C.textSecondary} flex-1 text-xs sm:text-xs md:text-sm`,children:[p.jsxs("li",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[p.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 rounded-full bg-[#8C52FF] flex-shrink-0"}),p.jsx("span",{children:"10 Requests/Daily"})]}),p.jsxs("li",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[p.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 rounded-full bg-[#8C52FF] flex-shrink-0"}),p.jsx("span",{children:"30 Requests/Monthly"})]}),p.jsxs("li",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[p.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 rounded-full bg-[#8C52FF] flex-shrink-0"}),p.jsx("span",{children:"Free Forever"})]}),p.jsxs("li",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[p.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 rounded-full bg-[#8C52FF] flex-shrink-0"}),p.jsx("span",{children:"No Credit Card Required"})]})]}),p.jsx("button",{onClick:()=>w!=="free"?te():void 0,className:`mt-2 w-full text-white text-xs sm:text-sm py-1.5 sm:py-2 rounded-lg transition-opacity ${w==="free"?"bg-gray-500 cursor-default opacity-70":"bg-gradient-to-r from-[#8C52FF] to-[#5CE1E6] hover:opacity-90 cursor-pointer"}`,disabled:w==="free",children:w==="free"?"Current Plan":"Choose Free"})]}),p.jsxs("div",{className:`${U?"bg-[#2a1052]/80":"bg-purple-50/80"} p-1.5 sm:p-3 md:p-4 rounded-lg sm:rounded-xl md:rounded-2xl border ${U?"border-purple-500/30":"border-purple-200"} backdrop-blur-sm flex flex-col relative`,children:[p.jsxs("div",{className:"bg-[#8C52FF] w-5 h-5 sm:w-8 sm:h-8 md:w-10 md:h-10 flex items-center justify-center rounded-lg md:rounded-xl mb-1 sm:mb-2 md:mb-3",children:[p.jsx(Yn,{size:10,className:"text-white sm:hidden"}),p.jsx(Yn,{size:16,className:"text-white hidden sm:block md:hidden"}),p.jsx(Yn,{size:20,className:"text-white hidden md:block"})]}),p.jsx("h3",{className:"text-xs sm:text-sm md:text-lg font-bold mb-1 sm:mb-2 md:mb-3",children:"Gold Plan"}),p.jsxs("p",{className:"text-xs sm:text-sm md:text-base font-bold text-[#8C52FF] mb-1 sm:mb-2",children:[os(q.price),"/month"]}),p.jsxs("ul",{className:`space-y-0.5 sm:space-y-1.5 md:space-y-2 ${C.textSecondary} flex-1 text-xs sm:text-xs md:text-sm`,children:[p.jsxs("li",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[p.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 rounded-full bg-[#8C52FF] flex-shrink-0"}),p.jsx("span",{children:"50 Requests/Daily"})]}),p.jsxs("li",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[p.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 rounded-full bg-[#8C52FF] flex-shrink-0"}),p.jsx("span",{children:"1.5K Requests/Monthly"})]}),p.jsxs("li",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[p.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 rounded-full bg-[#8C52FF] flex-shrink-0"}),p.jsx("span",{children:"Email Support"})]}),p.jsxs("li",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[p.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 rounded-full bg-[#8C52FF] flex-shrink-0"}),p.jsx("span",{children:"24/7 Available"})]})]}),p.jsx("button",{onClick:()=>w!=="gold"?Q():void 0,className:`mt-2 w-full text-white text-xs sm:text-sm py-1.5 sm:py-2 rounded-lg transition-opacity ${w==="gold"?"bg-gray-500 cursor-default opacity-70":"bg-gradient-to-r from-[#8C52FF] to-[#5CE1E6] hover:opacity-90 cursor-pointer"}`,disabled:w==="gold",children:w==="gold"?"Current Plan":"Choose Gold"})]}),p.jsxs("div",{className:`${U?"bg-[#2a1052]/80":"bg-purple-50/80"} p-1.5 sm:p-3 md:p-4 rounded-lg sm:rounded-xl md:rounded-2xl border ${U?"border-purple-500/30":"border-purple-200"} backdrop-blur-sm flex flex-col relative`,children:[p.jsxs("div",{className:"bg-[#8C52FF] w-5 h-5 sm:w-8 sm:h-8 md:w-10 md:h-10 flex items-center justify-center rounded-lg md:rounded-xl mb-1 sm:mb-2 md:mb-3",children:[p.jsx(Wa,{size:10,className:"text-white sm:hidden"}),p.jsx(Wa,{size:16,className:"text-white hidden sm:block md:hidden"}),p.jsx(Wa,{size:20,className:"text-white hidden md:block"})]}),p.jsx("h3",{className:"text-xs sm:text-sm md:text-lg font-bold mb-1 sm:mb-2 md:mb-3",children:"Diamond Plan"}),p.jsxs("p",{className:"text-xs sm:text-sm md:text-base font-bold text-[#8C52FF] mb-1 sm:mb-2",children:[os(J.price),"/month"]}),p.jsxs("ul",{className:`space-y-0.5 sm:space-y-1.5 md:space-y-2 ${C.textSecondary} flex-1 text-xs sm:text-xs md:text-sm`,children:[p.jsxs("li",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[p.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 rounded-full bg-[#8C52FF] flex-shrink-0"}),p.jsx("span",{children:"150 Requests/Daily"})]}),p.jsxs("li",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[p.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 rounded-full bg-[#8C52FF] flex-shrink-0"}),p.jsx("span",{children:"4.5K Requests/Monthly"})]}),p.jsxs("li",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[p.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 rounded-full bg-[#8C52FF] flex-shrink-0"}),p.jsx("span",{children:"Email Support"})]}),p.jsxs("li",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[p.jsx("div",{className:"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 rounded-full bg-[#8C52FF] flex-shrink-0"}),p.jsx("span",{children:"Export History"})]})]}),p.jsx("button",{onClick:()=>w!=="diamond"?X("diamond"):void 0,className:`mt-2 w-full text-white text-xs sm:text-sm py-1.5 sm:py-2 rounded-lg transition-opacity ${w==="diamond"?"bg-gray-500 cursor-default opacity-70":"bg-gradient-to-r from-[#8C52FF] to-[#5CE1E6] hover:opacity-90 cursor-pointer"}`,disabled:w==="diamond",children:w==="diamond"?"Current Plan":"Choose Diamond"})]})]}),p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsx("button",{onClick:()=>X("gold"),className:"w-full p-3 sm:p-4 rounded-xl bg-[#8C52FF] text-white font-bold shadow-lg shadow-purple-500/30 hover:bg-[#7a4ae6] transition-colors text-sm sm:text-base cursor-pointer",children:"Start Free Trial"}),p.jsxs("p",{className:`text-center text-xs sm:text-sm ${C.textMuted} mt-2`,children:["7-day free gold trial, then ",os(q.price),"/month"]})]})]})}),r&&g&&p.jsx(pC,{planType:g,onSuccess:pe,onCancel:qe}),u&&g&&p.jsx(gC,{isOpen:u,planType:g,onClose:ft}),h&&v&&p.jsx(yC,{isOpen:h,fromPlan:v.from,toPlan:v.to,onClose:ve})]})}function vC(){const i=jn(),{user:n,signOut:a}=rr(),{isDarkMode:r}=dn(),[o,u]=O.useState(!1),d=O.useRef(null),h=fn(r),m=()=>{if(!n)return"U";const v=n.user_metadata;return v!=null&&v.firstName&&(v!=null&&v.lastName)?`${v.firstName.charAt(0)}${v.lastName.charAt(0)}`.toUpperCase():n.email?n.email.charAt(0).toUpperCase():"U"};O.useEffect(()=>{if(!o)return;function v(x){d.current&&!d.current.contains(x.target)&&u(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[o]);const g=()=>{u(!1),a()},y=v=>{u(!1),i(v)};return p.jsxs("div",{className:`flex flex-col min-h-screen ${h.bgPrimary} ${h.textPrimary}`,children:[p.jsxs("div",{className:`flex items-center justify-between px-4 sm:px-6 py-3 border-b ${h.borderPrimary} relative z-50`,children:[p.jsx("button",{onClick:()=>i(-1),className:`p-2 ${h.bgHover} rounded-full`,children:p.jsx(Kn,{size:24})}),p.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 font-bold text-lg",children:"MISSION STATEMENT"}),p.jsxs("div",{ref:d,className:"relative",children:[p.jsx("div",{className:`h-8 w-8 rounded-full cursor-pointer border-2 border-transparent hover:border-[#4285F4] transition ${h.bgSecondary} flex items-center justify-center`,onClick:()=>u(v=>!v),children:n?p.jsx("span",{className:`${h.textPrimary} text-xs font-medium`,children:m()}):p.jsx(sr,{size:16,className:h.textSecondary})}),o&&p.jsxs("div",{className:`absolute right-0 mt-2 w-40 ${h.bgSecondary} border ${h.borderPrimary} rounded-lg shadow-lg`,children:[!n&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>y("/login"),className:`block w-full px-4 py-2 text-left ${h.bgHoverSecondary} rounded-t-lg`,children:"Login"}),p.jsx("button",{onClick:()=>y("/signup"),className:`block w-full px-4 py-2 text-left ${h.bgHoverSecondary}`,children:"Sign Up"})]}),p.jsx("button",{onClick:()=>y("/profile"),className:`block w-full px-4 py-2 text-left ${h.bgHoverSecondary} ${n?"rounded-t-lg":""}`,children:"Profile"}),p.jsx("button",{onClick:()=>y("/premium"),className:`block w-full px-4 py-2 text-left ${h.bgHoverSecondary}`,children:"Upgrade"}),p.jsx("button",{onClick:()=>y("/"),className:`block w-full px-4 py-2 text-left ${h.bgHoverSecondary} ${n?"":"rounded-b-lg"}`,children:"Chat"}),n&&p.jsx("button",{onClick:g,className:`block w-full px-4 py-2 text-left text-red-400 ${h.bgHoverSecondary} hover:text-red-300 rounded-b-lg`,children:"Logout"})]})]})]}),p.jsx("div",{className:"flex-grow py-8 px-4 sm:px-6",children:p.jsxs("main",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-[#8C52FF] to-[#5CE1E6] flex items-center justify-center mx-auto mb-6",children:p.jsx(Iy,{size:48,className:"text-white"})}),p.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-[#8C52FF] to-[#5CE1E6] bg-clip-text text-transparent",children:"Our Mission"}),p.jsx("p",{className:`text-xl ${h.textSecondary} max-w-2xl mx-auto`,children:"Empowering students worldwide to achieve academic excellence through intelligent, personalized learning assistance."})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:[p.jsxs("div",{className:`${h.bgSecondary} p-6 rounded-lg border ${h.borderPrimary}`,children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-[#8C52FF]/20 flex items-center justify-center mb-4",children:p.jsx(DE,{size:24,className:"text-[#8C52FF]"})}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Innovation"}),p.jsx("p",{className:h.textSecondary,children:"Leveraging cutting-edge AI technology to create smarter, more intuitive learning experiences."})]}),p.jsxs("div",{className:`${h.bgSecondary} p-6 rounded-lg border ${h.borderPrimary}`,children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-[#5CE1E6]/20 flex items-center justify-center mb-4",children:p.jsx(kE,{size:24,className:"text-[#5CE1E6]"})}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accessibility"}),p.jsx("p",{className:h.textSecondary,children:"Making quality education assistance available to students everywhere, regardless of background or resources."})]}),p.jsxs("div",{className:`${h.bgSecondary} p-6 rounded-lg border ${h.borderPrimary}`,children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-[#8C52FF]/20 flex items-center justify-center mb-4",children:p.jsx(Iy,{size:24,className:"text-[#8C52FF]"})}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Excellence"}),p.jsx("p",{className:h.textSecondary,children:"Committed to delivering the highest quality educational support and continuously improving our platform."})]})]}),p.jsxs("div",{className:`${h.bgSecondary} p-8 rounded-lg border ${h.borderPrimary} mb-8`,children:[p.jsx("h2",{className:"text-2xl font-bold mb-6",children:"What We Stand For"}),p.jsxs("div",{className:`space-y-4 ${h.textSecondary}`,children:[p.jsx("p",{children:"At StudyPal AI, we believe that every student deserves access to personalized, intelligent tutoring that adapts to their unique learning style and pace. Our mission is to democratize education by providing AI-powered assistance that helps students understand complex concepts, solve challenging problems, and achieve their academic goals."}),p.jsx("p",{children:"We are committed to creating a learning environment that is inclusive, supportive, and empowering. Our AI tutor is designed not just to provide answers, but to guide students through the learning process, helping them develop critical thinking skills and deep understanding of their subjects."}),p.jsx("p",{children:"Through continuous innovation and dedication to educational excellence, we strive to bridge the gap between traditional learning methods and the digital future of education, making quality tutoring accessible to students worldwide."})]})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Join Our Mission"}),p.jsx("p",{className:`${h.textSecondary} mb-6`,children:"Be part of the educational revolution. Start your learning journey with StudyPal AI today."}),p.jsx("button",{onClick:()=>i("/"),className:"bg-gradient-to-r from-[#8C52FF] to-[#5CE1E6] text-white px-8 py-3 rounded-lg font-semibold hover:opacity-90 transition",children:"Start Learning"})]})]})})]})}function _C(){const i=jn(),{user:n,signOut:a}=rr(),{isDarkMode:r}=dn(),[o,u]=O.useState(!1),[d,h]=O.useState({name:"",email:"",subject:"",message:""}),[m,g]=O.useState(!1),[y,v]=O.useState("idle"),x=O.useRef(null),w=fn(r),S=()=>{if(!n)return"U";const C=n.user_metadata;return C!=null&&C.firstName&&(C!=null&&C.lastName)?`${C.firstName.charAt(0)}${C.lastName.charAt(0)}`.toUpperCase():n.email?n.email.charAt(0).toUpperCase():"U"};O.useEffect(()=>{if(!o)return;function C(D){x.current&&!x.current.contains(D.target)&&u(!1)}return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[o]),O.useEffect(()=>{n&&h(C=>{var D,F,K;return{...C,name:(D=n.user_metadata)!=null&&D.firstName&&((F=n.user_metadata)!=null&&F.lastName)?`${n.user_metadata.firstName} ${n.user_metadata.lastName}`:((K=n.email)==null?void 0:K.split("@")[0])||"",email:n.email||""}})},[n]);const R=()=>{u(!1),a()},E=C=>{u(!1),i(C)},N=C=>{const{name:D,value:F}=C.target;h(K=>({...K,[D]:F}))},U=async C=>{C.preventDefault(),g(!0),v("idle");try{await new Promise(D=>setTimeout(D,2e3)),v("success"),h({name:"",email:"",subject:"",message:""})}catch{v("error")}finally{g(!1)}};return p.jsxs("div",{className:`flex flex-col min-h-screen ${w.bgPrimary} ${w.textPrimary}`,children:[p.jsxs("div",{className:`flex items-center justify-between px-4 sm:px-6 py-3 border-b ${w.borderPrimary} relative z-50`,children:[p.jsx("button",{onClick:()=>i(-1),className:`p-2 ${w.bgHover} rounded-full`,children:p.jsx(Kn,{size:24})}),p.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 font-bold text-lg",children:"CONTACT US"}),p.jsxs("div",{ref:x,className:"relative",children:[p.jsx("div",{className:`h-8 w-8 rounded-full cursor-pointer border-2 border-transparent hover:border-[#4285F4] transition ${w.bgSecondary} flex items-center justify-center`,onClick:()=>u(C=>!C),children:n?p.jsx("span",{className:`${w.textPrimary} text-xs font-medium`,children:S()}):p.jsx(sr,{size:16,className:w.textSecondary})}),o&&p.jsxs("div",{className:`absolute right-0 mt-2 w-40 ${w.bgSecondary} border ${w.borderPrimary} rounded-lg shadow-lg`,children:[!n&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>E("/login"),className:`block w-full px-4 py-2 text-left ${w.bgHoverSecondary} rounded-t-lg`,children:"Login"}),p.jsx("button",{onClick:()=>E("/signup"),className:`block w-full px-4 py-2 text-left ${w.bgHoverSecondary}`,children:"Sign Up"})]}),p.jsx("button",{onClick:()=>E("/profile"),className:`block w-full px-4 py-2 text-left ${w.bgHoverSecondary} ${n?"rounded-t-lg":""}`,children:"Profile"}),p.jsx("button",{onClick:()=>E("/premium"),className:`block w-full px-4 py-2 text-left ${w.bgHoverSecondary}`,children:"Upgrade"}),p.jsx("button",{onClick:()=>E("/"),className:`block w-full px-4 py-2 text-left ${w.bgHoverSecondary} ${n?"":"rounded-b-lg"}`,children:"Chat"}),n&&p.jsx("button",{onClick:R,className:`block w-full px-4 py-2 text-left text-red-400 ${w.bgHoverSecondary} hover:text-red-300 rounded-b-lg`,children:"Logout"})]})]})]}),p.jsx("div",{className:"flex-grow py-8 px-4 sm:px-6",children:p.jsxs("main",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-[#8C52FF] to-[#5CE1E6] flex items-center justify-center mx-auto mb-6",children:p.jsx(y0,{size:48,className:"text-white"})}),p.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-[#8C52FF] to-[#5CE1E6] bg-clip-text text-transparent",children:"Get In Touch"}),p.jsx("p",{className:`text-xl ${w.textSecondary} max-w-2xl mx-auto`,children:"We're here to help! Reach out to us with any questions, feedback, or support needs."})]}),p.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[p.jsxs("div",{className:`${w.bgSecondary} p-8 rounded-lg border ${w.borderPrimary}`,children:[p.jsx("h2",{className:`text-2xl font-bold mb-6 ${w.textPrimary}`,children:"Send us a Message"}),y==="success"&&p.jsx("div",{className:`mb-6 p-4 ${r?"bg-green-900/20 border-green-800/30":"bg-green-50 border-green-200"} border rounded-lg ${r?"text-green-400":"text-green-800"}`,children:"Thank you for your message! We'll get back to you soon."}),y==="error"&&p.jsx("div",{className:`mb-6 p-4 ${r?"bg-red-900/20 border-red-800/30":"bg-red-50 border-red-200"} border rounded-lg ${r?"text-red-400":"text-red-800"}`,children:"Something went wrong. Please try again later."}),p.jsxs("form",{onSubmit:U,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-2 ${w.textPrimary}`,children:"Name"}),p.jsx("input",{type:"text",id:"name",name:"name",value:d.name,onChange:N,required:!0,className:`w-full rounded-lg ${w.inputBg} border ${w.inputBorder} px-4 py-2.5 ${w.inputPlaceholder} focus:outline-none ${w.inputFocus} transition`,placeholder:"Your full name",disabled:m})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 ${w.textPrimary}`,children:"Email"}),p.jsx("input",{type:"email",id:"email",name:"email",value:d.email,onChange:N,required:!0,className:`w-full rounded-lg ${w.inputBg} border ${w.inputBorder} px-4 py-2.5 ${w.inputPlaceholder} focus:outline-none ${w.inputFocus} transition`,placeholder:"your.email@example.com",disabled:m})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"subject",className:`block text-sm font-medium mb-2 ${w.textPrimary}`,children:"Subject"}),p.jsx("input",{type:"text",id:"subject",name:"subject",value:d.subject,onChange:N,required:!0,className:`w-full rounded-lg ${w.inputBg} border ${w.inputBorder} px-4 py-2.5 ${w.inputPlaceholder} focus:outline-none ${w.inputFocus} transition`,placeholder:"How can we help you?",disabled:m})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-2 ${w.textPrimary}`,children:"Message"}),p.jsx("textarea",{id:"message",name:"message",value:d.message,onChange:N,required:!0,rows:5,className:`w-full rounded-lg ${w.inputBg} border ${w.inputBorder} px-4 py-2.5 ${w.inputPlaceholder} focus:outline-none ${w.inputFocus} transition resize-y`,placeholder:"Tell us more about your question or feedback...",disabled:m})]}),p.jsx("button",{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-[#8C52FF] to-[#5CE1E6] text-white px-6 py-3 rounded-lg font-semibold hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:m?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Sending..."]}):p.jsxs(p.Fragment,{children:[p.jsx(df,{size:16}),"Send Message"]})})]})]}),p.jsx("div",{className:"space-y-8",children:p.jsxs("div",{className:`${w.bgSecondary} p-6 rounded-lg border ${w.borderPrimary}`,children:[p.jsx("h3",{className:`text-xl font-semibold mb-4 ${w.textPrimary}`,children:"Contact Information"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-[#8C52FF]/20 flex items-center justify-center",children:p.jsx(HE,{size:20,className:"text-[#8C52FF]"})}),p.jsxs("div",{children:[p.jsx("p",{className:`font-medium ${w.textPrimary}`,children:"Email"}),p.jsx("p",{className:w.textSecondary,children:"support@studypal-ai.com"})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-[#5CE1E6]/20 flex items-center justify-center",children:p.jsx(VE,{size:20,className:"text-[#5CE1E6]"})}),p.jsxs("div",{children:[p.jsx("p",{className:`font-medium ${w.textPrimary}`,children:"Phone"}),p.jsx("p",{className:w.textSecondary,children:"+1 (555) 123-4567"})]})]})]})]})})]})]})})]})}async function xC(){var n,a;const i={clientInitialized:!1,databaseConnected:!1,authServiceAccessible:!1,environmentVariables:!1,currentSession:!1,errors:{}};try{console.log("🔄 Testing Supabase connection..."),i.clientInitialized=!!fe,console.log("✅ Supabase client initialized:",i.clientInitialized);const r="https://xphgwzbxwwaqoaedfsoq.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhwaGd3emJ4d3dhcW9hZWRmc29xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyMjU0ODgsImV4cCI6MjA2NjgwMTQ4OH0.J6lqFQjg41BsaA1i0yWeIkAR_yN2ia7_FgkTnxmdzLU";i.environmentVariables=!!(r&&o),console.log("📝 Environment check:"),console.log("  - URL:",r||"MISSING"),console.log("  - Key:",o?`${o.substring(0,20)}...`:"MISSING"),console.log("✅ Environment variables loaded:",i.environmentVariables);try{if(console.log("🔍 Testing database connection..."),!fe)throw new Error("Supabase client is not initialized");const{data:d,error:h}=await fe.from("test_table").select("*").limit(1);console.log("📝 Database response:",{data:d,error:h}),i.databaseConnected=!h||h.code==="PGRST116"||((n=h.message)==null?void 0:n.includes("relation"))||((a=h.message)==null?void 0:a.includes("does not exist")),h&&!i.databaseConnected&&(i.errors.database={code:h.code,message:h.message,details:h.details,hint:h.hint}),console.log("✅ Database connection test:",i.databaseConnected)}catch(d){console.log("❌ Database connection error:",d),i.errors.database={message:d instanceof Error?d.message:"Unknown database error",stack:d instanceof Error?d.stack:void 0},i.databaseConnected=!1}try{if(console.log("🔍 Testing auth service..."),!fe)throw new Error("Supabase client is not initialized");const{data:{session:d},error:h}=await fe.auth.getSession();console.log("📝 Auth response:",{session:!!d,error:h}),i.authServiceAccessible=!h,i.currentSession=!!d,h&&(i.errors.auth={message:h.message,status:h.status}),console.log("✅ Auth service accessible:",i.authServiceAccessible),console.log("📝 Current session:",d?"Logged in":"Not logged in")}catch(d){console.log("❌ Auth service error:",d),i.errors.auth={message:d instanceof Error?d.message:"Unknown auth error",stack:d instanceof Error?d.stack:void 0},i.authServiceAccessible=!1}try{console.log("🔍 Testing direct REST API connectivity...");const d=await fetch(`${r}/rest/v1/`,{headers:{apikey:o,Authorization:`Bearer ${o}`}});console.log("📝 REST API response status:",d.status),i.errors.restApi=d.status!==200?`Status: ${d.status}`:null}catch(d){console.log("❌ REST API error:",d),i.errors.restApi=d instanceof Error?d.message:"Unknown REST API error"}const u=i.clientInitialized&&i.environmentVariables&&i.databaseConnected&&i.authServiceAccessible;return{success:u,message:u?"🎉 All Supabase tests passed! Your setup is working correctly.":"🚨 Supabase setup has issues",details:i}}catch(r){return console.error("❌ Supabase test failed with unexpected error:",r),{success:!1,message:"🚨 Supabase test failed with unexpected error",error:r instanceof Error?r.message:"Unknown error",details:{...i,unexpectedError:{message:r instanceof Error?r.message:"Unknown error",stack:r instanceof Error?r.stack:void 0}}}}}async function wC(){console.log("🚀 Starting quick Supabase test...");const i="https://xphgwzbxwwaqoaedfsoq.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhwaGd3emJ4d3dhcW9hZWRmc29xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyMjU0ODgsImV4cCI6MjA2NjgwMTQ4OH0.J6lqFQjg41BsaA1i0yWeIkAR_yN2ia7_FgkTnxmdzLU";console.log("📋 Environment variables:"),console.log("  URL:",i),console.log("  Key:",`${n.substring(0,20)}...`);try{const a=d0(i,n);console.log("✅ Supabase client created"),console.log("🔍 Testing auth service...");const{data:r,error:o}=await a.auth.getUser();console.log("Auth result:",{data:r,error:o}),console.log("🔍 Testing session...");const{data:u,error:d}=await a.auth.getSession();console.log("Session result:",{data:u,error:d}),console.log("🔍 Testing database query...");const{data:h,error:m}=await a.from("profiles").select("*").limit(1);return console.log("Database result:",{data:h,error:m}),{success:!0,message:"Quick test completed",results:{auth:{data:r,error:o},session:{data:u,error:d},database:{data:h,error:m}}}}catch(a){return console.error("❌ Quick test failed:",a),{success:!1,message:"Quick test failed",error:a}}}const SC=()=>{const[i,n]=O.useState(null),[a,r]=O.useState(null),[o,u]=O.useState(!0),{isDarkMode:d}=dn(),h=fn(d);return O.useEffect(()=>{(async()=>{u(!0),console.log("🏃‍♂️ Running comprehensive tests...");const[g,y]=await Promise.all([xC(),wC()]);n(g),r(y),u(!1)})()},[]),p.jsx("div",{className:`min-h-screen ${d?"bg-gradient-to-br from-blue-900 to-purple-900":"bg-gradient-to-br from-blue-50 to-purple-50"} p-4`,children:p.jsx("div",{className:"max-w-4xl mx-auto",children:p.jsxs("div",{className:`${h.bgPrimary} rounded-xl shadow-lg p-6`,children:[p.jsx("h1",{className:`text-3xl font-bold ${h.textPrimary} mb-6`,children:"Supabase Connection Test"}),o?p.jsxs("div",{className:"flex items-center justify-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),p.jsx("span",{className:`ml-3 text-lg ${h.textSecondary}`,children:"Running tests..."})]}):i?p.jsx("div",{className:"space-y-4",children:p.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${i.success?`${d?"bg-green-900/20":"bg-green-50"} border-green-400`:`${d?"bg-red-900/20":"bg-red-50"} border-red-400`}`,children:[p.jsxs("div",{className:"flex items-center mb-2",children:[p.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-3 ${i.success?"bg-green-400":"bg-red-400"}`}),p.jsx("h3",{className:`font-semibold text-lg ${h.textPrimary}`,children:"Supabase Connection Test"})]}),p.jsx("p",{className:`${h.textSecondary} mb-2`,children:i.message}),i.details&&p.jsx("pre",{className:`${h.bgSecondary} p-3 rounded text-sm overflow-x-auto ${h.textPrimary}`,children:JSON.stringify(i.details,null,2)}),i.error&&p.jsxs("div",{className:`mt-3 p-3 ${d?"bg-red-900/30":"bg-red-100"} rounded`,children:[p.jsx("p",{className:"text-red-600 font-medium",children:"Error Details:"}),p.jsx("pre",{className:"text-red-500 text-sm mt-1",children:JSON.stringify(i.error,null,2)})]})]})}):p.jsx("div",{className:"text-center py-8",children:p.jsx("p",{className:h.textSecondary,children:"No test results available"})}),p.jsxs("div",{className:`mt-8 pt-6 border-t ${h.borderPrimary}`,children:[p.jsx("h2",{className:`text-xl font-semibold mb-4 ${h.textPrimary}`,children:"Quick Test Results"}),a&&p.jsx("div",{className:`${h.bgSecondary} p-4 rounded-lg`,children:p.jsx("pre",{className:`text-sm overflow-x-auto ${h.textPrimary}`,children:JSON.stringify(a,null,2)})})]}),p.jsxs("div",{className:`mt-8 pt-6 border-t ${h.borderPrimary}`,children:[p.jsx("h2",{className:`text-xl font-semibold mb-4 ${h.textPrimary}`,children:"Next Steps"}),i!=null&&i.success?p.jsx("div",{className:`${d?"bg-green-900/20":"bg-green-50"} p-4 rounded-lg`,children:p.jsx("p",{className:"text-green-600",children:"🎉 All tests passed! Your Supabase integration is working correctly. You can now proceed with implementing authentication in your Login and SignUp pages."})}):p.jsx("div",{className:`${d?"bg-yellow-900/20":"bg-yellow-50"} p-4 rounded-lg`,children:p.jsx("p",{className:"text-yellow-600",children:"⚠️ Tests failed. Please check the error details above and verify your environment variables. Make sure your .env.local file contains the correct VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY."})})]})]})})})};function EC(){return p.jsx(hE,{children:p.jsx(fE,{children:p.jsx(KS,{children:p.jsxs(jS,{children:[p.jsx(_n,{path:"/login",element:p.jsx(lA,{})}),p.jsx(_n,{path:"/signup",element:p.jsx(oA,{})}),p.jsx(_n,{path:"/",element:p.jsx(bb,{})}),p.jsx(_n,{path:"/chat",element:p.jsx(bb,{})}),p.jsx(_n,{path:"/profile",element:p.jsx(Nj,{})}),p.jsx(_n,{path:"/premium",element:p.jsx(bC,{})}),p.jsx(_n,{path:"/mission",element:p.jsx(vC,{})}),p.jsx(_n,{path:"/contact",element:p.jsx(_C,{})}),p.jsx(_n,{path:"/test-supabase",element:p.jsx(SC,{})})]})})})})}Mw.createRoot(document.getElementById("root")).render(p.jsx(Me.StrictMode,{children:p.jsx(EC,{})}));
